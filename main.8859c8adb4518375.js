(self.webpackChunkLetsgoPwa=self.webpackChunkLetsgoPwa||[]).push([[179],{6217:(He,be,L)=>{"use strict";L.d(be,{nm:()=>hn});var w=L(263);L(4650),L(259);var ct=L(5861),At=L(9681),bt=L(4859),Bt=L(2090),ze=L(1877);const ht=new Map,Ft={activated:!1,tokenObservers:[]},Qt={initialized:!1,enabled:!1};function jt(De){return ht.get(De)||Object.assign({},Ft)}function vn(){return Qt}class En{constructor(Te,Ke,Nt,rn,On){if(this.operation=Te,this.retryPolicy=Ke,this.getWaitDuration=Nt,this.lowerBound=rn,this.upperBound=On,this.pending=null,this.nextErrorWaitInterval=rn,rn>On)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Te){var Ke=this;return(0,ct.Z)(function*(){Ke.stop();try{Ke.pending=new Bt.BH,yield function dn(De){return new Promise(Te=>{setTimeout(Te,De)})}(Ke.getNextRun(Te)),Ke.pending.resolve(),yield Ke.pending.promise,Ke.pending=new Bt.BH,yield Ke.operation(),Ke.pending.resolve(),yield Ke.pending.promise,Ke.process(!0).catch(()=>{})}catch(Nt){Ke.retryPolicy(Nt)?Ke.process(!1).catch(()=>{}):Ke.stop()}})()}getNextRun(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ke=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ke}}}const mn=new Bt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wn(De){if(!jt(De).activated)throw mn.create("use-before-activation",{appName:De.name})}function yr(De,Te){return dr.apply(this,arguments)}function dr(){return(dr=(0,ct.Z)(function*({url:De,body:Te},Ke){const Nt={"Content-Type":"application/json"},rn=Ke.getImmediate({optional:!0});if(rn){const Je=yield rn.getHeartbeatsHeader();Je&&(Nt["X-Firebase-Client"]=Je)}const On={method:"POST",body:JSON.stringify(Te),headers:Nt};let Nn,Cr;try{Nn=yield fetch(De,On)}catch(Je){throw mn.create("fetch-network-error",{originalErrorMessage:Je?.message})}if(200!==Nn.status)throw mn.create("fetch-status-error",{httpStatus:Nn.status});try{Cr=yield Nn.json()}catch(Je){throw mn.create("fetch-parse-error",{originalErrorMessage:Je?.message})}const xr=Cr.ttl.match(/^([\d.]+)(s)$/);if(!xr||!xr[2]||isNaN(Number(xr[1])))throw mn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Cr.ttl}`});const Bi=1e3*Number(xr[1]),us=Date.now();return{token:Cr.token,expireTimeMillis:us+Bi,issuedAtTimeMillis:us}})).apply(this,arguments)}function Wr(De,Te){const{projectId:Ke,appId:Nt,apiKey:rn}=De.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ke}/apps/${Nt}:exchangeDebugToken?key=${rn}`,body:{debug_token:Te}}}const rr="firebase-app-check-store";let Yr=null;function yn(){return Yr||(Yr=new Promise((De,Te)=>{try{const Ke=indexedDB.open("firebase-app-check-database",1);Ke.onsuccess=Nt=>{De(Nt.target.result)},Ke.onerror=Nt=>{var rn;Te(mn.create("storage-open",{originalErrorMessage:null===(rn=Nt.target.error)||void 0===rn?void 0:rn.message}))},Ke.onupgradeneeded=Nt=>{0===Nt.oldVersion&&Nt.target.result.createObjectStore(rr,{keyPath:"compositeKey"})}}catch(Ke){Te(mn.create("storage-open",{originalErrorMessage:Ke?.message}))}}),Yr)}function St(){return(St=(0,ct.Z)(function*(De,Te){const Nt=(yield yn()).transaction(rr,"readwrite"),On=Nt.objectStore(rr).put({compositeKey:De,value:Te});return new Promise((Nn,Cr)=>{On.onsuccess=xr=>{Nn()},Nt.onerror=xr=>{var Bi;Cr(mn.create("storage-set",{originalErrorMessage:null===(Bi=xr.target.error)||void 0===Bi?void 0:Bi.message}))}})})).apply(this,arguments)}const jn=new ze.Yd("@firebase/app-check");function In(De,Te){return(0,Bt.hl)()?function Fi(De,Te){return function qr(De,Te){return St.apply(this,arguments)}(function Fn(De){return`${De.options.appId}-${De.name}`}(De),Te)}(De,Te).catch(Ke=>{jn.warn(`Failed to write token to IndexedDB. Error: ${Ke}`)}):Promise.resolve()}function hs(){return vn().enabled}function lr(){return os.apply(this,arguments)}function os(){return(os=(0,ct.Z)(function*(){const De=vn();if(De.enabled&&De.token)return De.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const on={error:"UNKNOWN_ERROR"};function $t(De){return Bt.US.encodeString(JSON.stringify(De),!1)}function Tn(De){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,ct.Z)(function*(De,Te=!1){const Ke=De.app;wn(Ke);const Nt=jt(Ke);let On,rn=Nt.token;if(rn&&!Ce(rn)&&(Nt.token=void 0,rn=void 0),!rn){const xr=yield Nt.cachedTokenPromise;xr&&(Ce(xr)?rn=xr:yield In(Ke,void 0))}if(!Te&&rn&&Ce(rn))return{token:rn.token};let Cr,Nn=!1;if(hs()){Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=yr(Wr(Ke,yield lr()),De.heartbeatServiceProvider).finally(()=>{Nt.exchangeTokenPromise=void 0}),Nn=!0);const xr=yield Nt.exchangeTokenPromise;return yield In(Ke,xr),Nt.token=xr,{token:xr.token}}try{Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=Nt.provider.getToken().finally(()=>{Nt.exchangeTokenPromise=void 0}),Nn=!0),rn=yield jt(Ke).exchangeTokenPromise}catch(xr){"appCheck/throttled"===xr.code?jn.warn(xr.message):jn.error(xr),On=xr}return rn?On?Cr=Ce(rn)?{token:rn.token,internalError:On}:ue(On):(Cr={token:rn.token},Nt.token=rn,yield In(Ke,rn)):Cr=ue(On),Nn&&je(Ke,Cr),Cr})).apply(this,arguments)}function Ar(De,Te){const Ke=jt(De),Nt=Ke.tokenObservers.filter(rn=>rn.next!==Te);0===Nt.length&&Ke.tokenRefresher&&Ke.tokenRefresher.isRunning()&&Ke.tokenRefresher.stop(),Ke.tokenObservers=Nt}function Ue(De){const{app:Te}=De,Ke=jt(Te);let Nt=Ke.tokenRefresher;Nt||(Nt=function Se(De){const{app:Te}=De;return new En((0,ct.Z)(function*(){let Nt;if(Nt=jt(Te).token?yield Tn(De,!0):yield Tn(De),Nt.error)throw Nt.error;if(Nt.internalError)throw Nt.internalError}),()=>!0,()=>{const Ke=jt(Te);if(Ke.token){let Nt=Ke.token.issuedAtTimeMillis+.5*(Ke.token.expireTimeMillis-Ke.token.issuedAtTimeMillis)+3e5;return Nt=Math.min(Nt,Ke.token.expireTimeMillis-3e5),Math.max(0,Nt-Date.now())}return 0},3e4,96e4)}(De),Ke.tokenRefresher=Nt),!Nt.isRunning()&&Ke.isTokenAutoRefreshEnabled&&Nt.start()}function je(De,Te){const Ke=jt(De).tokenObservers;for(const Nt of Ke)try{"EXTERNAL"===Nt.type&&null!=Te.error?Nt.error(Te.error):Nt.next(Te)}catch{}}function Ce(De){return De.expireTimeMillis-Date.now()>0}function ue(De){return{token:$t(on),error:De}}class Ae{constructor(Te,Ke){this.app=Te,this.heartbeatServiceProvider=Ke}_delete(){const{tokenObservers:Te}=jt(this.app);for(const Ke of Te)Ar(this.app,Ke.next);return Promise.resolve()}}const hr="app-check-internal";!function Gi(){(0,At._registerComponent)(new bt.wA("app-check",De=>function vt(De,Te){return new Ae(De,Te)}(De.getProvider("app").getImmediate(),De.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((De,Te,Ke)=>{De.getProvider(hr).initialize()})),(0,At._registerComponent)(new bt.wA(hr,De=>function Kt(De){return{getToken:Te=>Tn(De,Te),addTokenListener:Te=>function Zt(De,Te,Ke,Nt){const{app:rn}=De,On=jt(rn);if(On.tokenObservers=[...On.tokenObservers,{next:Ke,error:Nt,type:Te}],On.token&&Ce(On.token)){const Cr=On.token;Promise.resolve().then(()=>{Ke({token:Cr.token}),Ue(De)}).catch(()=>{})}On.cachedTokenPromise.then(()=>Ue(De))}(De,"INTERNAL",Te),removeTokenListener:Te=>Ar(De.app,Te)}}(De.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,At.registerVersion)("@firebase/app-check","0.6.1")}();class hn{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window},1041:(He,be,L)=>{"use strict";L.d(be,{zQ:()=>vn,ww:()=>mt,rT:()=>Ft,f7:()=>jt,L6:()=>ze,_Q:()=>ht,lh:()=>Qt,Qv:()=>Bt,nw:()=>Jn});var w=L(4650),M=L(7579),l=L(9646),pe=L(9751),me=L(8996),Me=L(6451),Ie=L(5363),_e=L(3900),Ee=L(4004),ge=L(4707),we=L(3099);function Ne(st,Dt,Lt){let Wt,qt=!1;return st&&"object"==typeof st?({bufferSize:Wt=1/0,windowTime:Dt=1/0,refCount:qt=!1,scheduler:Lt}=st):Wt=st??1/0,(0,we.B)({connector:()=>new ge.t(Wt,Dt,Lt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qt})}var at=L(590),Ye=L(576);function yt(st,Dt){return(0,Ye.m)(Dt)?(0,_e.w)(()=>st,Dt):(0,_e.w)(()=>st)}var lt=L(9468),Ze=L(9300),ot=L(263),it=L(2011),wt=L(6895),ct=L(6217),At=L(9260);const Bt=new w.OlP("angularfire2.auth.use-emulator"),ze=new w.OlP("angularfire2.auth.settings"),ht=new w.OlP("angularfire2.auth.tenant-id"),Ft=new w.OlP("angularfire2.auth.langugage-code"),Qt=new w.OlP("angularfire2.auth.use-device-language"),jt=new w.OlP("angularfire.auth.persistence"),Jn=(st,Dt,Lt,Wt,qt,En,dn,An)=>(0,it.cc)(`${st.name}.auth`,"AngularFireAuth",st.name,()=>{const mn=Dt.runOutsideAngular(()=>st.auth());if(Lt&&mn.useEmulator(...Lt),Wt&&(mn.tenantId=Wt),mn.languageCode=qt,En&&mn.useDeviceLanguage(),dn)for(const[Un,wn]of Object.entries(dn))mn.settings[Un]=wn;return An&&mn.setPersistence(An),mn},[Lt,Wt,qt,En,dn,An]);let vn=(()=>{class st{constructor(Lt,Wt,qt,En,dn,An,mn,Un,wn,Pr,Br,yr){const dr=new M.x,Qn=(0,l.of)(void 0).pipe((0,Ie.Q)(dn.outsideAngular),(0,_e.w)(()=>En.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Ee.U)(()=>(0,it.on)(Lt,En,Wt)),(0,Ee.U)(Zr=>Jn(Zr,En,An,Un,wn,Pr,mn,Br)),Ne({bufferSize:1,refCount:!1}));if((0,wt.PM)(qt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,l.of)(null);else{Qn.pipe((0,at.P)()).subscribe();const Wr=Qn.pipe((0,_e.w)(rr=>rr.getRedirectResult().then(Xn=>Xn,()=>null)),ot.iC,Ne({bufferSize:1,refCount:!1})),br=Qn.pipe((0,_e.w)(rr=>new pe.y(Xn=>({unsubscribe:En.runOutsideAngular(()=>rr.onAuthStateChanged(Yr=>Xn.next(Yr),Yr=>Xn.error(Yr),()=>Xn.complete()))})))),pi=Qn.pipe((0,_e.w)(rr=>new pe.y(Xn=>({unsubscribe:En.runOutsideAngular(()=>rr.onIdTokenChanged(Yr=>Xn.next(Yr),Yr=>Xn.error(Yr),()=>Xn.complete()))}))));this.authState=Wr.pipe(yt(br),(0,lt.R)(dn.outsideAngular),(0,Ie.Q)(dn.insideAngular)),this.user=Wr.pipe(yt(pi),(0,lt.R)(dn.outsideAngular),(0,Ie.Q)(dn.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(rr=>rr?(0,me.D)(rr.getIdToken()):(0,l.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(rr=>rr?(0,me.D)(rr.getIdTokenResult()):(0,l.of)(null))),this.credential=(0,Me.T)(Wr,dr,this.authState.pipe((0,Ze.h)(rr=>!rr))).pipe((0,Ee.U)(rr=>rr?.user?rr:null),(0,lt.R)(dn.outsideAngular),(0,Ie.Q)(dn.insideAngular))}return(0,it.pX)(this,Qn,En,{spy:{apply:(Zr,Wr,br)=>{(Zr.startsWith("signIn")||Zr.startsWith("createUser"))&&br.then(pi=>dr.next(pi))}}})}}return st.\u0275fac=function(Lt){return new(Lt||st)(w.LFG(it.Dh),w.LFG(it.xv,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(ot.HU),w.LFG(Bt,8),w.LFG(ze,8),w.LFG(ht,8),w.LFG(Ft,8),w.LFG(Qt,8),w.LFG(jt,8),w.LFG(ct.nm,8))},st.\u0275prov=w.Yz7({token:st,factory:st.\u0275fac,providedIn:"any"}),st})(),mt=(()=>{class st{constructor(){At.Z.registerVersion("angularfire",ot.q4.full,"auth-compat")}}return st.\u0275fac=function(Lt){return new(Lt||st)},st.\u0275mod=w.oAB({type:st}),st.\u0275inj=w.cJS({providers:[vn]}),st})()},2011:(He,be,L)=>{"use strict";L.d(be,{Dh:()=>_e,GT:()=>Me,cc:()=>Ye,hO:()=>at,on:()=>ge,pX:()=>me,xv:()=>Ee});var w=L(4650),M=L(9260),l=L(263);He=L.hmd(He);const pe=["ngOnDestroy"],me=(ot,it,wt,ct={})=>new Proxy(ot,{get:(At,bt)=>wt.runOutsideAngular(()=>{var Bt;if(ot[bt])return!(null===(Bt=ct?.spy)||void 0===Bt)&&Bt.get&&ct.spy.get(bt,ot[bt]),ot[bt];if(pe.indexOf(bt)>-1)return()=>{};const ze=it.toPromise().then(ht=>{const Ft=ht&&ht[bt];return"function"==typeof Ft?Ft.bind(ht):Ft&&Ft.then?Ft.then(Qt=>wt.run(()=>Qt)):wt.run(()=>Ft)});return new Proxy(()=>{},{get:(ht,Ft)=>ze[Ft],apply:(ht,Ft,Qt)=>ze.then(jt=>{var Jn;const vn=jt&&jt(...Qt);return!(null===(Jn=ct?.spy)||void 0===Jn)&&Jn.apply&&ct.spy.apply(bt,Qt,vn),vn})})})}),Me=(ot,it)=>{it.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(ct=>{Object.defineProperty(ot.prototype,ct,Object.getOwnPropertyDescriptor(wt.prototype||wt,ct))})})};class Ie{constructor(it){return it}}const _e=new w.OlP("angularfire2.app.options"),Ee=new w.OlP("angularfire2.app.name");function ge(ot,it,wt){const At="object"==typeof wt&&wt||{};At.name=At.name||"string"==typeof wt&&wt||"[DEFAULT]";const Bt=M.Z.apps.filter(ze=>ze&&ze.name===At.name)[0]||it.runOutsideAngular(()=>M.Z.initializeApp(ot,At));try{JSON.stringify(ot)!==JSON.stringify(Bt.options)&&we("error",`${Bt.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(Bt)}const we=(ot,...it)=>{(0,w.X6Q)()&&typeof console<"u"&&console[ot](...it)},Ne={provide:Ie,useFactory:ge,deps:[_e,w.R0b,[new w.FiY,Ee]]};let at=(()=>{class ot{constructor(wt){M.Z.registerVersion("angularfire",l.q4.full,"core"),M.Z.registerVersion("angularfire",l.q4.full,"app-compat"),M.Z.registerVersion("angular",w.q4F.full,wt.toString())}static initializeApp(wt,ct){return{ngModule:ot,providers:[{provide:_e,useValue:wt},{provide:Ee,useValue:ct}]}}}return ot.\u0275fac=function(wt){return new(wt||ot)(w.LFG(w.Lbi))},ot.\u0275mod=w.oAB({type:ot}),ot.\u0275inj=w.cJS({providers:[Ne]}),ot})();function Ye(ot,it,wt,ct,At){const[,bt,Bt]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===ot)||[];if(bt)return function yt(ot,it){try{return ot.toString()===it.toString()}catch{return ot===it}}(At,Bt)||(Ze("error",`${it} was already initialized on the ${wt} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:At,was:Bt})),bt;{const ze=ct();return globalThis.\u0275AngularfireInstanceCache.push([ot,ze,At]),ze}}const lt=!!He.hot,Ze=(ot,...it)=>{(0,w.X6Q)()&&typeof console<"u"&&console[ot](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(He,be,L)=>{"use strict";L.d(be,{q4:()=>Ca,iC:()=>Wo,HU:()=>xn,vb:()=>de,JM:()=>ie});var w=L(4650),M=L(259),l=L(5861),pe=L(9681),me=L(2090),Me=L(4859),Ie=L(1877),_e=L(8766);const Ee="@firebase/installations",ge="0.6.1",Ne=`w:${ge}`,at="FIS_v2",it=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wt(z){return z instanceof me.ZR&&z.code.includes("request-failed")}function ct({projectId:z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${z}/installations`}function At(z){return{token:z.token,requestStatus:2,expiresIn:jt(z.expiresIn),creationTime:Date.now()}}function bt(z,Y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(z,Y){const Le=(yield Y.json()).error;return it.create("request-failed",{requestName:z,serverCode:Le.code,serverMessage:Le.message,serverStatus:Le.status})})).apply(this,arguments)}function ze({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function ht(z,{refreshToken:Y}){const ae=ze(z);return ae.append("Authorization",function Jn(z){return`${at} ${z}`}(Y)),ae}function Ft(z){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(z){const Y=yield z();return Y.status>=500&&Y.status<600?z():Y})).apply(this,arguments)}function jt(z){return Number(z.replace("s","000"))}function vn(z,Y){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*({appConfig:z,heartbeatServiceProvider:Y},{fid:ae}){const Le=ct(z),tt=ze(z),Ct=Y.getImmediate({optional:!0});if(Ct){const pr=yield Ct.getHeartbeatsHeader();pr&&tt.append("x-firebase-client",pr)}const Zn={method:"POST",headers:tt,body:JSON.stringify({fid:ae,authVersion:at,appId:z.appId,sdkVersion:Ne})},ir=yield Ft(()=>fetch(Le,Zn));if(ir.ok){const pr=yield ir.json();return{fid:pr.fid||ae,registrationStatus:2,refreshToken:pr.refreshToken,authToken:At(pr.authToken)}}throw yield bt("Create Installation",ir)})).apply(this,arguments)}function st(z){return new Promise(Y=>{setTimeout(Y,z)})}const Lt=/^[cdef][\w-]{21}$/;function qt(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const ae=function En(z){return function Dt(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return Lt.test(ae)?ae:""}catch{return""}}function dn(z){return`${z.appName}!${z.appId}`}const An=new Map;function mn(z,Y){const ae=dn(z);Pr(ae,Y),function Br(z,Y){const ae=function dr(){return!yr&&"BroadcastChannel"in self&&(yr=new BroadcastChannel("[Firebase] FID Change"),yr.onmessage=z=>{Pr(z.data.key,z.data.fid)}),yr}();ae&&ae.postMessage({key:z,fid:Y}),function Qn(){0===An.size&&yr&&(yr.close(),yr=null)}()}(ae,Y)}function Pr(z,Y){const ae=An.get(z);if(ae)for(const Le of ae)Le(Y)}let yr=null;const br="firebase-installations-store";let pi=null;function rr(){return pi||(pi=(0,_e.X3)("firebase-installations-database",1,{upgrade:(z,Y)=>{0===Y&&z.createObjectStore(br)}})),pi}function Xn(z,Y){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(z,Y){const ae=dn(z),tt=(yield rr()).transaction(br,"readwrite"),Ct=tt.objectStore(br),nn=yield Ct.get(ae);return yield Ct.put(Y,ae),yield tt.done,(!nn||nn.fid!==Y.fid)&&mn(z,Y.fid),Y})).apply(this,arguments)}function yn(z){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(z){const Y=dn(z),Le=(yield rr()).transaction(br,"readwrite");yield Le.objectStore(br).delete(Y),yield Le.done})).apply(this,arguments)}function Fi(z,Y){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(z,Y){const ae=dn(z),tt=(yield rr()).transaction(br,"readwrite"),Ct=tt.objectStore(br),nn=yield Ct.get(ae),Zn=Y(nn);return void 0===Zn?yield Ct.delete(ae):yield Ct.put(Zn,ae),yield tt.done,Zn&&(!nn||nn.fid!==Zn.fid)&&mn(z,Zn.fid),Zn})).apply(this,arguments)}function ti(z){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(z){let Y;const ae=yield Fi(z.appConfig,Le=>{const tt=St(Le),Ct=kn(z,tt);return Y=Ct.registrationPromise,Ct.installationEntry});return""===ae.fid?{installationEntry:yield Y}:{installationEntry:ae,registrationPromise:Y}})).apply(this,arguments)}function St(z){return In(z||{fid:qt(),registrationStatus:0})}function kn(z,Y){if(0===Y.registrationStatus){if(!navigator.onLine)return{installationEntry:Y,registrationPromise:Promise.reject(it.create("app-offline"))};const ae={fid:Y.fid,registrationStatus:1,registrationTime:Date.now()},Le=function pn(z,Y){return Fn.apply(this,arguments)}(z,ae);return{installationEntry:ae,registrationPromise:Le}}return 1===Y.registrationStatus?{installationEntry:Y,registrationPromise:jn(z)}:{installationEntry:Y}}function Fn(){return(Fn=(0,l.Z)(function*(z,Y){try{const ae=yield vn(z,Y);return Xn(z.appConfig,ae)}catch(ae){throw wt(ae)&&409===ae.customData.serverCode?yield yn(z.appConfig):yield Xn(z.appConfig,{fid:Y.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function jn(z){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(z){let Y=yield Ji(z.appConfig);for(;1===Y.registrationStatus;)yield st(100),Y=yield Ji(z.appConfig);if(0===Y.registrationStatus){const{installationEntry:ae,registrationPromise:Le}=yield ti(z);return Le||ae}return Y})).apply(this,arguments)}function Ji(z){return Fi(z,Y=>{if(!Y)throw it.create("installation-not-found");return In(Y)})}function In(z){return function ss(z){return 1===z.registrationStatus&&z.registrationTime+1e4<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function mr(z,Y){return hs.apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*({appConfig:z,heartbeatServiceProvider:Y},ae){const Le=lr(z,ae),tt=ht(z,ae),Ct=Y.getImmediate({optional:!0});if(Ct){const pr=yield Ct.getHeartbeatsHeader();pr&&tt.append("x-firebase-client",pr)}const Zn={method:"POST",headers:tt,body:JSON.stringify({installation:{sdkVersion:Ne,appId:z.appId}})},ir=yield Ft(()=>fetch(Le,Zn));if(ir.ok)return At(yield ir.json());throw yield bt("Generate Auth Token",ir)})).apply(this,arguments)}function lr(z,{fid:Y}){return`${ct(z)}/${Y}/authTokens:generate`}function os(z){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(z,Y=!1){let ae;const Le=yield Fi(z.appConfig,Ct=>{if(!Ar(Ct))throw it.create("not-registered");const nn=Ct.authToken;if(!Y&&Ue(nn))return Ct;if(1===nn.requestStatus)return ae=on(z,Y),Ct;{if(!navigator.onLine)throw it.create("app-offline");const Zn=je(Ct);return ae=Wn(z,Zn),Zn}});return ae?yield ae:Le.authToken})).apply(this,arguments)}function on(z,Y){return $t.apply(this,arguments)}function $t(){return($t=(0,l.Z)(function*(z,Y){let ae=yield Tn(z.appConfig);for(;1===ae.authToken.requestStatus;)yield st(100),ae=yield Tn(z.appConfig);const Le=ae.authToken;return 0===Le.requestStatus?os(z,Y):Le})).apply(this,arguments)}function Tn(z){return Fi(z,Y=>{if(!Ar(Y))throw it.create("not-registered");return function Ce(z){return 1===z.requestStatus&&z.requestTime+1e4<Date.now()}(Y.authToken)?Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}}):Y})}function Wn(z,Y){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,l.Z)(function*(z,Y){try{const ae=yield mr(z,Y),Le=Object.assign(Object.assign({},Y),{authToken:ae});return yield Xn(z.appConfig,Le),ae}catch(ae){if(!wt(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const Le=Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}});yield Xn(z.appConfig,Le)}else yield yn(z.appConfig);throw ae}})).apply(this,arguments)}function Ar(z){return void 0!==z&&2===z.registrationStatus}function Ue(z){return 2===z.requestStatus&&!function Se(z){const Y=Date.now();return Y<z.creationTime||z.creationTime+z.expiresIn<Y+36e5}(z)}function je(z){const Y={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:Y})}function Ae(){return(Ae=(0,l.Z)(function*(z){const Y=z,{installationEntry:ae,registrationPromise:Le}=yield ti(Y);return Le?Le.catch(console.error):os(Y).catch(console.error),ae.fid})).apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(z,Y=!1){const ae=z;return yield Dn(ae),(yield os(ae,Y)).token})).apply(this,arguments)}function Dn(z){return $e.apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(z){const{registrationPromise:Y}=yield ti(z);Y&&(yield Y)})).apply(this,arguments)}function fs(z){return it.create("missing-app-config-values",{valueName:z})}const Ur="installations",Os=z=>{const Y=z.getProvider("app").getImmediate(),ae=function si(z){if(!z||!z.options)throw fs("App Configuration");if(!z.name)throw fs("App Name");const Y=["projectId","apiKey","appId"];for(const ae of Y)if(!z.options[ae])throw fs(ae);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(Y);return{app:Y,appConfig:ae,heartbeatServiceProvider:(0,pe._getProvider)(Y,"heartbeat"),_delete:()=>Promise.resolve()}},oo=z=>{const Y=z.getProvider("app").getImmediate(),ae=(0,pe._getProvider)(Y,Ur).getImmediate();return{getId:()=>function ue(z){return Ae.apply(this,arguments)}(ae),getToken:tt=>function vt(z){return Kt.apply(this,arguments)}(ae,tt)}};(function bs(){(0,pe._registerComponent)(new Me.wA(Ur,Os,"PUBLIC")),(0,pe._registerComponent)(new Me.wA("installations-internal",oo,"PRIVATE"))})(),(0,pe.registerVersion)(Ee,ge),(0,pe.registerVersion)(Ee,ge,"esm2017");const oi="@firebase/remote-config",wi=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ke{constructor(Y,ae,Le,tt){this.client=Y,this.storage=ae,this.storageCache=Le,this.logger=tt}isCachedDataFresh(Y,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Le=Date.now()-ae,tt=Le<=Y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Le}. Cache max age millis (minimumFetchIntervalMillis setting): ${Y}. Is cache hit: ${tt}.`),tt}fetch(Y){var ae=this;return(0,l.Z)(function*(){const[Le,tt]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(tt&&ae.isCachedDataFresh(Y.cacheMaxAgeMillis,Le))return tt;Y.eTag=tt&&tt.eTag;const Ct=yield ae.client.fetch(Y),nn=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ct.status&&nn.push(ae.storage.setLastSuccessfulFetchResponse(Ct)),yield Promise.all(nn),Ct})()}}function _t(z=navigator){return z.languages&&z.languages[0]||z.language}class rt{constructor(Y,ae,Le,tt,Ct,nn){this.firebaseInstallations=Y,this.sdkVersion=ae,this.namespace=Le,this.projectId=tt,this.apiKey=Ct,this.appId=nn}fetch(Y){var ae=this;return(0,l.Z)(function*(){const[Le,tt]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),nn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,Zn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Y.eTag||"*"},ir={sdk_version:ae.sdkVersion,app_instance_id:Le,app_instance_id_token:tt,app_id:ae.appId,language_code:_t()},pr={method:"POST",headers:Zn,body:JSON.stringify(ir)},Or=fetch(nn,pr),Fr=new Promise((ko,Ei)=>{Y.signal.addEventListener(()=>{const hd=new Error("The operation was aborted.");hd.name="AbortError",Ei(hd)})});let ns;try{yield Promise.race([Or,Fr]),ns=yield Or}catch(ko){let Ei="fetch-client-network";throw"AbortError"===ko?.name&&(Ei="fetch-timeout"),wi.create(Ei,{originalErrorMessage:ko?.message})}let mo=ns.status;const $u=ns.headers.get("ETag")||void 0;let Ao,Ya;if(200===ns.status){let ko;try{ko=yield ns.json()}catch(Ei){throw wi.create("fetch-client-parse",{originalErrorMessage:Ei?.message})}Ao=ko.entries,Ya=ko.state}if("INSTANCE_STATE_UNSPECIFIED"===Ya?mo=500:"NO_CHANGE"===Ya?mo=304:("NO_TEMPLATE"===Ya||"EMPTY_CONFIG"===Ya)&&(Ao={}),304!==mo&&200!==mo)throw wi.create("fetch-status",{httpStatus:mo});return{status:mo,eTag:$u,config:Ao}})()}}class Te{constructor(Y,ae){this.client=Y,this.storage=ae}fetch(Y){var ae=this;return(0,l.Z)(function*(){const Le=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(Y,Le)})()}attemptFetch(Y,{throttleEndTimeMillis:ae,backoffCount:Le}){var tt=this;return(0,l.Z)(function*(){yield function Pt(z,Y){return new Promise((ae,Le)=>{const tt=Math.max(Y-Date.now(),0),Ct=setTimeout(ae,tt);z.addEventListener(()=>{clearTimeout(Ct),Le(wi.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(Y.signal,ae);try{const Ct=yield tt.client.fetch(Y);return yield tt.storage.deleteThrottleMetadata(),Ct}catch(Ct){if(!function De(z){if(!(z instanceof me.ZR&&z.customData))return!1;const Y=Number(z.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(Ct))throw Ct;const nn={throttleEndTimeMillis:Date.now()+(0,me.$s)(Le),backoffCount:Le+1};return yield tt.storage.setThrottleMetadata(nn),tt.attemptFetch(Y,nn)}})()}}class rn{constructor(Y,ae,Le,tt,Ct){this.app=Y,this._client=ae,this._storageCache=Le,this._storage=tt,this._logger=Ct,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function On(z,Y){const ae=z.target.error||void 0;return wi.create(Y,{originalErrorMessage:ae&&ae?.message})}const Nn="app_namespace_store";class us{constructor(Y,ae,Le,tt=function Bi(){return new Promise((z,Y)=>{try{const ae=indexedDB.open("firebase_remote_config",1);ae.onerror=Le=>{Y(On(Le,"storage-open"))},ae.onsuccess=Le=>{z(Le.target.result)},ae.onupgradeneeded=Le=>{0===Le.oldVersion&&Le.target.result.createObjectStore(Nn,{keyPath:"compositeKey"})}}catch(ae){Y(wi.create("storage-open",{originalErrorMessage:ae?.message}))}})}()){this.appId=Y,this.appName=ae,this.namespace=Le,this.openDbPromise=tt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Y){return this.set("last_fetch_status",Y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Y){return this.set("last_successful_fetch_timestamp_millis",Y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Y){return this.set("last_successful_fetch_response",Y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Y){return this.set("active_config",Y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Y){return this.set("active_config_etag",Y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Y){return this.set("throttle_metadata",Y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Y){var ae=this;return(0,l.Z)(function*(){const Le=yield ae.openDbPromise;return new Promise((tt,Ct)=>{const Zn=Le.transaction([Nn],"readonly").objectStore(Nn),ir=ae.createCompositeKey(Y);try{const pr=Zn.get(ir);pr.onerror=Or=>{Ct(On(Or,"storage-get"))},pr.onsuccess=Or=>{const Fr=Or.target.result;tt(Fr?Fr.value:void 0)}}catch(pr){Ct(wi.create("storage-get",{originalErrorMessage:pr?.message}))}})})()}set(Y,ae){var Le=this;return(0,l.Z)(function*(){const tt=yield Le.openDbPromise;return new Promise((Ct,nn)=>{const ir=tt.transaction([Nn],"readwrite").objectStore(Nn),pr=Le.createCompositeKey(Y);try{const Or=ir.put({compositeKey:pr,value:ae});Or.onerror=Fr=>{nn(On(Fr,"storage-set"))},Or.onsuccess=()=>{Ct()}}catch(Or){nn(wi.create("storage-set",{originalErrorMessage:Or?.message}))}})})()}delete(Y){var ae=this;return(0,l.Z)(function*(){const Le=yield ae.openDbPromise;return new Promise((tt,Ct)=>{const Zn=Le.transaction([Nn],"readwrite").objectStore(Nn),ir=ae.createCompositeKey(Y);try{const pr=Zn.delete(ir);pr.onerror=Or=>{Ct(On(Or,"storage-delete"))},pr.onsuccess=()=>{tt()}}catch(pr){Ct(wi.create("storage-delete",{originalErrorMessage:pr?.message}))}})})()}createCompositeKey(Y){return[this.appId,this.appName,this.namespace,Y].join()}}class Je{constructor(Y){this.storage=Y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Y=this;return(0,l.Z)(function*(){const ae=Y.storage.getLastFetchStatus(),Le=Y.storage.getLastSuccessfulFetchTimestampMillis(),tt=Y.storage.getActiveConfig(),Ct=yield ae;Ct&&(Y.lastFetchStatus=Ct);const nn=yield Le;nn&&(Y.lastSuccessfulFetchTimestampMillis=nn);const Zn=yield tt;Zn&&(Y.activeConfig=Zn)})()}setLastFetchStatus(Y){return this.lastFetchStatus=Y,this.storage.setLastFetchStatus(Y)}setLastSuccessfulFetchTimestampMillis(Y){return this.lastSuccessfulFetchTimestampMillis=Y,this.storage.setLastSuccessfulFetchTimestampMillis(Y)}setActiveConfig(Y){return this.activeConfig=Y,this.storage.setActiveConfig(Y)}}function na(){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function Pe(){(0,pe._registerComponent)(new Me.wA("remote-config",function z(Y,{instanceIdentifier:ae}){const Le=Y.getProvider("app").getImmediate(),tt=Y.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wi.create("registration-window");if(!(0,me.hl)())throw wi.create("indexed-db-unavailable");const{projectId:Ct,apiKey:nn,appId:Zn}=Le.options;if(!Ct)throw wi.create("registration-project-id");if(!nn)throw wi.create("registration-api-key");if(!Zn)throw wi.create("registration-app-id");const ir=new us(Zn,Le.name,ae=ae||"firebase"),pr=new Je(ir),Or=new Ie.Yd(oi);Or.logLevel=Ie.in.ERROR;const Fr=new rt(tt,pe.SDK_VERSION,ae,Ct,nn,Zn),ns=new Te(Fr,ir),mo=new ke(ns,ir,pr,Or),$u=new rn(Le,mo,pr,ir,Or);return function Er(z){const Y=(0,me.m9)(z);Y._initializePromise||(Y._initializePromise=Y._storageCache.loadFromStorage().then(()=>{Y._isInitializationComplete=!0}))}($u),$u},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(oi,"0.4.1"),(0,pe.registerVersion)(oi,"0.4.1","esm2017")}();const Xs="/firebase-messaging-sw.js",ja="/firebase-cloud-messaging-push-scope",Vo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_i="google.c.a.c_id",Ui="google.c.a.c_l",el="google.c.a.ts",Ks="google.c.a.e";var ra=(()=>{return(z=ra||(ra={})).PUSH_RECEIVED="push-received",z.NOTIFICATION_CLICKED="notification-clicked",ra;var z})();function yo(z){const Y=new Uint8Array(z);return btoa(String.fromCharCode(...Y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vl(z){const ae=(z+"=".repeat((4-z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Le=atob(ae),tt=new Uint8Array(Le.length);for(let Ct=0;Ct<Le.length;++Ct)tt[Ct]=Le.charCodeAt(Ct);return tt}const gu="fcm_token_details_db",ps="fcm_token_object_Store";function Ou(z){return uo.apply(this,arguments)}function uo(){return uo=(0,l.Z)(function*(z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ct=>Ct.name).includes(gu))return null;let Y=null;return(yield(0,_e.X3)(gu,5,{upgrade:(Le=(0,l.Z)(function*(tt,Ct,nn,Zn){var ir;if(Ct<2||!tt.objectStoreNames.contains(ps))return;const pr=Zn.objectStore(ps),Or=yield pr.index("fcmSenderId").get(z);if(yield pr.clear(),Or)if(2===Ct){const Fr=Or;if(!Fr.auth||!Fr.p256dh||!Fr.endpoint)return;Y={token:Fr.fcmToken,createTime:null!==(ir=Fr.createTime)&&void 0!==ir?ir:Date.now(),subscriptionOptions:{auth:Fr.auth,p256dh:Fr.p256dh,endpoint:Fr.endpoint,swScope:Fr.swScope,vapidKey:"string"==typeof Fr.vapidKey?Fr.vapidKey:yo(Fr.vapidKey)}}}else if(3===Ct){const Fr=Or;Y={token:Fr.fcmToken,createTime:Fr.createTime,subscriptionOptions:{auth:yo(Fr.auth),p256dh:yo(Fr.p256dh),endpoint:Fr.endpoint,swScope:Fr.swScope,vapidKey:yo(Fr.vapidKey)}}}else if(4===Ct){const Fr=Or;Y={token:Fr.fcmToken,createTime:Fr.createTime,subscriptionOptions:{auth:yo(Fr.auth),p256dh:yo(Fr.p256dh),endpoint:Fr.endpoint,swScope:Fr.swScope,vapidKey:yo(Fr.vapidKey)}}}}),function(Ct,nn,Zn,ir){return Le.apply(this,arguments)})})).close(),yield(0,_e.Lj)(gu),yield(0,_e.Lj)("fcm_vapid_details_db"),yield(0,_e.Lj)("undefined"),Wa(Y)?Y:null;var Le}),uo.apply(this,arguments)}function Wa(z){if(!z||!z.subscriptionOptions)return!1;const{subscriptionOptions:Y}=z;return"number"==typeof z.createTime&&z.createTime>0&&"string"==typeof z.token&&z.token.length>0&&"string"==typeof Y.auth&&Y.auth.length>0&&"string"==typeof Y.p256dh&&Y.p256dh.length>0&&"string"==typeof Y.endpoint&&Y.endpoint.length>0&&"string"==typeof Y.swScope&&Y.swScope.length>0&&"string"==typeof Y.vapidKey&&Y.vapidKey.length>0}const ia="firebase-messaging-store";let Eo=null;function Ea(){return Eo||(Eo=(0,_e.X3)("firebase-messaging-database",1,{upgrade:(z,Y)=>{0===Y&&z.createObjectStore(ia)}})),Eo}function bo(z){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(z){const Y=za(z),Le=yield(yield Ea()).transaction(ia).objectStore(ia).get(Y);if(Le)return Le;{const tt=yield Ou(z.appConfig.senderId);if(tt)return yield No(z,tt),tt}})).apply(this,arguments)}function No(z,Y){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(z,Y){const ae=za(z),tt=(yield Ea()).transaction(ia,"readwrite");return yield tt.objectStore(ia).put(Y,ae),yield tt.done,Y})).apply(this,arguments)}function Gt(z){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(z){const Y=za(z),Le=(yield Ea()).transaction(ia,"readwrite");yield Le.objectStore(ia).delete(Y),yield Le.done})).apply(this,arguments)}function za({appConfig:z}){return z.appId}const cr=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hs(z,Y){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(z,Y){const ae=yield gs(z),Le=Zs(Y),tt={method:"POST",headers:ae,body:JSON.stringify(Le)};let Ct;try{Ct=yield(yield fetch(Oo(z.appConfig),tt)).json()}catch(nn){throw cr.create("token-subscribe-failed",{errorInfo:nn?.toString()})}if(Ct.error)throw cr.create("token-subscribe-failed",{errorInfo:Ct.error.message});if(!Ct.token)throw cr.create("token-subscribe-no-token");return Ct.token})).apply(this,arguments)}function an(z,Y){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(z,Y){const ae=yield gs(z),Le=Zs(Y.subscriptionOptions),tt={method:"PATCH",headers:ae,body:JSON.stringify(Le)};let Ct;try{Ct=yield(yield fetch(`${Oo(z.appConfig)}/${Y.token}`,tt)).json()}catch(nn){throw cr.create("token-update-failed",{errorInfo:nn?.toString()})}if(Ct.error)throw cr.create("token-update-failed",{errorInfo:Ct.error.message});if(!Ct.token)throw cr.create("token-update-no-token");return Ct.token})).apply(this,arguments)}function qn(z,Y){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(z,Y){const Le={method:"DELETE",headers:yield gs(z)};try{const Ct=yield(yield fetch(`${Oo(z.appConfig)}/${Y}`,Le)).json();if(Ct.error)throw cr.create("token-unsubscribe-failed",{errorInfo:Ct.error.message})}catch(tt){throw cr.create("token-unsubscribe-failed",{errorInfo:tt?.toString()})}})).apply(this,arguments)}function Oo({projectId:z}){return`https://fcmregistrations.googleapis.com/v1/projects/${z}/registrations`}function gs(z){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*({appConfig:z,installations:Y}){const ae=yield Y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function Zs({p256dh:z,auth:Y,endpoint:ae,vapidKey:Le}){const tt={web:{endpoint:ae,auth:Y,p256dh:z}};return Le!==Vo&&(tt.web.applicationPubKey=Le),tt}const sa=6048e5;function _l(z){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(z){const Y=yield tl(z.swRegistration,z.vapidKey),ae={vapidKey:z.vapidKey,swScope:z.swRegistration.scope,endpoint:Y.endpoint,auth:yo(Y.getKey("auth")),p256dh:yo(Y.getKey("p256dh"))},Le=yield bo(z.firebaseDependencies);if(Le){if(Gs(Le.subscriptionOptions,ae))return Date.now()>=Le.createTime+sa?nr(z,{token:Le.token,createTime:Date.now(),subscriptionOptions:ae}):Le.token;try{yield qn(z.firebaseDependencies,Le.token)}catch(tt){console.warn(tt)}return vl(z.firebaseDependencies,ae)}return vl(z.firebaseDependencies,ae)})).apply(this,arguments)}function ms(z){return co.apply(this,arguments)}function co(){return(co=(0,l.Z)(function*(z){const Y=yield bo(z.firebaseDependencies);Y&&(yield qn(z.firebaseDependencies,Y.token),yield Gt(z.firebaseDependencies));const ae=yield z.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()})).apply(this,arguments)}function nr(z,Y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(z,Y){try{const ae=yield an(z.firebaseDependencies,Y),Le=Object.assign(Object.assign({},Y),{token:ae,createTime:Date.now()});return yield No(z.firebaseDependencies,Le),ae}catch(ae){throw yield ms(z),ae}})).apply(this,arguments)}function vl(z,Y){return mu.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(z,Y){const Le={token:yield Hs(z,Y),createTime:Date.now(),subscriptionOptions:Y};return yield No(z,Le),Le.token})).apply(this,arguments)}function tl(z,Y){return qa.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(z,Y){return(yield z.pushManager.getSubscription())||z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vl(Y)})})).apply(this,arguments)}function Gs(z,Y){return Y.vapidKey===z.vapidKey&&Y.endpoint===z.endpoint&&Y.auth===z.auth&&Y.p256dh===z.p256dh}function Ru(z){const Y={from:z.from,collapseKey:z.collapse_key,messageId:z.fcmMessageId};return function Ra(z,Y){if(!Y.notification)return;z.notification={};const ae=Y.notification.title;ae&&(z.notification.title=ae);const Le=Y.notification.body;Le&&(z.notification.body=Le);const tt=Y.notification.image;tt&&(z.notification.image=tt);const Ct=Y.notification.icon;Ct&&(z.notification.icon=Ct)}(Y,z),function B(z,Y){Y.data&&(z.data=Y.data)}(Y,z),function W(z,Y){var ae,Le,tt,Ct,nn;if(!(Y.fcmOptions||null!==(ae=Y.notification)&&void 0!==ae&&ae.click_action))return;z.fcmOptions={};const Zn=null!==(tt=null===(Le=Y.fcmOptions)||void 0===Le?void 0:Le.link)&&void 0!==tt?tt:null===(Ct=Y.notification)||void 0===Ct?void 0:Ct.click_action;Zn&&(z.fcmOptions.link=Zn);const ir=null===(nn=Y.fcmOptions)||void 0===nn?void 0:nn.analytics_label;ir&&(z.fcmOptions.analyticsLabel=ir)}(Y,z),Y}function G(z){return"object"==typeof z&&!!z&&_i in z}function se(z,Y){const ae=[];for(let Le=0;Le<z.length;Le++)ae.push(z.charAt(Le)),Le<Y.length&&ae.push(Y.charAt(Le));return ae.join("")}function $n(z){return cr.create("missing-app-config-values",{valueName:z})}se("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),se("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zi{constructor(Y,ae,Le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const tt=function gt(z){if(!z||!z.options)throw $n("App Configuration Object");if(!z.name)throw $n("App Name");const Y=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=z;for(const Le of Y)if(!ae[Le])throw $n(Le);return{appName:z.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(Y);this.firebaseDependencies={app:Y,appConfig:tt,installations:ae,analyticsProvider:Le}}_delete(){return Promise.resolve()}}function Qi(z){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(z){try{z.swRegistration=yield navigator.serviceWorker.register(Xs,{scope:ja}),z.swRegistration.update().catch(()=>{})}catch(Y){throw cr.create("failed-service-worker-registration",{browserErrorMessage:Y?.message})}})).apply(this,arguments)}function As(z,Y){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(z,Y){if(!Y&&!z.swRegistration&&(yield Qi(z)),Y||!z.swRegistration){if(!(Y instanceof ServiceWorkerRegistration))throw cr.create("invalid-sw-registration");z.swRegistration=Y}})).apply(this,arguments)}function aa(z,Y){return Co.apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(z,Y){Y?z.vapidKey=Y:z.vapidKey||(z.vapidKey=Vo)})).apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(z,Y){if(!navigator)throw cr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cr.create("permission-blocked");return yield aa(z,Y?.vapidKey),yield As(z,Y?.serviceWorkerRegistration),_l(z)})).apply(this,arguments)}function eo(z,Y,ae){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(z,Y,ae){const Le=ba(Y);(yield z.firebaseDependencies.analyticsProvider.get()).logEvent(Le,{message_id:ae[_i],message_name:ae[Ui],message_time:ae[el],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ba(z){switch(z){case ra.NOTIFICATION_CLICKED:return"notification_open";case ra.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nl(){return(nl=(0,l.Z)(function*(z,Y){const ae=Y.data;if(!ae.isFirebaseMessaging)return;z.onMessageHandler&&ae.messageType===ra.PUSH_RECEIVED&&("function"==typeof z.onMessageHandler?z.onMessageHandler(Ru(ae)):z.onMessageHandler.next(Ru(ae)));const Le=ae.data;G(Le)&&"1"===Le[Ks]&&(yield eo(z,ae.messageType,Le))})).apply(this,arguments)}const _u="@firebase/messaging",wa=z=>{const Y=new zi(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function ld(z,Y){return nl.apply(this,arguments)}(Y,ae)),Y},rl=z=>{const Y=z.getProvider("messaging").getImmediate();return{getToken:Le=>function qi(z,Y){return Ts.apply(this,arguments)}(Y,Le)}};function yl(){return $l.apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pu(){(0,pe._registerComponent)(new Me.wA("messaging",wa,"PUBLIC")),(0,pe._registerComponent)(new Me.wA("messaging-internal",rl,"PRIVATE")),(0,pe.registerVersion)(_u,"0.12.1"),(0,pe.registerVersion)(_u,"0.12.1","esm2017")}();const Ps="analytics",Vr="firebase_id",Ta="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hl="https://www.googletagmanager.com/gtag/js",Do=new Ie.Yd("@firebase/analytics");function ou(z){return Promise.all(z.map(Y=>Y.catch(ae=>ae)))}function ec(z,Y){const ae=document.createElement("script");ae.src=`${Hl}?l=${z}&id=${Y}`,ae.async=!0,document.head.appendChild(ae)}function di(z,Y,ae,Le,tt,Ct){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(z,Y,ae,Le,tt,Ct){const nn=Le[tt];try{if(nn)yield Y[nn];else{const ir=(yield ou(ae)).find(pr=>pr.measurementId===tt);ir&&(yield Y[ir.appId])}}catch(Zn){Do.error(Zn)}z("config",tt,Ct)})).apply(this,arguments)}function ee(z,Y,ae,Le,tt){return H.apply(this,arguments)}function H(){return(H=(0,l.Z)(function*(z,Y,ae,Le,tt){try{let Ct=[];if(tt&&tt.send_to){let nn=tt.send_to;Array.isArray(nn)||(nn=[nn]);const Zn=yield ou(ae);for(const ir of nn){const pr=Zn.find(Fr=>Fr.measurementId===ir),Or=pr&&Y[pr.appId];if(!Or){Ct=[];break}Ct.push(Or)}}0===Ct.length&&(Ct=Object.values(Y)),yield Promise.all(Ct),z("event",Le,tt||{})}catch(Ct){Do.error(Ct)}})).apply(this,arguments)}function xt(z){const Y=window.document.getElementsByTagName("script");for(const ae of Object.values(Y))if(ae.src&&ae.src.includes(Hl)&&ae.src.includes(z))return ae;return null}const Cn=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ri=new class Ni{constructor(Y={},ae=1e3){this.throttleMetadata=Y,this.intervalMillis=ae}getThrottleMetadata(Y){return this.throttleMetadata[Y]}setThrottleMetadata(Y,ae){this.throttleMetadata[Y]=ae}deleteThrottleMetadata(Y){delete this.throttleMetadata[Y]}};function Zi(z){return new Headers({Accept:"application/json","x-goog-api-key":z})}function Oi(z){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,l.Z)(function*(z){var Y;const{appId:ae,apiKey:Le}=z,tt={method:"GET",headers:Zi(Le)},Ct=Ta.replace("{app-id}",ae),nn=yield fetch(Ct,tt);if(200!==nn.status&&304!==nn.status){let Zn="";try{const ir=yield nn.json();null!==(Y=ir.error)&&void 0!==Y&&Y.message&&(Zn=ir.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:nn.status,responseMessage:Zn})}return nn.json()})).apply(this,arguments)}function Ho(z){return vs.apply(this,arguments)}function vs(){return(vs=(0,l.Z)(function*(z,Y=ri,ae){const{appId:Le,apiKey:tt,measurementId:Ct}=z.options;if(!Le)throw Cn.create("no-app-id");if(!tt){if(Ct)return{measurementId:Ct,appId:Le};throw Cn.create("no-api-key")}const nn=Y.getThrottleMetadata(Le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Zn=new vu;return setTimeout((0,l.Z)(function*(){Zn.abort()}),void 0!==ae?ae:6e4),to({appId:Le,apiKey:tt,measurementId:Ct},nn,Zn,Y)})).apply(this,arguments)}function to(z,Y,ae){return xs.apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(z,{throttleEndTimeMillis:Y,backoffCount:ae},Le,tt=ri){var Ct;const{appId:nn,measurementId:Zn}=z;try{yield Pa(Le,Y)}catch(ir){if(Zn)return Do.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${ir?.message}]`),{appId:nn,measurementId:Zn};throw ir}try{const ir=yield Oi(z);return tt.deleteThrottleMetadata(nn),ir}catch(ir){const pr=ir;if(!il(pr)){if(tt.deleteThrottleMetadata(nn),Zn)return Do.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${pr?.message}]`),{appId:nn,measurementId:Zn};throw ir}const Or=503===Number(null===(Ct=pr?.customData)||void 0===Ct?void 0:Ct.httpStatus)?(0,me.$s)(ae,tt.intervalMillis,30):(0,me.$s)(ae,tt.intervalMillis),Fr={throttleEndTimeMillis:Date.now()+Or,backoffCount:ae+1};return tt.setThrottleMetadata(nn,Fr),Do.debug(`Calling attemptFetch again in ${Or} millis`),to(z,Fr,Le,tt)}})).apply(this,arguments)}function Pa(z,Y){return new Promise((ae,Le)=>{const tt=Math.max(Y-Date.now(),0),Ct=setTimeout(ae,tt);z.addEventListener(()=>{clearTimeout(Ct),Le(Cn.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}function il(z){if(!(z instanceof me.ZR&&z.customData))return!1;const Y=Number(z.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}class vu{constructor(){this.listeners=[]}addEventListener(Y){this.listeners.push(Y)}abort(){this.listeners.forEach(Y=>Y())}}let Fu,El;function Go(){return(Go=(0,l.Z)(function*(z,Y,ae,Le,tt){if(tt&&tt.global)z("event",ae,Le);else{const Ct=yield Y;z("event",ae,Object.assign(Object.assign({},Le),{send_to:Ct}))}})).apply(this,arguments)}function Ms(z){El=z}function ho(z){Fu=z}function La(){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,l.Z)(function*(){if(!(0,me.hl)())return Do.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(z){return Do.warn(Cn.create("indexeddb-unavailable",{errorInfo:z?.toString()}).message),!1}return!0})).apply(this,arguments)}function Bu(){return(Bu=(0,l.Z)(function*(z,Y,ae,Le,tt,Ct,nn){var Zn;const ir=Ho(z);ir.then(mo=>{ae[mo.measurementId]=mo.appId,z.options.measurementId&&mo.measurementId!==z.options.measurementId&&Do.warn(`The measurement ID in the local Firebase config (${z.options.measurementId}) does not match the measurement ID fetched from the server (${mo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mo=>Do.error(mo)),Y.push(ir);const pr=La().then(mo=>{if(mo)return Le.getId()}),[Or,Fr]=yield Promise.all([ir,pr]);xt(Ct)||ec(Ct,Or.measurementId),El&&(tt("consent","default",El),Ms(void 0)),tt("js",new Date);const ns=null!==(Zn=nn?.config)&&void 0!==Zn?Zn:{};return ns.origin="firebase",ns.update=!0,null!=Fr&&(ns[Vr]=Fr),tt("config",Or.measurementId,ns),Fu&&(tt("set",Fu),ho(void 0)),Or.measurementId})).apply(this,arguments)}class Cs{constructor(Y){this.app=Y}_delete(){return delete So[this.app.options.appId],Promise.resolve()}}let So={},sl=[];const Ka={};let Gl,fo,Ba="dataLayer",po=!1;function Ls(z,Y,ae){!function ce(){const z=[];if((0,me.ru)()&&z.push("This is a browser extension environment."),(0,me.zI)()||z.push("Cookies are not available."),z.length>0){const Y=z.map((Le,tt)=>`(${tt+1}) ${Le}`).join(" "),ae=Cn.create("invalid-analytics-context",{errorInfo:Y});Do.warn(ae.message)}}();const Le=z.options.appId;if(!Le)throw Cn.create("no-app-id");if(!z.options.apiKey){if(!z.options.measurementId)throw Cn.create("no-api-key");Do.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=So[Le])throw Cn.create("already-exists",{id:Le});if(!po){!function ku(z){let Y=[];Array.isArray(window[z])?Y=window[z]:window[z]=Y}(Ba);const{wrappedGtag:Ct,gtagCore:nn}=function Be(z,Y,ae,Le,tt){let Ct=function(...nn){window[Le].push(arguments)};return window[tt]&&"function"==typeof window[tt]&&(Ct=window[tt]),window[tt]=function re(z,Y,ae,Le){function Ct(){return(Ct=(0,l.Z)(function*(nn,Zn,ir){try{"event"===nn?yield ee(z,Y,ae,Zn,ir):"config"===nn?yield di(z,Y,ae,Le,Zn,ir):"consent"===nn?z("consent","update",ir):z("set",Zn)}catch(pr){Do.error(pr)}})).apply(this,arguments)}return function tt(nn,Zn,ir){return Ct.apply(this,arguments)}}(Ct,z,Y,ae),{gtagCore:Ct,wrappedGtag:window[tt]}}(So,sl,Ka,Ba,"gtag");fo=Ct,Gl=nn,po=!0}return So[Le]=function Ys(z,Y,ae,Le,tt,Ct,nn){return Bu.apply(this,arguments)}(z,sl,Ka,Y,Gl,Ba,ae),new Cs(z)}function Xr(){return Io.apply(this,arguments)}function Io(){return(Io=(0,l.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const yi="@firebase/analytics";!function lu(){(0,pe._registerComponent)(new Me.wA(Ps,(Y,{options:ae})=>Ls(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,pe._registerComponent)(new Me.wA("analytics-internal",function z(Y){try{const ae=Y.getProvider(Ps).getImmediate();return{logEvent:(Le,tt,Ct)=>function al(z,Y,ae,Le){z=(0,me.m9)(z),function au(z,Y,ae,Le,tt){return Go.apply(this,arguments)}(fo,So[z.app.options.appId],Y,ae,Le).catch(tt=>Do.error(tt))}(ae,Le,tt,Ct)}}catch(ae){throw Cn.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,pe.registerVersion)(yi,"0.9.1"),(0,pe.registerVersion)(yi,"0.9.1","esm2017")}();var tc=L(233),Ec=L(4986),Wl=L(8505),cd=L(9468),Vu=L(5363);const Ca=new w.GfV("7.5.0"),Eu="__angularfire_symbol__analyticsIsSupportedValue",ro="__angularfire_symbol__analyticsIsSupported",Ri="__angularfire_symbol__remoteConfigIsSupportedValue",Da="__angularfire_symbol__remoteConfigIsSupported",io="__angularfire_symbol__messagingIsSupportedValue",x="__angularfire_symbol__messagingIsSupported";function ie(z,Y,ae){if(Y){if(1===Y.length)return Y[0];const Ct=Y.filter(nn=>nn.app===ae);if(1===Ct.length)return Ct[0]}return ae.container.getProvider(z).getImmediate({optional:!0})}globalThis[ro]||(globalThis[ro]=Xr().then(z=>globalThis[Eu]=z).catch(()=>globalThis[Eu]=!1)),globalThis[x]||(globalThis[x]=yl().then(z=>globalThis[io]=z).catch(()=>globalThis[io]=!1)),globalThis[Da]||(globalThis[Da]=na().then(z=>globalThis[Ri]=z).catch(()=>globalThis[Ri]=!1));const de=(z,Y)=>{const ae=Y?[Y]:(0,M.C6)(),Le=[];return ae.forEach(tt=>{tt.container.getProvider(z).instances.forEach(nn=>{Le.includes(nn)||Le.push(nn)})}),Le};function Qe(){}class en{constructor(Y,ae=tc.N){this.zone=Y,this.delegate=ae}now(){return this.delegate.now()}schedule(Y,ae,Le){const tt=this.zone;return this.delegate.schedule(function(nn){tt.runGuarded(()=>{Y.apply(this,[nn])})},ae,Le)}}class Kn{constructor(Y){this.zone=Y,this.task=null}call(Y,ae){const Le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe)),ae.pipe((0,Wl.b)({next:Le,complete:Le,error:Le})).subscribe(Y).add(Le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xn=(()=>{class z{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new en(Zone.current)),this.insideAngular=ae.run(()=>new en(Zone.current,Ec.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return z.\u0275fac=function(ae){return new(ae||z)(w.LFG(w.R0b))},z.\u0275prov=w.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function Hr(){const z=globalThis.\u0275AngularFireScheduler;if(!z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return z}function Wo(z){return Hr(),function Tl(z){return function(ae){return(ae=ae.lift(new Kn(z.ngZone))).pipe((0,cd.R)(z.outsideAngular),(0,Vu.Q)(z.insideAngular))}}(Hr())(z)}},1808:(He,be,L)=>{"use strict";L.d(be,{$:()=>Oo,A:()=>we,B:()=>Ye,D:()=>Ze,G:()=>oo,H:()=>mi,J:()=>Te,L:()=>Ue,M:()=>Ga,N:()=>_c,P:()=>Eu,Q:()=>_i,R:()=>yc,T:()=>Ui,U:()=>Vo,V:()=>ra,W:()=>yo,X:()=>Ou,Y:()=>ws,Z:()=>Hs,_:()=>an,a:()=>hi,a0:()=>_l,a1:()=>ms,a2:()=>nr,a3:()=>vl,a4:()=>tl,a5:()=>Gs,a6:()=>Ra,a7:()=>B,a8:()=>G,a9:()=>se,aA:()=>Se,aB:()=>mo,aC:()=>dd,aD:()=>cu,aE:()=>Hi,aI:()=>Zi,aL:()=>Ks,aa:()=>Qi,ab:()=>As,ac:()=>aa,af:()=>eo,ag:()=>ba,ah:()=>ld,ak:()=>ia,al:()=>su,an:()=>Hl,ao:()=>U,ap:()=>Ft,aq:()=>ve,ar:()=>Dn,as:()=>wt,at:()=>Hd,au:()=>_f,av:()=>nt,aw:()=>ct,ax:()=>ze,ay:()=>Ei,az:()=>jt,b:()=>Cn,c:()=>J,d:()=>en,e:()=>de,f:()=>ae,g:()=>ir,h:()=>Ct,i:()=>Lu,j:()=>Fr,k:()=>zo,l:()=>uu,m:()=>Gd,o:()=>_e,r:()=>tc,s:()=>Ih,u:()=>Vu});var w=L(5861),M=L(2090),l=L(9681),pe=L(1877),me=L(655),Me=L(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},we={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ye=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},yt=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"},ot=new pe.Yd("@firebase/auth");function it(N,...b){ot.logLevel<=pe.in.ERROR&&ot.error(`Auth (${l.SDK_VERSION}): ${N}`,...b)}function wt(N,...b){throw Bt(N,...b)}function ct(N,...b){return Bt(N,...b)}function At(N,b,D){const F=Object.assign(Object.assign({},yt()),{[b]:D});return new M.LL("auth","Firebase",F).create(b,{appName:N.name})}function bt(N,b,D){if(!(b instanceof D))throw D.name!==b.constructor.name&&wt(N,"argument-error"),At(N,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bt(N,...b){if("string"!=typeof N){const D=b[0],F=[...b.slice(1)];return F[0]&&(F[0].appName=N.name),N._errorFactory.create(D,...F)}return lt.create(N,...b)}function ze(N,b,...D){if(!N)throw Bt(b,...D)}function ht(N){const b="INTERNAL ASSERTION FAILED: "+N;throw it(b),new Error(b)}function Ft(N,b){N||ht(b)}const Qt=new Map;function jt(N){Ft(N instanceof Function,"Expected a class definition");let b=Qt.get(N);return b?(Ft(b instanceof N,"Instance stored in cache mismatched with class"),b):(b=new N,Qt.set(N,b),b)}function mt(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.href)||""}function st(){return"http:"===Dt()||"https:"===Dt()}function Dt(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.protocol)||null}class qt{constructor(b,D){this.shortDelay=b,this.longDelay=D,Ft(D>b,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function Lt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function En(N,b){Ft(N.emulator,"Emulator should always be set here");const{url:D}=N.emulator;return b?`${D}${b.startsWith("/")?b.slice(1):b}`:D}class dn{static initialize(b,D,F){this.fetchImpl=b,D&&(this.headersImpl=D),F&&(this.responseImpl=F)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const An={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mn=new qt(3e4,6e4);function Un(N,b){return N.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:N.tenantId}):b}function wn(N,b,D,F){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,w.Z)(function*(N,b,D,F,Q={}){return Br(N,Q,(0,w.Z)(function*(){let he={},dt={};F&&("GET"===b?dt=F:he={body:JSON.stringify(F)});const sn=(0,M.xO)(Object.assign({key:N.config.apiKey},dt)).slice(1),Ut=yield N._getAdditionalHeaders();return Ut["Content-Type"]="application/json",N.languageCode&&(Ut["X-Firebase-Locale"]=N.languageCode),dn.fetch()(Zr(N,N.config.apiHost,D,sn),Object.assign({method:b,headers:Ut,referrerPolicy:"no-referrer"},he))}))})).apply(this,arguments)}function Br(N,b,D){return yr.apply(this,arguments)}function yr(){return(yr=(0,w.Z)(function*(N,b,D){N._canInitEmulator=!1;const F=Object.assign(Object.assign({},An),b);try{const Q=new Wr(N),he=yield Promise.race([D(),Q.promise]);Q.clearNetworkTimeout();const dt=yield he.json();if("needConfirmation"in dt)throw br(N,"account-exists-with-different-credential",dt);if(he.ok&&!("errorMessage"in dt))return dt;{const sn=he.ok?dt.errorMessage:dt.error.message,[Ut,Yt]=sn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ut)throw br(N,"credential-already-in-use",dt);if("EMAIL_EXISTS"===Ut)throw br(N,"email-already-in-use",dt);if("USER_DISABLED"===Ut)throw br(N,"user-disabled",dt);const $r=F[Ut]||Ut.toLowerCase().replace(/[_\s]+/g,"-");if(Yt)throw At(N,$r,Yt);wt(N,$r)}}catch(Q){if(Q instanceof M.ZR)throw Q;wt(N,"network-request-failed")}})).apply(this,arguments)}function dr(N,b,D,F){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,w.Z)(function*(N,b,D,F,Q={}){const he=yield wn(N,b,D,F,Q);return"mfaPendingCredential"in he&&wt(N,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function Zr(N,b,D,F){const Q=`${b}${D}?${F}`;return N.config.emulator?En(N.config,Q):`${N.config.apiScheme}://${Q}`}class Wr{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((D,F)=>{this.timer=setTimeout(()=>F(ct(this.auth,"network-request-failed")),mn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function br(N,b,D){const F={appName:N.name};D.email&&(F.email=D.email),D.phoneNumber&&(F.phoneNumber=D.phoneNumber);const Q=ct(N,b,F);return Q.customData._tokenResponse=D,Q}function rr(){return(rr=(0,w.Z)(function*(N,b){return wn(N,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function Xn(N,b){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,w.Z)(function*(N,b){return wn(N,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function yn(N,b){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,w.Z)(function*(N,b){return wn(N,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function Fi(N){if(N)try{const b=new Date(Number(N));if(!isNaN(b.getTime()))return b.toUTCString()}catch{}}function qr(){return(qr=(0,w.Z)(function*(N,b=!1){const D=(0,M.m9)(N),F=yield D.getIdToken(b),Q=kn(F);ze(Q&&Q.exp&&Q.auth_time&&Q.iat,D.auth,"internal-error");const he="object"==typeof Q.firebase?Q.firebase:void 0,dt=he?.sign_in_provider;return{claims:Q,token:F,authTime:Fi(St(Q.auth_time)),issuedAtTime:Fi(St(Q.iat)),expirationTime:Fi(St(Q.exp)),signInProvider:dt||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function St(N){return 1e3*Number(N)}function kn(N){const[b,D,F]=N.split(".");if(void 0===b||void 0===D||void 0===F)return it("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,M.tV)(D);return Q?JSON.parse(Q):(it("Failed to decode base64 JWT payload"),null)}catch(Q){return it("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Fn(N,b){return jn.apply(this,arguments)}function jn(){return(jn=(0,w.Z)(function*(N,b,D=!1){if(D)return b;try{return yield b}catch(F){throw F instanceof M.ZR&&zr(F)&&N.auth.currentUser===N&&(yield N.auth.signOut()),F}})).apply(this,arguments)}function zr({code:N}){return"auth/user-disabled"===N||"auth/user-token-expired"===N}class Ji{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var D;if(b){const F=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),F}{this.errorBackoff=3e4;const Q=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(b=!1){var D=this;if(!this.isRunning)return;const F=this.getInterval(b);this.timerId=setTimeout((0,w.Z)(function*(){yield D.iteration()}),F)}iteration(){var b=this;return(0,w.Z)(function*(){try{yield b.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===D?.code&&b.schedule(!0))}b.schedule()})()}}class In{constructor(b,D){this.createdAt=b,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fi(this.lastLoginAt),this.creationTime=Fi(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ss(N){return mr.apply(this,arguments)}function mr(){return(mr=(0,w.Z)(function*(N){var b;const D=N.auth,F=yield N.getIdToken(),Q=yield Fn(N,yn(D,{idToken:F}));ze(Q?.users.length,D,"internal-error");const he=Q.users[0];N._notifyReloadListener(he);const dt=null!==(b=he.providerUserInfo)&&void 0!==b&&b.length?gi(he.providerUserInfo):[],sn=os(N.providerData,dt),$r=!!N.isAnonymous&&!(N.email&&he.passwordHash||sn?.length),un={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:sn,metadata:new In(he.createdAt,he.lastLoginAt),isAnonymous:$r};Object.assign(N,un)})).apply(this,arguments)}function lr(){return(lr=(0,w.Z)(function*(N){const b=(0,M.m9)(N);yield ss(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function os(N,b){return[...N.filter(F=>!b.some(Q=>Q.providerId===F.providerId)),...b]}function gi(N){return N.map(b=>{var{providerId:D}=b,F=(0,me._T)(b,["providerId"]);return{providerId:D,uid:F.rawId||"",displayName:F.displayName||null,email:F.email||null,phoneNumber:F.phoneNumber||null,photoURL:F.photoUrl||null}})}function $t(){return($t=(0,w.Z)(function*(N,b){const D=yield Br(N,{},(0,w.Z)(function*(){const F=(0,M.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:Q,apiKey:he}=N.config,dt=Zr(N,Q,"/v1/token",`key=${he}`),sn=yield N._getAdditionalHeaders();return sn["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(dt,{method:"POST",headers:sn,body:F})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class Tn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){ze(b.idToken,"internal-error"),ze(typeof b.idToken<"u","internal-error"),ze(typeof b.refreshToken<"u","internal-error");const D="expiresIn"in b&&typeof b.expiresIn<"u"?Number(b.expiresIn):function pn(N){const b=kn(N);return ze(b,"internal-error"),ze(typeof b.exp<"u","internal-error"),ze(typeof b.iat<"u","internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,D)}getToken(b,D=!1){var F=this;return(0,w.Z)(function*(){return ze(!F.accessToken||F.refreshToken,b,"user-token-expired"),D||!F.accessToken||F.isExpired?F.refreshToken?(yield F.refresh(b,F.refreshToken),F.accessToken):null:F.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,D){var F=this;return(0,w.Z)(function*(){const{accessToken:Q,refreshToken:he,expiresIn:dt}=yield function on(N,b){return $t.apply(this,arguments)}(b,D);F.updateTokensAndExpiration(Q,he,Number(dt))})()}updateTokensAndExpiration(b,D,F){this.refreshToken=D||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*F}static fromJSON(b,D){const{refreshToken:F,accessToken:Q,expirationTime:he}=D,dt=new Tn;return F&&(ze("string"==typeof F,"internal-error",{appName:b}),dt.refreshToken=F),Q&&(ze("string"==typeof Q,"internal-error",{appName:b}),dt.accessToken=Q),he&&(ze("number"==typeof he,"internal-error",{appName:b}),dt.expirationTime=he),dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new Tn,this.toJSON())}_performRefresh(){return ht("not implemented")}}function Wn(N,b){ze("string"==typeof N||typeof N>"u","internal-error",{appName:b})}class Zt{constructor(b){var{uid:D,auth:F,stsTokenManager:Q}=b,he=(0,me._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ji(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=F,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new In(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(b){var D=this;return(0,w.Z)(function*(){const F=yield Fn(D,D.stsTokenManager.getToken(D.auth,b));return ze(F,D.auth,"internal-error"),D.accessToken!==F&&(D.accessToken=F,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),F})()}getIdTokenResult(b){return function ti(N){return qr.apply(this,arguments)}(this,b)}reload(){return function hs(N){return lr.apply(this,arguments)}(this)}_assign(b){this!==b&&(ze(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(D=>Object.assign({},D)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new Zt(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,D=!1){var F=this;return(0,w.Z)(function*(){let Q=!1;b.idToken&&b.idToken!==F.stsTokenManager.accessToken&&(F.stsTokenManager.updateFromServerResponse(b),Q=!0),D&&(yield ss(F)),yield F.auth._persistUserIfCurrent(F),Q&&F.auth._notifyListenersIfCurrent(F)})()}delete(){var b=this;return(0,w.Z)(function*(){const D=yield b.getIdToken();return yield Fn(b,function pi(N,b){return rr.apply(this,arguments)}(b.auth,{idToken:D})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,D){var F,Q,he,dt,sn,Ut,Yt,$r;const un=null!==(F=D.displayName)&&void 0!==F?F:void 0,Mt=null!==(Q=D.email)&&void 0!==Q?Q:void 0,Jt=null!==(he=D.phoneNumber)&&void 0!==he?he:void 0,_o=null!==(dt=D.photoURL)&&void 0!==dt?dt:void 0,Dc=null!==(sn=D.tenantId)&&void 0!==sn?sn:void 0,gd=null!==(Ut=D._redirectEventId)&&void 0!==Ut?Ut:void 0,Oh=null!==(Yt=D.createdAt)&&void 0!==Yt?Yt:void 0,bu=null!==($r=D.lastLoginAt)&&void 0!==$r?$r:void 0,{uid:Wd,emailVerified:hp,isAnonymous:Rh,providerData:Ph,stsTokenManager:wg}=D;ze(Wd&&wg,b,"internal-error");const Tg=Tn.fromJSON(this.name,wg);ze("string"==typeof Wd,b,"internal-error"),Wn(un,b.name),Wn(Mt,b.name),ze("boolean"==typeof hp,b,"internal-error"),ze("boolean"==typeof Rh,b,"internal-error"),Wn(Jt,b.name),Wn(_o,b.name),Wn(Dc,b.name),Wn(gd,b.name),Wn(Oh,b.name),Wn(bu,b.name);const eu=new Zt({uid:Wd,auth:b,email:Mt,emailVerified:hp,displayName:un,isAnonymous:Rh,photoURL:_o,phoneNumber:Jt,tenantId:Dc,stsTokenManager:Tg,createdAt:Oh,lastLoginAt:bu});return Ph&&Array.isArray(Ph)&&(eu.providerData=Ph.map(Mr=>Object.assign({},Mr))),gd&&(eu._redirectEventId=gd),eu}static _fromIdTokenResponse(b,D,F=!1){return(0,w.Z)(function*(){const Q=new Tn;Q.updateFromServerResponse(D);const he=new Zt({uid:D.localId,auth:b,stsTokenManager:Q,isAnonymous:F});return yield ss(he),he})()}}const Ue=(()=>{class N{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(D,F){var Q=this;return(0,w.Z)(function*(){Q.storage[D]=F})()}_get(D){var F=this;return(0,w.Z)(function*(){const Q=F.storage[D];return void 0===Q?null:Q})()}_remove(D){var F=this;return(0,w.Z)(function*(){delete F.storage[D]})()}_addListener(D,F){}_removeListener(D,F){}}return N.type="NONE",N})();function Se(N,b,D){return`firebase:${N}:${b}:${D}`}class je{constructor(b,D,F){this.persistence=b,this.auth=D,this.userKey=F;const{config:Q,name:he}=this.auth;this.fullUserKey=Se(this.userKey,Q.apiKey,he),this.fullPersistenceKey=Se("persistence",Q.apiKey,he),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,w.Z)(function*(){const D=yield b.persistence._get(b.fullUserKey);return D?Zt._fromJSON(b.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var D=this;return(0,w.Z)(function*(){if(D.persistence===b)return;const F=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=b,F?D.setCurrentUser(F):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,D,F="authUser"){return(0,w.Z)(function*(){if(!D.length)return new je(jt(Ue),b,F);const Q=(yield Promise.all(D.map(function(){var Yt=(0,w.Z)(function*($r){if(yield $r._isAvailable())return $r});return function($r){return Yt.apply(this,arguments)}}()))).filter(Yt=>Yt);let he=Q[0]||jt(Ue);const dt=Se(F,b.config.apiKey,b.name);let sn=null;for(const Yt of D)try{const $r=yield Yt._get(dt);if($r){const un=Zt._fromJSON(b,$r);Yt!==he&&(sn=un),he=Yt;break}}catch{}const Ut=Q.filter(Yt=>Yt._shouldAllowMigration);return he._shouldAllowMigration&&Ut.length?(he=Ut[0],sn&&(yield he._set(dt,sn.toJSON())),yield Promise.all(D.map(function(){var Yt=(0,w.Z)(function*($r){if($r!==he)try{yield $r._remove(dt)}catch{}});return function($r){return Yt.apply(this,arguments)}}())),new je(he,b,F)):new je(he,b,F)})()}}function Ce(N){const b=N.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(Kt(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(ue(b))return"Firefox";if(b.includes("silk/"))return"Silk";if($e(b))return"Blackberry";if(Fe(b))return"Webos";if(Ae(b))return"Safari";if((b.includes("chrome/")||vt(b))&&!b.includes("edge/"))return"Chrome";if(Dn(b))return"Android";{const F=N.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===F?.length)return F[1]}return"Other"}function ue(N=(0,M.z$)()){return/firefox\//i.test(N)}function Ae(N=(0,M.z$)()){const b=N.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function vt(N=(0,M.z$)()){return/crios\//i.test(N)}function Kt(N=(0,M.z$)()){return/iemobile/i.test(N)}function Dn(N=(0,M.z$)()){return/android/i.test(N)}function $e(N=(0,M.z$)()){return/blackberry/i.test(N)}function Fe(N=(0,M.z$)()){return/webos/i.test(N)}function ve(N=(0,M.z$)()){return/iphone|ipad|ipod/i.test(N)||/macintosh/i.test(N)&&/mobile/i.test(N)}function nt(N=(0,M.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(N)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(N)}function Mn(N=(0,M.z$)()){return ve(N)||Dn(N)||Fe(N)||$e(N)||/windows phone/i.test(N)||Kt(N)}function si(N,b=[]){let D;switch(N){case"Browser":D=Ce((0,M.z$)());break;case"Worker":D=`${Ce((0,M.z$)())}-${N}`;break;default:D=N}const F=b.length?b.join(","):"FirebaseCore-web";return`${D}/JsCore/${l.SDK_VERSION}/${F}`}class fs{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,D){const F=he=>new Promise((dt,sn)=>{try{dt(b(he))}catch(Ut){sn(Ut)}});F.onAbort=D,this.queue.push(F);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(b){var D=this;return(0,w.Z)(function*(){if(D.auth.currentUser===b)return;const F=[];try{for(const Q of D.queue)yield Q(b),Q.onAbort&&F.push(Q.onAbort)}catch(Q){F.reverse();for(const he of F)try{he()}catch{}throw D.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}class Ur{constructor(b,D,F){this.app=b,this.heartbeatServiceProvider=D,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Os(this),this.idTokenSubscription=new Os(this),this.beforeStateQueue=new fs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(b,D){var F=this;return D&&(this._popupRedirectResolver=jt(D)),this._initializationPromise=this.queue((0,w.Z)(function*(){var Q,he;if(!F._deleted&&(F.persistenceManager=yield je.create(F,b),!F._deleted)){if(null!==(Q=F._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield F._popupRedirectResolver._initialize(F)}catch{}yield F.initializeCurrentUser(D),F.lastNotifiedUid=(null===(he=F.currentUser)||void 0===he?void 0:he.uid)||null,!F._deleted&&(F._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,w.Z)(function*(){if(b._deleted)return;const D=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||D){if(b.currentUser&&D&&b.currentUser.uid===D.uid)return b._currentUser._assign(D),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(D,!0)}})()}initializeCurrentUser(b){var D=this;return(0,w.Z)(function*(){var F;const Q=yield D.assertedPersistence.getCurrentUser();let he=Q,dt=!1;if(b&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const sn=null===(F=D.redirectUser)||void 0===F?void 0:F._redirectEventId,Ut=he?._redirectEventId,Yt=yield D.tryRedirectSignIn(b);(!sn||sn===Ut)&&Yt?.user&&(he=Yt.user,dt=!0)}if(!he)return D.directlySetCurrentUser(null);if(!he._redirectEventId){if(dt)try{yield D.beforeStateQueue.runMiddleware(he)}catch(sn){he=Q,D._popupRedirectResolver._overrideRedirectResult(D,()=>Promise.reject(sn))}return he?D.reloadAndSetCurrentUserOrClear(he):D.directlySetCurrentUser(null)}return ze(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===he._redirectEventId?D.directlySetCurrentUser(he):D.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(b){var D=this;return(0,w.Z)(function*(){let F=null;try{F=yield D._popupRedirectResolver._completeRedirectFn(D,b,!0)}catch{yield D._setRedirectUser(null)}return F})()}reloadAndSetCurrentUserOrClear(b){var D=this;return(0,w.Z)(function*(){try{yield ss(b)}catch(F){if("auth/network-request-failed"!==F?.code)return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function Wt(){if(typeof navigator>"u")return null;const N=navigator;return N.languages&&N.languages[0]||N.language||null}()}_delete(){var b=this;return(0,w.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var D=this;return(0,w.Z)(function*(){const F=b?(0,M.m9)(b):null;return F&&ze(F.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(F&&F._clone(D))})()}_updateCurrentUser(b,D=!1){var F=this;return(0,w.Z)(function*(){if(!F._deleted)return b&&ze(F.tenantId===b.tenantId,F,"tenant-id-mismatch"),D||(yield F.beforeStateQueue.runMiddleware(b)),F.queue((0,w.Z)(function*(){yield F.directlySetCurrentUser(b),F.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,w.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var D=this;return this.queue((0,w.Z)(function*(){yield D.assertedPersistence.setPersistence(jt(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new M.LL("auth","Firebase",b())}onAuthStateChanged(b,D,F){return this.registerStateListener(this.authStateSubscription,b,D,F)}beforeAuthStateChanged(b,D){return this.beforeStateQueue.pushCallback(b,D)}onIdTokenChanged(b,D,F){return this.registerStateListener(this.idTokenSubscription,b,D,F)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,D){var F=this;return(0,w.Z)(function*(){const Q=yield F.getOrInitRedirectPersistenceManager(D);return null===b?Q.removeCurrentUser():Q.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var D=this;return(0,w.Z)(function*(){if(!D.redirectPersistenceManager){const F=b&&jt(b)||D._popupRedirectResolver;ze(F,D,"argument-error"),D.redirectPersistenceManager=yield je.create(D,[jt(F._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(b){var D=this;return(0,w.Z)(function*(){var F,Q;return D._isInitialized&&(yield D.queue((0,w.Z)(function*(){}))),(null===(F=D._currentUser)||void 0===F?void 0:F._redirectEventId)===b?D._currentUser:(null===(Q=D.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===b?D.redirectUser:null})()}_persistUserIfCurrent(b){var D=this;return(0,w.Z)(function*(){if(b===D.currentUser)return D.queue((0,w.Z)(function*(){return D.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const F=null!==(D=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==F&&(this.lastNotifiedUid=F,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,D,F,Q){if(this._deleted)return()=>{};const he="function"==typeof D?D:D.next.bind(D),dt=this._isInitialized?Promise.resolve():this._initializationPromise;return ze(dt,this,"internal-error"),dt.then(()=>he(this.currentUser)),"function"==typeof D?b.addObserver(D,F,Q):b.addObserver(D)}directlySetCurrentUser(b){var D=this;return(0,w.Z)(function*(){D.currentUser&&D.currentUser!==b&&D._currentUser._stopProactiveRefresh(),b&&D.isProactiveRefreshEnabled&&b._startProactiveRefresh(),D.currentUser=b,b?yield D.assertedPersistence.setCurrentUser(b):yield D.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=si(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,w.Z)(function*(){var D;const F={"X-Client-Version":b.clientVersion};b.app.options.appId&&(F["X-Firebase-gmpid"]=b.app.options.appId);const Q=yield null===(D=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getHeartbeatsHeader();return Q&&(F["X-Firebase-Client"]=Q),F})()}}function Hi(N){return(0,M.m9)(N)}class Os{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,M.ne)(D=>this.observer=D)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function oo(N,b,D){const F=Hi(N);ze(F._canInitEmulator,F,"emulator-config-failed"),ze(/^https?:\/\//.test(b),F,"invalid-emulator-scheme");const Q=!!D?.disableWarnings,he=bs(b),{host:dt,port:sn}=function oi(N){const b=bs(N),D=/(\/\/)?([^?#/]+)/.exec(N.substr(b.length));if(!D)return{host:"",port:null};const F=D[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(F);if(Q){const he=Q[1];return{host:he,port:qs(F.substr(he.length+1))}}{const[he,dt]=F.split(":");return{host:he,port:qs(dt)}}}(b);F.config.emulator={url:`${he}//${dt}${null===sn?"":`:${sn}`}/`},F.settings.appVerificationDisabledForTesting=!0,F.emulatorConfig=Object.freeze({host:dt,port:sn,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Jr(){function N(){const b=document.createElement("p"),D=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",N):N())}()}function bs(N){const b=N.indexOf(":");return b<0?"":N.substr(0,b+1)}function qs(N){if(!N)return null;const b=Number(N);return isNaN(b)?null:b}class mi{constructor(b,D){this.providerId=b,this.signInMethod=D}toJSON(){return ht("not implemented")}_getIdTokenResponse(b){return ht("not implemented")}_linkToIdToken(b,D){return ht("not implemented")}_getReauthenticationResolver(b){return ht("not implemented")}}function Ai(N,b){return wi.apply(this,arguments)}function wi(){return(wi=(0,w.Z)(function*(N,b){return wn(N,"POST","/v1/accounts:resetPassword",Un(N,b))})).apply(this,arguments)}function xi(N,b){return ni.apply(this,arguments)}function ni(){return(ni=(0,w.Z)(function*(N,b){return wn(N,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Pn(N,b){return hr.apply(this,arguments)}function hr(){return(hr=(0,w.Z)(function*(N,b){return wn(N,"POST","/v1/accounts:update",Un(N,b))})).apply(this,arguments)}function ls(){return(ls=(0,w.Z)(function*(N,b){return dr(N,"POST","/v1/accounts:signInWithPassword",Un(N,b))})).apply(this,arguments)}function er(N,b){return hn.apply(this,arguments)}function hn(){return(hn=(0,w.Z)(function*(N,b){return wn(N,"POST","/v1/accounts:sendOobCode",Un(N,b))})).apply(this,arguments)}function Rs(N,b){return Er.apply(this,arguments)}function Er(){return(Er=(0,w.Z)(function*(N,b){return er(N,b)})).apply(this,arguments)}function ya(N,b){return fr.apply(this,arguments)}function fr(){return(fr=(0,w.Z)(function*(N,b){return er(N,b)})).apply(this,arguments)}function tr(N,b){return xo.apply(this,arguments)}function xo(){return(xo=(0,w.Z)(function*(N,b){return er(N,b)})).apply(this,arguments)}function ta(N,b){return as.apply(this,arguments)}function as(){return(as=(0,w.Z)(function*(N,b){return er(N,b)})).apply(this,arguments)}function Li(){return(Li=(0,w.Z)(function*(N,b){return dr(N,"POST","/v1/accounts:signInWithEmailLink",Un(N,b))})).apply(this,arguments)}function ke(){return(ke=(0,w.Z)(function*(N,b){return dr(N,"POST","/v1/accounts:signInWithEmailLink",Un(N,b))})).apply(this,arguments)}class _t extends mi{constructor(b,D,F,Q=null){super("password",F),this._email=b,this._password=D,this._tenantId=Q}static _fromEmailAndPassword(b,D){return new _t(b,D,"password")}static _fromEmailAndCode(b,D,F=null){return new _t(b,D,"emailLink",F)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b;if(D?.email&&D?.password){if("password"===D.signInMethod)return this._fromEmailAndPassword(D.email,D.password);if("emailLink"===D.signInMethod)return this._fromEmailAndCode(D.email,D.password,D.tenantId)}return null}_getIdTokenResponse(b){var D=this;return(0,w.Z)(function*(){switch(D.signInMethod){case"password":return function Gi(N,b){return ls.apply(this,arguments)}(b,{returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function ao(N,b){return Li.apply(this,arguments)}(b,{email:D._email,oobCode:D._password});default:wt(b,"internal-error")}})()}_linkToIdToken(b,D){var F=this;return(0,w.Z)(function*(){switch(F.signInMethod){case"password":return xi(b,{idToken:D,returnSecureToken:!0,email:F._email,password:F._password});case"emailLink":return function Et(N,b){return ke.apply(this,arguments)}(b,{idToken:D,email:F._email,oobCode:F._password});default:wt(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function rt(N,b){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,w.Z)(function*(N,b){return dr(N,"POST","/v1/accounts:signInWithIdp",Un(N,b))})).apply(this,arguments)}class Te extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const D=new Te(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(D.idToken=b.idToken),b.accessToken&&(D.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(D.nonce=b.nonce),b.pendingToken&&(D.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(D.accessToken=b.oauthToken,D.secret=b.oauthTokenSecret):wt("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b,{providerId:F,signInMethod:Q}=D,he=(0,me._T)(D,["providerId","signInMethod"]);if(!F||!Q)return null;const dt=new Te(F,Q);return dt.idToken=he.idToken||void 0,dt.accessToken=he.accessToken||void 0,dt.secret=he.secret,dt.nonce=he.nonce,dt.pendingToken=he.pendingToken||null,dt}_getIdTokenResponse(b){return rt(b,this.buildRequest())}_linkToIdToken(b,D){const F=this.buildRequest();return F.idToken=D,rt(b,F)}_getReauthenticationResolver(b){const D=this.buildRequest();return D.autoCreate=!1,rt(b,D)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),b.postBody=(0,M.xO)(D)}return b}}function Ke(N,b){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,w.Z)(function*(N,b){return wn(N,"POST","/v1/accounts:sendVerificationCode",Un(N,b))})).apply(this,arguments)}function On(){return(On=(0,w.Z)(function*(N,b){return dr(N,"POST","/v1/accounts:signInWithPhoneNumber",Un(N,b))})).apply(this,arguments)}function Cr(){return(Cr=(0,w.Z)(function*(N,b){const D=yield dr(N,"POST","/v1/accounts:signInWithPhoneNumber",Un(N,b));if(D.temporaryProof)throw br(N,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}const xr={USER_NOT_FOUND:"user-not-found"};function us(){return(us=(0,w.Z)(function*(N,b){return dr(N,"POST","/v1/accounts:signInWithPhoneNumber",Un(N,Object.assign(Object.assign({},b),{operation:"REAUTH"})),xr)})).apply(this,arguments)}class Je extends mi{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,D){return new Je({verificationId:b,verificationCode:D})}static _fromTokenResponse(b,D){return new Je({phoneNumber:b,temporaryProof:D})}_getIdTokenResponse(b){return function rn(N,b){return On.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,D){return function Nn(N,b){return Cr.apply(this,arguments)}(b,Object.assign({idToken:D},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function Bi(N,b){return us.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:D,verificationId:F,verificationCode:Q}=this.params;return b&&D?{temporaryProof:b,phoneNumber:D}:{sessionInfo:F,code:Q}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:D,verificationCode:F,phoneNumber:Q,temporaryProof:he}=b;return F||D||Q||he?new Je({verificationId:D,verificationCode:F,phoneNumber:Q,temporaryProof:he}):null}}class ji{constructor(b){var D,F,Q,he,dt,sn;const Ut=(0,M.zd)((0,M.pd)(b)),Yt=null!==(D=Ut.apiKey)&&void 0!==D?D:null,$r=null!==(F=Ut.oobCode)&&void 0!==F?F:null,un=function Pe(N){switch(N){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Ut.mode)&&void 0!==Q?Q:null);ze(Yt&&$r&&un,"argument-error"),this.apiKey=Yt,this.operation=un,this.code=$r,this.continueUrl=null!==(he=Ut.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(dt=Ut.languageCode)&&void 0!==dt?dt:null,this.tenantId=null!==(sn=Ut.tenantId)&&void 0!==sn?sn:null}static parseLink(b){const D=function Bl(N){const b=(0,M.zd)((0,M.pd)(N)).link,D=b?(0,M.zd)((0,M.pd)(b)).deep_link_id:null,F=(0,M.zd)((0,M.pd)(N)).deep_link_id;return(F?(0,M.zd)((0,M.pd)(F)).link:null)||F||D||b||N}(b);try{return new ji(D)}catch{return null}}}let Ga=(()=>{class N{constructor(){this.providerId=N.PROVIDER_ID}static credential(D,F){return _t._fromEmailAndPassword(D,F)}static credentialWithLink(D,F){const Q=ji.parseLink(F);return ze(Q,"argument-error"),_t._fromEmailAndCode(D,Q.code,Q.tenantId)}}return N.PROVIDER_ID="password",N.EMAIL_PASSWORD_SIGN_IN_METHOD="password",N.EMAIL_LINK_SIGN_IN_METHOD="emailLink",N})();class Xs{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class ja extends Xs{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class Vo extends ja{static credentialFromJSON(b){const D="string"==typeof b?JSON.parse(b):b;return ze("providerId"in D&&"signInMethod"in D,"argument-error"),Te._fromParams(D)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return ze(b.idToken||b.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return Vo.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return Vo.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:D,oauthAccessToken:F,oauthTokenSecret:Q,pendingToken:he,nonce:dt,providerId:sn}=b;if(!F&&!Q&&!D&&!he||!sn)return null;try{return new Vo(sn)._credential({idToken:D,accessToken:F,nonce:dt,pendingToken:he})}catch{return null}}}let _c=(()=>{class N extends ja{constructor(){super("facebook.com")}static credential(D){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.FACEBOOK_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return N.credential(D.oauthAccessToken)}catch{return null}}}return N.FACEBOOK_SIGN_IN_METHOD="facebook.com",N.PROVIDER_ID="facebook.com",N})(),_i=(()=>{class N extends ja{constructor(){super("google.com"),this.addScope("profile")}static credential(D,F){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GOOGLE_SIGN_IN_METHOD,idToken:D,accessToken:F})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:F,oauthAccessToken:Q}=D;if(!F&&!Q)return null;try{return N.credential(F,Q)}catch{return null}}}return N.GOOGLE_SIGN_IN_METHOD="google.com",N.PROVIDER_ID="google.com",N})(),Ui=(()=>{class N extends ja{constructor(){super("github.com")}static credential(D){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GITHUB_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return N.credential(D.oauthAccessToken)}catch{return null}}}return N.GITHUB_SIGN_IN_METHOD="github.com",N.PROVIDER_ID="github.com",N})();class Ks extends mi{constructor(b,D){super(b,b),this.pendingToken=D}_getIdTokenResponse(b){return rt(b,this.buildRequest())}_linkToIdToken(b,D){const F=this.buildRequest();return F.idToken=D,rt(b,F)}_getReauthenticationResolver(b){const D=this.buildRequest();return D.autoCreate=!1,rt(b,D)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b,{providerId:F,signInMethod:Q,pendingToken:he}=D;return F&&Q&&he&&F===Q?new Ks(F,he):null}static _create(b,D){return new Ks(b,D)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ra extends Xs{constructor(b){ze(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return ra.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return ra.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const D=Ks.fromJSON(b);return ze(D,"argument-error"),D}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:D,providerId:F}=b;if(!D||!F)return null;try{return Ks._create(F,D)}catch{return null}}}let yo=(()=>{class N extends ja{constructor(){super("twitter.com")}static credential(D,F){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.TWITTER_SIGN_IN_METHOD,oauthToken:D,oauthTokenSecret:F})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthAccessToken:F,oauthTokenSecret:Q}=D;if(!F||!Q)return null;try{return N.credential(F,Q)}catch{return null}}}return N.TWITTER_SIGN_IN_METHOD="twitter.com",N.PROVIDER_ID="twitter.com",N})();function Vl(N,b){return gu.apply(this,arguments)}function gu(){return(gu=(0,w.Z)(function*(N,b){return dr(N,"POST","/v1/accounts:signUp",Un(N,b))})).apply(this,arguments)}class Mo{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,D,F,Q=!1){return(0,w.Z)(function*(){const he=yield Zt._fromIdTokenResponse(b,F,Q),dt=ps(F);return new Mo({user:he,providerId:dt,_tokenResponse:F,operationType:D})})()}static _forOperation(b,D,F){return(0,w.Z)(function*(){yield b._updateTokensIfNecessary(F,!0);const Q=ps(F);return new Mo({user:b,providerId:Q,_tokenResponse:F,operationType:D})})()}}function ps(N){return N.providerId?N.providerId:"phoneNumber"in N?"phone":null}function Ou(N){return uo.apply(this,arguments)}function uo(){return(uo=(0,w.Z)(function*(N){var b;const D=Hi(N);if(yield D._initializationPromise,null!==(b=D.currentUser)&&void 0!==b&&b.isAnonymous)return new Mo({user:D.currentUser,providerId:null,operationType:"signIn"});const F=yield Vl(D,{returnSecureToken:!0}),Q=yield Mo._fromIdTokenResponse(D,"signIn",F,!0);return yield D._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Wa extends M.ZR{constructor(b,D,F,Q){var he;super(D.code,D.message),this.operationType=F,this.user=Q,Object.setPrototypeOf(this,Wa.prototype),this.customData={appName:b.name,tenantId:null!==(he=b.tenantId)&&void 0!==he?he:void 0,_serverResponse:D.customData._serverResponse,operationType:F}}static _fromErrorAndOperation(b,D,F,Q){return new Wa(b,D,F,Q)}}function ru(N,b,D,F){return("reauthenticate"===b?D._getReauthenticationResolver(N):D._getIdTokenResponse(N)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?Wa._fromErrorAndOperation(N,he,b,F):he})}function Ti(N){return new Set(N.map(({providerId:b})=>b).filter(b=>!!b))}function ia(N,b){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,w.Z)(function*(N,b){const D=(0,M.m9)(N);yield $o(!0,D,b);const{providerUserInfo:F}=yield Xn(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[b]}),Q=Ti(F||[]);return D.providerData=D.providerData.filter(he=>Q.has(he.providerId)),Q.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D})).apply(this,arguments)}function Ea(N,b){return bo.apply(this,arguments)}function bo(){return(bo=(0,w.Z)(function*(N,b,D=!1){const F=yield Fn(N,b._linkToIdToken(N.auth,yield N.getIdToken()),D);return Mo._forOperation(N,"link",F)})).apply(this,arguments)}function $o(N,b,D){return No.apply(this,arguments)}function No(){return(No=(0,w.Z)(function*(N,b,D){yield ss(b);const Q=!1===N?"provider-already-linked":"no-such-provider";ze(Ti(b.providerData).has(D)===N,b.auth,Q)})).apply(this,arguments)}function lo(N,b){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,w.Z)(function*(N,b,D=!1){const{auth:F}=N,Q="reauthenticate";try{const he=yield Fn(N,ru(F,Q,b,N),D);ze(he.idToken,F,"internal-error");const dt=kn(he.idToken);ze(dt,F,"internal-error");const{sub:sn}=dt;return ze(N.uid===sn,F,"user-mismatch"),Mo._forOperation(N,Q,he)}catch(he){throw"auth/user-not-found"===he?.code&&wt(F,"user-mismatch"),he}})).apply(this,arguments)}function $s(N,b){return za.apply(this,arguments)}function za(){return(za=(0,w.Z)(function*(N,b,D=!1){const F="signIn",Q=yield ru(N,F,b),he=yield Mo._fromIdTokenResponse(N,F,Q);return D||(yield N._updateCurrentUser(he.user)),he})).apply(this,arguments)}function ws(N,b){return cr.apply(this,arguments)}function cr(){return(cr=(0,w.Z)(function*(N,b){return $s(Hi(N),b)})).apply(this,arguments)}function Hs(N,b){return ci.apply(this,arguments)}function ci(){return(ci=(0,w.Z)(function*(N,b){const D=(0,M.m9)(N);return yield $o(!1,D,b.providerId),Ea(D,b)})).apply(this,arguments)}function an(N,b){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,w.Z)(function*(N,b){return lo((0,M.m9)(N),b)})).apply(this,arguments)}function qn(N,b){return wo.apply(this,arguments)}function wo(){return(wo=(0,w.Z)(function*(N,b){return dr(N,"POST","/v1/accounts:signInWithCustomToken",Un(N,b))})).apply(this,arguments)}function Oo(N,b){return gs.apply(this,arguments)}function gs(){return(gs=(0,w.Z)(function*(N,b){const D=Hi(N),F=yield qn(D,{token:b,returnSecureToken:!0}),Q=yield Mo._fromIdTokenResponse(D,"signIn",F);return yield D._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Wi{constructor(b,D){this.factorId=b,this.uid=D.mfaEnrollmentId,this.enrollmentTime=new Date(D.enrolledAt).toUTCString(),this.displayName=D.displayName}static _fromServerResponse(b,D){return"phoneInfo"in D?Zs._fromServerResponse(b,D):wt(b,"internal-error")}}class Zs extends Wi{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,D){return new Zs(D)}}function sa(N,b,D){var F;ze((null===(F=D.url)||void 0===F?void 0:F.length)>0,N,"invalid-continue-uri"),ze(typeof D.dynamicLinkDomain>"u"||D.dynamicLinkDomain.length>0,N,"invalid-dynamic-link-domain"),b.continueUrl=D.url,b.dynamicLinkDomain=D.dynamicLinkDomain,b.canHandleCodeInApp=D.handleCodeInApp,D.iOS&&(ze(D.iOS.bundleId.length>0,N,"missing-ios-bundle-id"),b.iOSBundleId=D.iOS.bundleId),D.android&&(ze(D.android.packageName.length>0,N,"missing-android-pkg-name"),b.androidInstallApp=D.android.installApp,b.androidMinimumVersionCode=D.android.minimumVersion,b.androidPackageName=D.android.packageName)}function _l(N,b,D){return To.apply(this,arguments)}function To(){return(To=(0,w.Z)(function*(N,b,D){const F=(0,M.m9)(N),Q={requestType:"PASSWORD_RESET",email:b};D&&sa(F,Q,D),yield ya(F,Q)})).apply(this,arguments)}function ms(N,b,D){return co.apply(this,arguments)}function co(){return(co=(0,w.Z)(function*(N,b,D){yield Ai((0,M.m9)(N),{oobCode:b,newPassword:D})})).apply(this,arguments)}function nr(N,b){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,w.Z)(function*(N,b){yield Pn((0,M.m9)(N),{oobCode:b})})).apply(this,arguments)}function vl(N,b){return mu.apply(this,arguments)}function mu(){return(mu=(0,w.Z)(function*(N,b){const D=(0,M.m9)(N),F=yield Ai(D,{oobCode:b}),Q=F.requestType;switch(ze(Q,D,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ze(F.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ze(F.mfaInfo,D,"internal-error");default:ze(F.email,D,"internal-error")}let he=null;return F.mfaInfo&&(he=Wi._fromServerResponse(Hi(D),F.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===F.requestType?F.newEmail:F.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===F.requestType?F.email:F.newEmail)||null,multiFactorInfo:he},operation:Q}})).apply(this,arguments)}function tl(N,b){return qa.apply(this,arguments)}function qa(){return(qa=(0,w.Z)(function*(N,b){const{data:D}=yield vl((0,M.m9)(N),b);return D.email})).apply(this,arguments)}function Gs(N,b,D){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,w.Z)(function*(N,b,D){const F=Hi(N),Q=yield Vl(F,{returnSecureToken:!0,email:b,password:D}),he=yield Mo._fromIdTokenResponse(F,"signIn",Q);return yield F._updateCurrentUser(he.user),he})).apply(this,arguments)}function Ra(N,b,D){return ws((0,M.m9)(N),Ga.credential(b,D))}function B(N,b,D){return W.apply(this,arguments)}function W(){return(W=(0,w.Z)(function*(N,b,D){const F=(0,M.m9)(N),Q={requestType:"EMAIL_SIGNIN",email:b};ze(D.handleCodeInApp,F,"argument-error"),D&&sa(F,Q,D),yield tr(F,Q)})).apply(this,arguments)}function G(N,b){return"EMAIL_SIGNIN"===ji.parseLink(b)?.operation}function se(N,b,D){return gt.apply(this,arguments)}function gt(){return(gt=(0,w.Z)(function*(N,b,D){const F=(0,M.m9)(N),Q=Ga.credentialWithLink(b,D||mt());return ze(Q._tenantId===(F.tenantId||null),F,"tenant-id-mismatch"),ws(F,Q)})).apply(this,arguments)}function $n(N,b){return zi.apply(this,arguments)}function zi(){return(zi=(0,w.Z)(function*(N,b){return wn(N,"POST","/v1/accounts:createAuthUri",Un(N,b))})).apply(this,arguments)}function Qi(N,b){return oa.apply(this,arguments)}function oa(){return(oa=(0,w.Z)(function*(N,b){const F={identifier:b,continueUri:st()?mt():"http://localhost"},{signinMethods:Q}=yield $n((0,M.m9)(N),F);return Q||[]})).apply(this,arguments)}function As(N,b){return cs.apply(this,arguments)}function cs(){return(cs=(0,w.Z)(function*(N,b){const D=(0,M.m9)(N),Q={requestType:"VERIFY_EMAIL",idToken:yield N.getIdToken()};b&&sa(D.auth,Q,b);const{email:he}=yield Rs(D.auth,Q);he!==N.email&&(yield N.reload())})).apply(this,arguments)}function aa(N,b,D){return Co.apply(this,arguments)}function Co(){return(Co=(0,w.Z)(function*(N,b,D){const F=(0,M.m9)(N),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield N.getIdToken(),newEmail:b};D&&sa(F.auth,he,D);const{email:dt}=yield ta(F.auth,he);dt!==N.email&&(yield N.reload())})).apply(this,arguments)}function qi(N,b){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,w.Z)(function*(N,b){return wn(N,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function eo(N,b){return _s.apply(this,arguments)}function _s(){return(_s=(0,w.Z)(function*(N,{displayName:b,photoURL:D}){if(void 0===b&&void 0===D)return;const F=(0,M.m9)(N),he={idToken:yield F.getIdToken(),displayName:b,photoUrl:D,returnSecureToken:!0},dt=yield Fn(F,qi(F.auth,he));F.displayName=dt.displayName||null,F.photoURL=dt.photoUrl||null;const sn=F.providerData.find(({providerId:Ut})=>"password"===Ut);sn&&(sn.displayName=F.displayName,sn.photoURL=F.photoURL),yield F._updateTokensIfNecessary(dt)})).apply(this,arguments)}function ba(N,b){return nl((0,M.m9)(N),b,null)}function ld(N,b){return nl((0,M.m9)(N),null,b)}function nl(N,b,D){return _u.apply(this,arguments)}function _u(){return(_u=(0,w.Z)(function*(N,b,D){const{auth:F}=N,he={idToken:yield N.getIdToken(),returnSecureToken:!0};b&&(he.email=b),D&&(he.password=D);const dt=yield Fn(N,xi(F,he));yield N._updateTokensIfNecessary(dt,!0)})).apply(this,arguments)}class wa{constructor(b,D,F={}){this.isNewUser=b,this.providerId=D,this.profile=F}}class rl extends wa{constructor(b,D,F,Q){super(b,D,F),this.username=Q}}class Pu extends wa{constructor(b,D){super(b,"facebook.com",D)}}class yl extends rl{constructor(b,D){super(b,"github.com",D,"string"==typeof D?.login?D?.login:null)}}class $l extends wa{constructor(b,D){super(b,"google.com",D)}}class iu extends rl{constructor(b,D,F){super(b,"twitter.com",D,F)}}function su(N){const{user:b,_tokenResponse:D}=N;return b.isAnonymous&&!D?{providerId:null,isNewUser:!1,profile:null}:function ua(N){var b,D;if(!N)return null;const{providerId:F}=N,Q=N.rawUserInfo?JSON.parse(N.rawUserInfo):{},he=N.isNewUser||"identitytoolkit#SignupNewUserResponse"===N.kind;if(!F&&N?.idToken){const dt=null===(D=null===(b=kn(N.idToken))||void 0===b?void 0:b.firebase)||void 0===D?void 0:D.sign_in_provider;if(dt)return new wa(he,"anonymous"!==dt&&"custom"!==dt?dt:null)}if(!F)return null;switch(F){case"facebook.com":return new Pu(he,Q);case"github.com":return new yl(he,Q);case"google.com":return new $l(he,Q);case"twitter.com":return new iu(he,Q,N.screenName||null);case"custom":case"anonymous":return new wa(he,null);default:return new wa(he,F,Q)}}(D)}class Xi{constructor(b,D,F){this.type=b,this.credential=D,this.auth=F}static _fromIdtoken(b,D){return new Xi("enroll",b,D)}static _fromMfaPendingCredential(b){return new Xi("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var D,F;if(b?.multiFactorSession){if(null!==(D=b.multiFactorSession)&&void 0!==D&&D.pendingCredential)return Xi._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null!==(F=b.multiFactorSession)&&void 0!==F&&F.idToken)return Xi._fromIdtoken(b.multiFactorSession.idToken)}return null}}class Ta{constructor(b,D,F){this.session=b,this.hints=D,this.signInResolver=F}static _fromError(b,D){const F=Hi(b),Q=D.customData._serverResponse,he=(Q.mfaInfo||[]).map(sn=>Wi._fromServerResponse(F,sn));ze(Q.mfaPendingCredential,F,"internal-error");const dt=Xi._fromMfaPendingCredential(Q.mfaPendingCredential);return new Ta(dt,he,function(){var sn=(0,w.Z)(function*(Ut){const Yt=yield Ut._process(F,dt);delete Q.mfaInfo,delete Q.mfaPendingCredential;const $r=Object.assign(Object.assign({},Q),{idToken:Yt.idToken,refreshToken:Yt.refreshToken});switch(D.operationType){case"signIn":const un=yield Mo._fromIdTokenResponse(F,D.operationType,$r);return yield F._updateCurrentUser(un.user),un;case"reauthenticate":return ze(D.user,F,"internal-error"),Mo._forOperation(D.user,D.operationType,$r);default:wt(F,"internal-error")}});return function(Ut){return sn.apply(this,arguments)}}())}resolveSignIn(b){var D=this;return(0,w.Z)(function*(){return D.signInResolver(b)})()}}function Hl(N,b){var D;const F=(0,M.m9)(N),Q=b;return ze(b.customData.operationType,F,"argument-error"),ze(null===(D=Q.customData._serverResponse)||void 0===D?void 0:D.mfaPendingCredential,F,"argument-error"),Ta._fromError(F,Q)}function Do(N,b){return wn(N,"POST","/v2/accounts/mfaEnrollment:start",Un(N,b))}class ku{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(D=>{D.mfaInfo&&(this.enrolledFactors=D.mfaInfo.map(F=>Wi._fromServerResponse(b.auth,F)))})}static _fromUser(b){return new ku(b)}getSession(){var b=this;return(0,w.Z)(function*(){return Xi._fromIdtoken(yield b.user.getIdToken(),b.user.auth)})()}enroll(b,D){var F=this;return(0,w.Z)(function*(){const Q=b,he=yield F.getSession(),dt=yield Fn(F.user,Q._process(F.user.auth,he,D));return yield F.user._updateTokensIfNecessary(dt),F.user.reload()})()}unenroll(b){var D=this;return(0,w.Z)(function*(){const F="string"==typeof b?b:b.uid,Q=yield D.user.getIdToken(),he=yield Fn(D.user,function ec(N,b){return wn(N,"POST","/v2/accounts/mfaEnrollment:withdraw",Un(N,b))}(D.user.auth,{idToken:Q,mfaEnrollmentId:F}));D.enrolledFactors=D.enrolledFactors.filter(({uid:dt})=>dt!==F),yield D.user._updateTokensIfNecessary(he);try{yield D.user.reload()}catch(dt){if("auth/user-token-expired"!==dt?.code)throw dt}})()}}const di=new WeakMap;function U(N){const b=(0,M.m9)(N);return di.has(b)||di.set(b,ku._fromUser(b)),di.get(b)}const ee="__sak";class H{constructor(b,D){this.storageRetriever=b,this.type=D}_isAvailable(){try{return this.storage?(this.storage.setItem(ee,"1"),this.storage.removeItem(ee),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(b,D){return this.storage.setItem(b,JSON.stringify(D)),Promise.resolve()}_get(b){const D=this.storage.getItem(b);return Promise.resolve(D?JSON.parse(D):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cn=(()=>{class N extends H{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(D,F)=>this.onStorageEvent(D,F),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function re(){const N=(0,M.z$)();return Ae(N)||ve(N)}()&&function ii(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mn(),this._shouldAllowMigration=!0}forAllChangedKeys(D){for(const F of Object.keys(this.listeners)){const Q=this.storage.getItem(F),he=this.localCache[F];Q!==he&&D(F,he,Q)}}onStorageEvent(D,F=!1){if(!D.key)return void this.forAllChangedKeys((sn,Ut,Yt)=>{this.notifyListeners(sn,Yt)});const Q=D.key;if(F?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const sn=this.storage.getItem(Q);if(D.newValue!==sn)null!==D.newValue?this.storage.setItem(Q,D.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===D.newValue&&!F)return}const he=()=>{const sn=this.storage.getItem(Q);!F&&this.localCache[Q]===sn||this.notifyListeners(Q,sn)},dt=this.storage.getItem(Q);!function Xt(){return(0,M.w1)()&&10===document.documentMode}()||dt===D.newValue||D.newValue===D.oldValue?he():setTimeout(he,10)}notifyListeners(D,F){this.localCache[D]=F;const Q=this.listeners[D];if(Q)for(const he of Array.from(Q))he(F&&JSON.parse(F))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((D,F,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:D,oldValue:F,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(D,F){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[D]||(this.listeners[D]=new Set,this.localCache[D]=this.storage.getItem(D)),this.listeners[D].add(F)}_removeListener(D,F){this.listeners[D]&&(this.listeners[D].delete(F),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(D,F){var Q=()=>super._set,he=this;return(0,w.Z)(function*(){yield Q().call(he,D,F),he.localCache[D]=JSON.stringify(F)})()}_get(D){var F=()=>super._get,Q=this;return(0,w.Z)(function*(){const he=yield F().call(Q,D);return Q.localCache[D]=JSON.stringify(he),he})()}_remove(D){var F=()=>super._remove,Q=this;return(0,w.Z)(function*(){yield F().call(Q,D),delete Q.localCache[D]})()}}return N.type="LOCAL",N})(),hi=(()=>{class N extends H{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(D,F){}_removeListener(D,F){}}return N.type="SESSION",N})();let ri=(()=>{class N{constructor(D){this.eventTarget=D,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(D){const F=this.receivers.find(he=>he.isListeningto(D));if(F)return F;const Q=new N(D);return this.receivers.push(Q),Q}isListeningto(D){return this.eventTarget===D}handleEvent(D){var F=this;return(0,w.Z)(function*(){const Q=D,{eventId:he,eventType:dt,data:sn}=Q.data,Ut=F.handlersMap[dt];if(!Ut?.size)return;Q.ports[0].postMessage({status:"ack",eventId:he,eventType:dt});const Yt=Array.from(Ut).map(function(){var un=(0,w.Z)(function*(Mt){return Mt(Q.origin,sn)});return function(Mt){return un.apply(this,arguments)}}()),$r=yield function Ni(N){return Promise.all(N.map(function(){var b=(0,w.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(F){return{fulfilled:!1,reason:F}}});return function(D){return b.apply(this,arguments)}}()))}(Yt);Q.ports[0].postMessage({status:"done",eventId:he,eventType:dt,response:$r})})()}_subscribe(D,F){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[D]||(this.handlersMap[D]=new Set),this.handlersMap[D].add(F)}_unsubscribe(D,F){this.handlersMap[D]&&F&&this.handlersMap[D].delete(F),(!F||0===this.handlersMap[D].size)&&delete this.handlersMap[D],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return N.receivers=[],N})();function Zi(N="",b=10){let D="";for(let F=0;F<b;F++)D+=Math.floor(10*Math.random());return N+D}class Oi{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,D,F=50){var Q=this;return(0,w.Z)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let dt,sn;return new Promise((Ut,Yt)=>{const $r=Zi("",20);he.port1.start();const un=setTimeout(()=>{Yt(new Error("unsupported_event"))},F);sn={messageChannel:he,onMessage(Mt){const Jt=Mt;if(Jt.data.eventId===$r)switch(Jt.data.status){case"ack":clearTimeout(un),dt=setTimeout(()=>{Yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(dt),Ut(Jt.data.response);break;default:clearTimeout(un),clearTimeout(dt),Yt(new Error("invalid_response"))}}},Q.handlers.add(sn),he.port1.addEventListener("message",sn.onMessage),Q.target.postMessage({eventType:b,eventId:$r,data:D},[he.port2])}).finally(()=>{sn&&Q.removeMessageHandler(sn)})})()}}function Qr(){return window}function vs(){return typeof Qr().WorkerGlobalScope<"u"&&"function"==typeof Qr().importScripts}function xs(){return(xs=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vu="firebaseLocalStorageDb",au="firebaseLocalStorage",Go="fbase_key";class ka{constructor(b){this.request=b}toPromise(){return new Promise((b,D)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{D(this.request.error)})})}}function yu(N,b){return N.transaction([au],b?"readwrite":"readonly").objectStore(au)}function ks(){const N=indexedDB.open(vu,1);return new Promise((b,D)=>{N.addEventListener("error",()=>{D(N.error)}),N.addEventListener("upgradeneeded",()=>{const F=N.result;try{F.createObjectStore(au,{keyPath:Go})}catch(Q){D(Q)}}),N.addEventListener("success",(0,w.Z)(function*(){const F=N.result;F.objectStoreNames.contains(au)?b(F):(F.close(),yield function Vd(){const N=indexedDB.deleteDatabase(vu);return new ka(N).toPromise()}(),b(yield ks()))}))})}function Fs(N,b,D){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,w.Z)(function*(N,b,D){const F=yu(N,!0).put({[Go]:b,value:D});return new ka(F).toPromise()})).apply(this,arguments)}function no(){return(no=(0,w.Z)(function*(N,b){const D=yu(N,!1).get(b),F=yield new ka(D).toPromise();return void 0===F?null:F.value})).apply(this,arguments)}function El(N,b){const D=yu(N,!0).delete(b);return new ka(D).toPromise()}const Lu=(()=>{class N{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var D=this;return(0,w.Z)(function*(){return D.db||(D.db=yield ks()),D.db})()}_withRetries(D){var F=this;return(0,w.Z)(function*(){let Q=0;for(;;)try{const he=yield F._openDb();return yield D(he)}catch(he){if(Q++>3)throw he;F.db&&(F.db.close(),F.db=void 0)}})()}initializeServiceWorkerMessaging(){var D=this;return(0,w.Z)(function*(){return vs()?D.initializeReceiver():D.initializeSender()})()}initializeReceiver(){var D=this;return(0,w.Z)(function*(){D.receiver=ri._getInstance(function il(){return vs()?self:null}()),D.receiver._subscribe("keyChanged",function(){var F=(0,w.Z)(function*(Q,he){return{keyProcessed:(yield D._poll()).includes(he.key)}});return function(Q,he){return F.apply(this,arguments)}}()),D.receiver._subscribe("ping",function(){var F=(0,w.Z)(function*(Q,he){return["keyChanged"]});return function(Q,he){return F.apply(this,arguments)}}())})()}initializeSender(){var D=this;return(0,w.Z)(function*(){var F,Q;if(D.activeServiceWorker=yield function to(){return xs.apply(this,arguments)}(),!D.activeServiceWorker)return;D.sender=new Oi(D.activeServiceWorker);const he=yield D.sender._send("ping",{},800);he&&null!==(F=he[0])&&void 0!==F&&F.fulfilled&&null!==(Q=he[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(D.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(D){var F=this;return(0,w.Z)(function*(){if(F.sender&&F.activeServiceWorker&&function Pa(){var N;return(null===(N=navigator?.serviceWorker)||void 0===N?void 0:N.controller)||null}()===F.activeServiceWorker)try{yield F.sender._send("keyChanged",{key:D},F.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const D=yield ks();return yield Fs(D,ee,"1"),yield El(D,ee),!0}catch{}return!1})()}_withPendingWrite(D){var F=this;return(0,w.Z)(function*(){F.pendingWrites++;try{yield D()}finally{F.pendingWrites--}})()}_set(D,F){var Q=this;return(0,w.Z)(function*(){return Q._withPendingWrite((0,w.Z)(function*(){return yield Q._withRetries(he=>Fs(he,D,F)),Q.localCache[D]=F,Q.notifyServiceWorker(D)}))})()}_get(D){var F=this;return(0,w.Z)(function*(){const Q=yield F._withRetries(he=>function Sh(N,b){return no.apply(this,arguments)}(he,D));return F.localCache[D]=Q,Q})()}_remove(D){var F=this;return(0,w.Z)(function*(){return F._withPendingWrite((0,w.Z)(function*(){return yield F._withRetries(Q=>El(Q,D)),delete F.localCache[D],F.notifyServiceWorker(D)}))})()}_poll(){var D=this;return(0,w.Z)(function*(){const F=yield D._withRetries(dt=>{const sn=yu(dt,!1).getAll();return new ka(sn).toPromise()});if(!F)return[];if(0!==D.pendingWrites)return[];const Q=[],he=new Set;for(const{fbase_key:dt,value:sn}of F)he.add(dt),JSON.stringify(D.localCache[dt])!==JSON.stringify(sn)&&(D.notifyListeners(dt,sn),Q.push(dt));for(const dt of Object.keys(D.localCache))D.localCache[dt]&&!he.has(dt)&&(D.notifyListeners(dt,null),Q.push(dt));return Q})()}notifyListeners(D,F){this.localCache[D]=F;const Q=this.listeners[D];if(Q)for(const he of Array.from(Q))he(F)}startPolling(){var D=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return D._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(D,F){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[D]||(this.listeners[D]=new Set,this._get(D)),this.listeners[D].add(F)}_removeListener(D,F){this.listeners[D]&&(this.listeners[D].delete(F),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return N.type="LOCAL",N})();function Ys(N,b){return wn(N,"POST","/v2/accounts/mfaSignIn:start",Un(N,b))}function So(){return(So=(0,w.Z)(function*(N){return(yield wn(N,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ka(N){return new Promise((b,D)=>{const F=document.createElement("script");F.setAttribute("src",N),F.onload=b,F.onerror=Q=>{const he=ct("internal-error");he.customData=Q,D(he)},F.type="text/javascript",F.charset="UTF-8",function sl(){var N,b;return null!==(b=null===(N=document.getElementsByTagName("head"))||void 0===N?void 0:N[0])&&void 0!==b?b:document}().appendChild(F)})}function Ba(N){return`__${N}${Math.floor(1e6*Math.random())}`}const fo=1e12;class po{constructor(b){this.auth=b,this.counter=fo,this._widgets=new Map}render(b,D){const F=this.counter;return this._widgets.set(F,new vc(b,this.auth.name,D||{})),this.counter++,F}reset(b){var D;const F=b||fo;null===(D=this._widgets.get(F))||void 0===D||D.delete(),this._widgets.delete(F)}getResponse(b){var D;return(null===(D=this._widgets.get(b||fo))||void 0===D?void 0:D.getResponse())||""}execute(b){var D=this;return(0,w.Z)(function*(){var F;return null===(F=D._widgets.get(b||fo))||void 0===F||F.execute(),""})()}}class vc{constructor(b,D,F){this.params=F,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof b?document.getElementById(b):b;ze(Q,"argument-error",{appName:D}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ce(N){const b=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<N;F++)b.push(D.charAt(Math.floor(Math.random()*D.length)));return b.join("")}(50);const{callback:b,"expired-callback":D}=this.params;if(b)try{b(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,D)try{D()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ls=Ba("rcb"),la=new qt(3e4,6e4);class Xr{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(b=Qr().grecaptcha)||void 0===b||!b.render)}load(b,D=""){return ze(function Io(N){return N.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(N)}(D),b,"argument-error"),this.shouldResolveImmediately(D)?Promise.resolve(Qr().grecaptcha):new Promise((F,Q)=>{const he=Qr().setTimeout(()=>{Q(ct(b,"network-request-failed"))},la.get());Qr()[Ls]=()=>{Qr().clearTimeout(he),delete Qr()[Ls];const sn=Qr().grecaptcha;if(!sn)return void Q(ct(b,"internal-error"));const Ut=sn.render;sn.render=(Yt,$r)=>{const un=Ut(Yt,$r);return this.counter++,un},this.hostLanguage=D,F(sn)},Ka(`https://www.google.com/recaptcha/api.js??${(0,M.xO)({onload:Ls,render:"explicit",hl:D})}`).catch(()=>{clearTimeout(he),Q(ct(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var D;return!(null===(D=Qr().grecaptcha)||void 0===D||!D.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bl{load(b){return(0,w.Z)(function*(){return new po(b)})()}clearedOneInstance(){}}const wl="recaptcha",Uu={theme:"light",type:"image"};class yc{constructor(b,D=Object.assign({},Uu),F){this.parameters=D,this.type=wl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hi(F),this.isInvisible="invisible"===this.parameters.size,ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof b?document.getElementById(b):b;ze(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bl:new Xr,this.validateStartingState()}verify(){var b=this;return(0,w.Z)(function*(){b.assertNotDestroyed();const D=yield b.render(),F=b.getAssertedRecaptcha();return F.getResponse(D)||new Promise(he=>{const dt=sn=>{sn&&(b.tokenChangeListeners.delete(dt),he(sn))};b.tokenChangeListeners.add(dt),b.isInvisible&&F.execute(D)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){ze(!this.parameters.sitekey,this.auth,"argument-error"),ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return D=>{if(this.tokenChangeListeners.forEach(F=>F(D)),"function"==typeof b)b(D);else if("string"==typeof b){const F=Qr()[b];"function"==typeof F&&F(D)}}}assertNotDestroyed(){ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,w.Z)(function*(){if(yield b.init(),!b.widgetId){let D=b.container;if(!b.isInvisible){const F=document.createElement("div");D.appendChild(F),D=F}b.widgetId=b.getAssertedRecaptcha().render(D,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,w.Z)(function*(){ze(st()&&!vs(),b.auth,"internal-error"),yield function jl(){let N=null;return new Promise(b=>{"complete"!==document.readyState?(N=()=>b(),window.addEventListener("load",N)):b()}).catch(b=>{throw N&&window.removeEventListener("load",N),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const D=yield function Cs(N){return So.apply(this,arguments)}(b.auth);ze(D,b.auth,"internal-error"),b.parameters.sitekey=D})()}getAssertedRecaptcha(){return ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class al{constructor(b,D){this.verificationId=b,this.onConfirmation=D}confirm(b){const D=Je._fromVerification(this.verificationId,b);return this.onConfirmation(D)}}function Ih(N,b,D){return yi.apply(this,arguments)}function yi(){return(yi=(0,w.Z)(function*(N,b,D){const F=Hi(N),Q=yield Wl(F,b,(0,M.m9)(D));return new al(Q,he=>ws(F,he))})).apply(this,arguments)}function uu(N,b,D){return lu.apply(this,arguments)}function lu(){return(lu=(0,w.Z)(function*(N,b,D){const F=(0,M.m9)(N);yield $o(!1,F,"phone");const Q=yield Wl(F.auth,b,(0,M.m9)(D));return new al(Q,he=>Hs(F,he))})).apply(this,arguments)}function tc(N,b,D){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,w.Z)(function*(N,b,D){const F=(0,M.m9)(N),Q=yield Wl(F.auth,b,(0,M.m9)(D));return new al(Q,he=>an(F,he))})).apply(this,arguments)}function Wl(N,b,D){return cd.apply(this,arguments)}function cd(){return(cd=(0,w.Z)(function*(N,b,D){var F;const Q=yield D.verify();try{let he;if(ze("string"==typeof Q,N,"argument-error"),ze(D.type===wl,N,"argument-error"),he="string"==typeof b?{phoneNumber:b}:b,"session"in he){const dt=he.session;if("phoneNumber"in he)return ze("enroll"===dt.type,N,"internal-error"),(yield Do(N,{idToken:dt.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{ze("signin"===dt.type,N,"internal-error");const sn=(null===(F=he.multiFactorHint)||void 0===F?void 0:F.uid)||he.multiFactorUid;return ze(sn,N,"missing-multi-factor-info"),(yield Ys(N,{mfaPendingCredential:dt.credential,mfaEnrollmentId:sn,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:dt}=yield Ke(N,{phoneNumber:he.phoneNumber,recaptchaToken:Q});return dt}}finally{D._reset()}})).apply(this,arguments)}function Vu(N,b){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,w.Z)(function*(N,b){yield Ea((0,M.m9)(N),b)})).apply(this,arguments)}let Eu=(()=>{class N{constructor(D){this.providerId=N.PROVIDER_ID,this.auth=Hi(D)}verifyPhoneNumber(D,F){return Wl(this.auth,D,(0,M.m9)(F))}static credential(D,F){return Je._fromVerification(D,F)}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{phoneNumber:F,temporaryProof:Q}=D;return F&&Q?Je._fromTokenResponse(F,Q):null}}return N.PROVIDER_ID="phone",N.PHONE_SIGN_IN_METHOD="phone",N})();function ro(N,b){return b?jt(b):(ze(N._popupRedirectResolver,N,"argument-error"),N._popupRedirectResolver)}class Ri extends mi{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return rt(b,this._buildIdpRequest())}_linkToIdToken(b,D){return rt(b,this._buildIdpRequest(D))}_getReauthenticationResolver(b){return rt(b,this._buildIdpRequest())}_buildIdpRequest(b){const D={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(D.idToken=b),D}}function Da(N){return $s(N.auth,new Ri(N),N.bypassAuthState)}function io(N){const{auth:b,user:D}=N;return ze(D,b,"internal-error"),lo(D,new Ri(N),N.bypassAuthState)}function x(N){return R.apply(this,arguments)}function R(){return(R=(0,w.Z)(function*(N){const{auth:b,user:D}=N;return ze(D,b,"internal-error"),Ea(D,new Ri(N),N.bypassAuthState)})).apply(this,arguments)}class S{constructor(b,D,F,Q,he=!1){this.auth=b,this.resolver=F,this.user=Q,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(D)?D:[D]}execute(){var b=this;return new Promise(function(){var D=(0,w.Z)(function*(F,Q){b.pendingPromise={resolve:F,reject:Q};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(he){b.reject(he)}});return function(F,Q){return D.apply(this,arguments)}}())}onAuthEvent(b){var D=this;return(0,w.Z)(function*(){const{urlResponse:F,sessionId:Q,postBody:he,tenantId:dt,error:sn,type:Ut}=b;if(sn)return void D.reject(sn);const Yt={auth:D.auth,requestUri:F,sessionId:Q,tenantId:dt||void 0,postBody:he||void 0,user:D.user,bypassAuthState:D.bypassAuthState};try{D.resolve(yield D.getIdpTask(Ut)(Yt))}catch($r){D.reject($r)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return Da;case"linkViaPopup":case"linkViaRedirect":return x;case"reauthViaPopup":case"reauthViaRedirect":return io;default:wt(this.auth,"internal-error")}}resolve(b){Ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){Ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const V=new qt(2e3,1e4);function J(N,b,D){return ie.apply(this,arguments)}function ie(){return(ie=(0,w.Z)(function*(N,b,D){const F=Hi(N);bt(N,b,Xs);const Q=ro(F,D);return new xn(F,"signInViaPopup",b,Q).executeNotNull()})).apply(this,arguments)}function de(N,b,D){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,w.Z)(function*(N,b,D){const F=(0,M.m9)(N);bt(F.auth,b,Xs);const Q=ro(F.auth,D);return new xn(F.auth,"reauthViaPopup",b,Q,F).executeNotNull()})).apply(this,arguments)}function en(N,b,D){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,w.Z)(function*(N,b,D){const F=(0,M.m9)(N);bt(F.auth,b,Xs);const Q=ro(F.auth,D);return new xn(F.auth,"linkViaPopup",b,Q,F).executeNotNull()})).apply(this,arguments)}let xn=(()=>{class N extends S{constructor(D,F,Q,he,dt){super(D,F,he,dt),this.provider=Q,this.authWindow=null,this.pollId=null,N.currentPopupAction&&N.currentPopupAction.cancel(),N.currentPopupAction=this}executeNotNull(){var D=this;return(0,w.Z)(function*(){const F=yield D.execute();return ze(F,D.auth,"internal-error"),F})()}onExecution(){var D=this;return(0,w.Z)(function*(){Ft(1===D.filter.length,"Popup operations only handle one event");const F=Zi();D.authWindow=yield D.resolver._openPopup(D.auth,D.provider,D.filter[0],F),D.authWindow.associatedEvent=F,D.resolver._originValidation(D.auth).catch(Q=>{D.reject(Q)}),D.resolver._isIframeWebStorageSupported(D.auth,Q=>{Q||D.reject(ct(D.auth,"web-storage-unsupported"))}),D.pollUserCancellation()})()}get eventId(){var D;return(null===(D=this.authWindow)||void 0===D?void 0:D.associatedEvent)||null}cancel(){this.reject(ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,N.currentPopupAction=null}pollUserCancellation(){const D=()=>{var F,Q;this.pollId=null!==(Q=null===(F=this.authWindow)||void 0===F?void 0:F.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ct(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(D,V.get())};D()}}return N.currentPopupAction=null,N})();const Vi=new Map;class go extends S{constructor(b,D,F=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],D,void 0,F),this.eventId=null}execute(){var b=()=>super.execute,D=this;return(0,w.Z)(function*(){let F=Vi.get(D.auth._key());if(!F){try{const he=(yield function jo(N,b){return Za.apply(this,arguments)}(D.resolver,D.auth))?yield b().call(D):null;F=()=>Promise.resolve(he)}catch(Q){F=()=>Promise.reject(Q)}Vi.set(D.auth._key(),F)}return D.bypassAuthState||Vi.set(D.auth._key(),()=>Promise.resolve(null)),F()})()}onAuthEvent(b){var D=()=>super.onAuthEvent,F=this;return(0,w.Z)(function*(){if("signInViaRedirect"===b.type)return D().call(F,b);if("unknown"!==b.type){if(b.eventId){const Q=yield F.auth._redirectUserForId(b.eventId);if(Q)return F.user=Q,D().call(F,b);F.resolve(null)}}else F.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function Za(){return(Za=(0,w.Z)(function*(N,b){const D=Y(b),F=z(N);if(!(yield F._isAvailable()))return!1;const Q="true"===(yield F._get(D));return yield F._remove(D),Q})).apply(this,arguments)}function Wo(N,b){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,w.Z)(function*(N,b){return z(N)._set(Y(b),"true")})).apply(this,arguments)}function cu(){Vi.clear()}function dd(N,b){Vi.set(N._key(),b)}function z(N){return jt(N._redirectPersistence)}function Y(N){return Se("pendingRedirect",N.config.apiKey,N.name)}function ae(N,b,D){return function Le(N,b,D){return tt.apply(this,arguments)}(N,b,D)}function tt(){return(tt=(0,w.Z)(function*(N,b,D){const F=Hi(N);bt(N,b,Xs),yield F._initializationPromise;const Q=ro(F,D);return yield Wo(Q,F),Q._openRedirect(F,b,"signInViaRedirect")})).apply(this,arguments)}function Ct(N,b,D){return function nn(N,b,D){return Zn.apply(this,arguments)}(N,b,D)}function Zn(){return(Zn=(0,w.Z)(function*(N,b,D){const F=(0,M.m9)(N);bt(F.auth,b,Xs),yield F.auth._initializationPromise;const Q=ro(F.auth,D);yield Wo(Q,F.auth);const he=yield Ao(F);return Q._openRedirect(F.auth,b,"reauthViaRedirect",he)})).apply(this,arguments)}function ir(N,b,D){return function pr(N,b,D){return Or.apply(this,arguments)}(N,b,D)}function Or(){return(Or=(0,w.Z)(function*(N,b,D){const F=(0,M.m9)(N);bt(F.auth,b,Xs),yield F.auth._initializationPromise;const Q=ro(F.auth,D);yield $o(!1,F,b.providerId),yield Wo(Q,F.auth);const he=yield Ao(F);return Q._openRedirect(F.auth,b,"linkViaRedirect",he)})).apply(this,arguments)}function Fr(N,b){return ns.apply(this,arguments)}function ns(){return(ns=(0,w.Z)(function*(N,b){return yield Hi(N)._initializationPromise,mo(N,b,!1)})).apply(this,arguments)}function mo(N,b){return $u.apply(this,arguments)}function $u(){return($u=(0,w.Z)(function*(N,b,D=!1){const F=Hi(N),Q=ro(F,b),dt=yield new go(F,Q,D).execute();return dt&&!D&&(delete dt.user._redirectEventId,yield F._persistUserIfCurrent(dt.user),yield F._setRedirectUser(null,b)),dt})).apply(this,arguments)}function Ao(N){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,w.Z)(function*(N){const b=Zi(`${N.uid}:::`);return N._redirectEventId=b,yield N.auth._setRedirectUser(N),yield N.auth._persistUserIfCurrent(N),b})).apply(this,arguments)}class Ei{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let D=!1;return this.consumers.forEach(F=>{this.isEventForConsumer(b,F)&&(D=!0,this.sendToConsumer(b,F),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function mf(N){switch(N.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return du(N);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,D||(this.queuedRedirectEvent=b,D=!0)),D}sendToConsumer(b,D){var F;if(b.error&&!du(b)){const Q=(null===(F=b.error.code)||void 0===F?void 0:F.split("auth/")[1])||"internal-error";D.onError(ct(this.auth,Q))}else D.onAuthEvent(b)}isEventForConsumer(b,D){const F=null===D.eventId||!!b.eventId&&b.eventId===D.eventId;return D.filter.includes(b.type)&&F}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hd(b))}saveEventToCache(b){this.cachedEventUids.add(hd(b)),this.lastProcessedEventTime=Date.now()}}function hd(N){return[N.type,N.eventId,N.sessionId,N.tenantId].filter(b=>b).join("-")}function du({type:N,error:b}){return"unknown"===N&&"auth/no-auth-event"===b?.code}function _f(N){return nc.apply(this,arguments)}function nc(){return(nc=(0,w.Z)(function*(N,b={}){return wn(N,"GET","/v1/projects",b)})).apply(this,arguments)}const fd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fo=/^https?/;function ul(){return(ul=(0,w.Z)(function*(N){if(N.config.emulator)return;const{authorizedDomains:b}=yield _f(N);for(const D of b)try{if(bc(D))return}catch{}wt(N,"unauthorized-domain")})).apply(this,arguments)}function bc(N){const b=mt(),{protocol:D,hostname:F}=new URL(b);if(N.startsWith("chrome-extension://")){const dt=new URL(N);return""===dt.hostname&&""===F?"chrome-extension:"===D&&N.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===D&&dt.hostname===F}if(!Fo.test(D))return!1;if(fd.test(N))return F===N;const Q=N.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(F)}const dp=new qt(3e4,6e4);function yg(){const N=Qr().___jsl;if(N?.H)for(const b of Object.keys(N.H))if(N.H[b].r=N.H[b].r||[],N.H[b].L=N.H[b].L||[],N.H[b].r=[...N.H[b].L],N.CP)for(let D=0;D<N.CP.length;D++)N.CP[D]=null}let wc=null;function vf(N){return wc=wc||function Cl(N){return new Promise((b,D)=>{var F,Q,he;function dt(){yg(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{yg(),D(ct(N,"network-request-failed"))},timeout:dp.get()})}if(null!==(Q=null===(F=Qr().gapi)||void 0===F?void 0:F.iframes)&&void 0!==Q&&Q.Iframe)b(gapi.iframes.getContext());else{if(null===(he=Qr().gapi)||void 0===he||!he.load){const sn=Ba("iframefcb");return Qr()[sn]=()=>{gapi.load?dt():D(ct(N,"network-request-failed"))},Ka(`https://apis.google.com/js/api.js?onload=${sn}`).catch(Ut=>D(Ut))}dt()}}).catch(b=>{throw wc=null,b})}(N),wc}const pd=new qt(5e3,15e3),bf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eg(N){const b=N.config;ze(b.authDomain,N,"auth-domain-config-required");const D=b.emulator?En(b,"emulator/auth/iframe"):`https://${N.config.authDomain}/__/auth/iframe`,F={apiKey:b.apiKey,appName:N.name,v:l.SDK_VERSION},Q=M_.get(N.config.apiHost);Q&&(F.eid=Q);const he=N._getFrameworks();return he.length&&(F.fw=he.join(",")),`${D}?${(0,M.xO)(F).slice(1)}`}function wf(){return wf=(0,w.Z)(function*(N){const b=yield vf(N),D=Qr().gapi;return ze(D,N,"internal-error"),b.open({where:document.body,url:Eg(N),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bf,dontclear:!0},F=>new Promise(function(){var Q=(0,w.Z)(function*(he,dt){yield F.restyle({setHideOnLeave:!1});const sn=ct(N,"network-request-failed"),Ut=Qr().setTimeout(()=>{dt(sn)},pd.get());function Yt(){Qr().clearTimeout(Ut),he(F)}F.ping(Yt).then(Yt,()=>{dt(sn)})});return function(he,dt){return Q.apply(this,arguments)}}()))}),wf.apply(this,arguments)}const Ah={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mh{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hd(N,b,D,F,Q,he){ze(N.config.authDomain,N,"auth-domain-config-required"),ze(N.config.apiKey,N,"invalid-api-key");const dt={apiKey:N.config.apiKey,appName:N.name,authType:D,redirectUrl:F,v:l.SDK_VERSION,eventId:Q};if(b instanceof Xs){b.setDefaultLanguage(N.languageCode),dt.providerId=b.providerId||"",(0,M.xb)(b.getCustomParameters())||(dt.customParameters=JSON.stringify(b.getCustomParameters()));for(const[Ut,Yt]of Object.entries(he||{}))dt[Ut]=Yt}if(b instanceof ja){const Ut=b.getScopes().filter(Yt=>""!==Yt);Ut.length>0&&(dt.scopes=Ut.join(","))}N.tenantId&&(dt.tid=N.tenantId);const sn=dt;for(const Ut of Object.keys(sn))void 0===sn[Ut]&&delete sn[Ut];return`${function ca({config:N}){return N.emulator?En(N,"emulator/auth/handler"):`https://${N.authDomain}/__/auth/handler`}(N)}?${(0,M.xO)(sn).slice(1)}`}const Tc="webStorageSupport",zo=class Sa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hi,this._completeRedirectFn=mo,this._overrideRedirectResult=dd}_openPopup(b,D,F,Q){var he=this;return(0,w.Z)(function*(){var dt;Ft(null===(dt=he.eventManagers[b._key()])||void 0===dt?void 0:dt.manager,"_initialize() not called before _openPopup()");const sn=Hd(b,D,F,mt(),Q);return function Dl(N,b,D,F=500,Q=600){const he=Math.max((window.screen.availHeight-Q)/2,0).toString(),dt=Math.max((window.screen.availWidth-F)/2,0).toString();let sn="";const Ut=Object.assign(Object.assign({},Ah),{width:F.toString(),height:Q.toString(),top:he,left:dt}),Yt=(0,M.z$)().toLowerCase();D&&(sn=vt(Yt)?"_blank":D),ue(Yt)&&(b=b||"http://localhost",Ut.scrollbars="yes");const $r=Object.entries(Ut).reduce((Mt,[Jt,_o])=>`${Mt}${Jt}=${_o},`,"");if(function Ht(N=(0,M.z$)()){var b;return ve(N)&&!(null===(b=window.navigator)||void 0===b||!b.standalone)}(Yt)&&"_self"!==sn)return function rc(N,b){const D=document.createElement("a");D.href=N,D.target=b;const F=document.createEvent("MouseEvent");F.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),D.dispatchEvent(F)}(b||"",sn),new Mh(null);const un=window.open(b||"",sn,$r);ze(un,N,"popup-blocked");try{un.focus()}catch{}return new Mh(un)}(b,sn,Zi())})()}_openRedirect(b,D,F,Q){var he=this;return(0,w.Z)(function*(){return yield he._originValidation(b),function Ho(N){Qr().location.href=N}(Hd(b,D,F,mt(),Q)),new Promise(()=>{})})()}_initialize(b){const D=b._key();if(this.eventManagers[D]){const{manager:Q,promise:he}=this.eventManagers[D];return Q?Promise.resolve(Q):(Ft(he,"If manager is not set, promise should be"),he)}const F=this.initAndGetManager(b);return this.eventManagers[D]={promise:F},F.catch(()=>{delete this.eventManagers[D]}),F}initAndGetManager(b){var D=this;return(0,w.Z)(function*(){const F=yield function $d(N){return wf.apply(this,arguments)}(b),Q=new Ei(b);return F.register("authEvent",he=>(ze(he?.authEvent,b,"invalid-auth-event"),{status:Q.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),D.eventManagers[b._key()]={manager:Q},D.iframes[b._key()]=F,Q})()}_isIframeWebStorageSupported(b,D){this.iframes[b._key()].send(Tc,{type:Tc},Q=>{var he;const dt=null===(he=Q?.[0])||void 0===he?void 0:he[Tc];void 0!==dt&&D(!!dt),wt(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const D=b._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function Ja(N){return ul.apply(this,arguments)}(b)),this.originValidationPromises[D]}get _shouldInitProactively(){return Mn()||Ae()||ve()}};class $c{constructor(b){this.factorId=b}_process(b,D,F){switch(D.type){case"enroll":return this._finalizeEnroll(b,D.credential,F);case"signin":return this._finalizeSignIn(b,D.credential);default:return ht("unexpected MultiFactorSessionType")}}}class Ir extends $c{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Ir(b)}_finalizeEnroll(b,D,F){return function ou(N,b){return wn(N,"POST","/v2/accounts/mfaEnrollment:finalize",Un(N,b))}(b,{idToken:D,displayName:F,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,D){return function Bu(N,b){return wn(N,"POST","/v2/accounts/mfaSignIn:finalize",Un(N,b))}(b,{mfaPendingCredential:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gd=(()=>{class N{constructor(){}static assertion(D){return Ir._fromCredential(D)}}return N.FACTOR_ID="phone",N})();var Xa="@firebase/auth";class Nh{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var D=this;return(0,w.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const D=this.auth.onIdTokenChanged(F=>{b(F?.stsTokenManager.accessToken||null)});this.internalListeners.set(b,D),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const D=this.internalListeners.get(b);D&&(this.internalListeners.delete(b),D(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,M.Pz)("authIdTokenMaxAge"),function Ia(N){(0,l._registerComponent)(new Me.wA("auth",(b,{options:D})=>{const F=b.getProvider("app").getImmediate(),Q=b.getProvider("heartbeat"),{apiKey:he,authDomain:dt}=F.options;return((sn,Ut)=>{ze(he&&!he.includes(":"),"invalid-api-key",{appName:sn.name}),ze(!dt?.includes(":"),"argument-error",{appName:sn.name});const Yt={apiKey:he,authDomain:dt,clientPlatform:N,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:si(N)},$r=new Ur(sn,Ut,Yt);return function vn(N,b){const D=b?.persistence||[],F=(Array.isArray(D)?D:[D]).map(jt);b?.errorMap&&N._updateErrorMap(b.errorMap),N._initializeWithPersistence(F,b?.popupRedirectResolver)}($r,D),$r})(F,Q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,D,F)=>{b.getProvider("auth-internal").initialize()})),(0,l._registerComponent)(new Me.wA("auth-internal",b=>{const D=Hi(b.getProvider("auth").getImmediate());return new Nh(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,l.registerVersion)(Xa,"0.21.1",function ic(N){switch(N){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(N)),(0,l.registerVersion)(Xa,"0.21.1","esm2017")}("Browser")},2090:(He,be,L)=>{"use strict";L.d(be,{$s:()=>Tn,BH:()=>At,G6:()=>Dt,L:()=>_e,LL:()=>An,Pz:()=>ct,Sg:()=>bt,UG:()=>ht,US:()=>Me,ZB:()=>we,ZR:()=>dn,aH:()=>wt,b$:()=>jt,eu:()=>Wt,hl:()=>Lt,jU:()=>Ft,m9:()=>Ar,ne:()=>qr,pd:()=>Ii,r3:()=>Wr,ru:()=>Qt,tV:()=>Ee,uI:()=>ze,vZ:()=>Xn,w1:()=>vn,xO:()=>Sr,xb:()=>pi,z$:()=>Bt,zI:()=>qt,zd:()=>Fi});const pe=function(Ue){const Se=[];let je=0;for(let Ce=0;Ce<Ue.length;Ce++){let ue=Ue.charCodeAt(Ce);ue<128?Se[je++]=ue:ue<2048?(Se[je++]=ue>>6|192,Se[je++]=63&ue|128):55296==(64512&ue)&&Ce+1<Ue.length&&56320==(64512&Ue.charCodeAt(Ce+1))?(ue=65536+((1023&ue)<<10)+(1023&Ue.charCodeAt(++Ce)),Se[je++]=ue>>18|240,Se[je++]=ue>>12&63|128,Se[je++]=ue>>6&63|128,Se[je++]=63&ue|128):(Se[je++]=ue>>12|224,Se[je++]=ue>>6&63|128,Se[je++]=63&ue|128)}return Se},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ue,Se){if(!Array.isArray(Ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=Se?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let ue=0;ue<Ue.length;ue+=3){const Ae=Ue[ue],vt=ue+1<Ue.length,Kt=vt?Ue[ue+1]:0,Dn=ue+2<Ue.length,$e=Dn?Ue[ue+2]:0;let nt=(15&Kt)<<2|$e>>6,Ht=63&$e;Dn||(Ht=64,vt||(nt=64)),Ce.push(je[Ae>>2],je[(3&Ae)<<4|Kt>>4],je[nt],je[Ht])}return Ce.join("")},encodeString(Ue,Se){return this.HAS_NATIVE_SUPPORT&&!Se?btoa(Ue):this.encodeByteArray(pe(Ue),Se)},decodeString(Ue,Se){return this.HAS_NATIVE_SUPPORT&&!Se?atob(Ue):function(Ue){const Se=[];let je=0,Ce=0;for(;je<Ue.length;){const ue=Ue[je++];if(ue<128)Se[Ce++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const Ae=Ue[je++];Se[Ce++]=String.fromCharCode((31&ue)<<6|63&Ae)}else if(ue>239&&ue<365){const Dn=((7&ue)<<18|(63&Ue[je++])<<12|(63&Ue[je++])<<6|63&Ue[je++])-65536;Se[Ce++]=String.fromCharCode(55296+(Dn>>10)),Se[Ce++]=String.fromCharCode(56320+(1023&Dn))}else{const Ae=Ue[je++],vt=Ue[je++];Se[Ce++]=String.fromCharCode((15&ue)<<12|(63&Ae)<<6|63&vt)}}return Se.join("")}(this.decodeStringToByteArray(Ue,Se))},decodeStringToByteArray(Ue,Se){this.init_();const je=Se?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let ue=0;ue<Ue.length;){const Ae=je[Ue.charAt(ue++)],Kt=ue<Ue.length?je[Ue.charAt(ue)]:0;++ue;const $e=ue<Ue.length?je[Ue.charAt(ue)]:64;++ue;const ve=ue<Ue.length?je[Ue.charAt(ue)]:64;if(++ue,null==Ae||null==Kt||null==$e||null==ve)throw Error();Ce.push(Ae<<2|Kt>>4),64!==$e&&(Ce.push(Kt<<4&240|$e>>2),64!==ve&&Ce.push($e<<6&192|ve))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ue=0;Ue<this.ENCODED_VALS.length;Ue++)this.byteToCharMap_[Ue]=this.ENCODED_VALS.charAt(Ue),this.charToByteMap_[this.byteToCharMap_[Ue]]=Ue,this.byteToCharMapWebSafe_[Ue]=this.ENCODED_VALS_WEBSAFE.charAt(Ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ue]]=Ue,Ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ue)]=Ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ue)]=Ue)}}},_e=function(Ue){return function(Ue){const Se=pe(Ue);return Me.encodeByteArray(Se,!0)}(Ue).replace(/\./g,"")},Ee=function(Ue){try{return Me.decodeString(Ue,!0)}catch(Se){console.error("base64Decode failed: ",Se)}return null};function we(Ue,Se){if(!(Se instanceof Object))return Se;switch(Se.constructor){case Date:return new Date(Se.getTime());case Object:void 0===Ue&&(Ue={});break;case Array:Ue=[];break;default:return Se}for(const je in Se)!Se.hasOwnProperty(je)||!Ne(je)||(Ue[je]=we(Ue[je],Se[je]));return Ue}function Ne(Ue){return"__proto__"!==Ue}const Ze=()=>{try{return function at(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ue=process.env.__FIREBASE_DEFAULTS__;return Ue?JSON.parse(Ue):void 0})()||(()=>{if(typeof document>"u")return;let Ue;try{Ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Se=Ue&&Ee(Ue[1]);return Se&&JSON.parse(Se)})()}catch(Ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ue}`)}},wt=()=>{var Ue;return null===(Ue=Ze())||void 0===Ue?void 0:Ue.config},ct=Ue=>{var Se;return null===(Se=Ze())||void 0===Se?void 0:Se[`_${Ue}`]};class At{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Se,je)=>{this.resolve=Se,this.reject=je})}wrapCallback(Se){return(je,Ce)=>{je?this.reject(je):this.resolve(Ce),"function"==typeof Se&&(this.promise.catch(()=>{}),1===Se.length?Se(je):Se(je,Ce))}}}function bt(Ue,Se){if(Ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=Se||"demo-project",ue=Ue.iat||0,Ae=Ue.sub||Ue.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:ue,exp:ue+3600,auth_time:ue,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},Ue);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(vt)),""].join(".")}function Bt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function ht(){var Ue;const Se=null===(Ue=Ze())||void 0===Ue?void 0:Ue.forceEnvironment;if("node"===Se)return!0;if("browser"===Se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ft(){return"object"==typeof self&&self.self===self}function Qt(){const Ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ue&&void 0!==Ue.id}function jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vn(){const Ue=Bt();return Ue.indexOf("MSIE ")>=0||Ue.indexOf("Trident/")>=0}function Dt(){return!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lt(){try{return"object"==typeof indexedDB}catch{return!1}}function Wt(){return new Promise((Ue,Se)=>{try{let je=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(Ce);ue.onsuccess=()=>{ue.result.close(),je||self.indexedDB.deleteDatabase(Ce),Ue(!0)},ue.onupgradeneeded=()=>{je=!1},ue.onerror=()=>{var Ae;Se((null===(Ae=ue.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(je){Se(je)}})}function qt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dn extends Error{constructor(Se,je,Ce){super(je),this.code=Se,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,An.prototype.create)}}class An{constructor(Se,je,Ce){this.service=Se,this.serviceName=je,this.errors=Ce}create(Se,...je){const Ce=je[0]||{},ue=`${this.service}/${Se}`,Ae=this.errors[Se],vt=Ae?function mn(Ue,Se){return Ue.replace(Un,(je,Ce)=>{const ue=Se[Ce];return null!=ue?String(ue):`<${Ce}?>`})}(Ae,Ce):"Error";return new dn(ue,`${this.serviceName}: ${vt} (${ue}).`,Ce)}}const Un=/\{\$([^}]+)}/g;function Wr(Ue,Se){return Object.prototype.hasOwnProperty.call(Ue,Se)}function pi(Ue){for(const Se in Ue)if(Object.prototype.hasOwnProperty.call(Ue,Se))return!1;return!0}function Xn(Ue,Se){if(Ue===Se)return!0;const je=Object.keys(Ue),Ce=Object.keys(Se);for(const ue of je){if(!Ce.includes(ue))return!1;const Ae=Ue[ue],vt=Se[ue];if(Yr(Ae)&&Yr(vt)){if(!Xn(Ae,vt))return!1}else if(Ae!==vt)return!1}for(const ue of Ce)if(!je.includes(ue))return!1;return!0}function Yr(Ue){return null!==Ue&&"object"==typeof Ue}function Sr(Ue){const Se=[];for(const[je,Ce]of Object.entries(Ue))Array.isArray(Ce)?Ce.forEach(ue=>{Se.push(encodeURIComponent(je)+"="+encodeURIComponent(ue))}):Se.push(encodeURIComponent(je)+"="+encodeURIComponent(Ce));return Se.length?"&"+Se.join("&"):""}function Fi(Ue){const Se={};return Ue.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[ue,Ae]=Ce.split("=");Se[decodeURIComponent(ue)]=decodeURIComponent(Ae)}}),Se}function Ii(Ue){const Se=Ue.indexOf("?");if(!Se)return"";const je=Ue.indexOf("#",Se);return Ue.substring(Se,je>0?je:void 0)}function qr(Ue,Se){const je=new St(Ue,Se);return je.subscribe.bind(je)}class St{constructor(Se,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{Se(this)}).catch(Ce=>{this.error(Ce)})}next(Se){this.forEachObserver(je=>{je.next(Se)})}error(Se){this.forEachObserver(je=>{je.error(Se)}),this.close(Se)}complete(){this.forEachObserver(Se=>{Se.complete()}),this.close()}subscribe(Se,je,Ce){let ue;if(void 0===Se&&void 0===je&&void 0===Ce)throw new Error("Missing Observer.");ue=function pn(Ue,Se){if("object"!=typeof Ue||null===Ue)return!1;for(const je of Se)if(je in Ue&&"function"==typeof Ue[je])return!0;return!1}(Se,["next","error","complete"])?Se:{next:Se,error:je,complete:Ce},void 0===ue.next&&(ue.next=Fn),void 0===ue.error&&(ue.error=Fn),void 0===ue.complete&&(ue.complete=Fn);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch{}}),this.observers.push(ue),Ae}unsubscribeOne(Se){void 0===this.observers||void 0===this.observers[Se]||(delete this.observers[Se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Se){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,Se)}sendOne(Se,je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Se])try{je(this.observers[Se])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(Se){this.finalized||(this.finalized=!0,void 0!==Se&&(this.finalError=Se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}function Tn(Ue,Se=1e3,je=2){const Ce=Se*Math.pow(je,Ue),ue=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+ue)}function Ar(Ue){return Ue&&Ue._delegate?Ue._delegate:Ue}},5356:(He,be,L)=>{"use strict";L.d(be,{G:()=>w});var w=(()=>{return(M=w||(w={})).Success="success",M.Info="info",M.Warning="warning",M.Error="error",w;var M})()},5574:(He,be,L)=>{"use strict";L.d(be,{e:()=>Ne});var w=L(5861),M=L(1808),Ie=(L(2090),L(9681),L(1877),L(4859),L(4650)),_e=L(1041);class Ee{constructor(){}setUserLoggedIn(Ye){localStorage.setItem("user",JSON.stringify(Ye))}getUserLoggedIn(){return localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null}clearUser(){localStorage.removeItem("user")}}Ee.\u0275fac=function(Ye){return new(Ye||Ee)},Ee.\u0275prov=Ie.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"});var ge=L(6159),we=L(4465);class Ne{constructor(Ye,yt,lt,Ze,ot){this.afAuth=Ye,this.localStoreageService=yt,this.ngZone=lt,this.router=Ze,this.toastService=ot,this.user=this.localStoreageService.getUserLoggedIn(),this.afAuth.authState.subscribe(it=>{it&&it.emailVerified?(this.user=it,this.localStoreageService.setUserLoggedIn(this.user),this.ngZone.run(()=>{this.router.navigate(["trip"])})):(this.user=null,this.localStoreageService.clearUser(),this.ngZone.run(()=>{this.router.navigate(["login"])}))})}SignIn(Ye,yt){var lt=this;return(0,w.Z)(function*(){return lt.afAuth.signInWithEmailAndPassword(Ye,yt).then(Ze=>{Ze.user&&!Ze.user.emailVerified&&(lt.SignOut(),lt.toastService.showWarningToast("Login failed","Email not verified. Please find the email in your inbox/junk/spam and do verify by click on the link."))},Ze=>{switch(Ze.code){case M.D.INVALID_PASSWORD:lt.toastService.showWarningToast("Login failed","Invalid Password.");break;case M.D.INVALID_EMAIL:lt.toastService.showWarningToast("Login failed","Invalid Email.");break;case M.D.INVALID_IDP_RESPONSE:lt.toastService.showWarningToast("Login failed","Invalid Email or Password.");break;case M.D.USER_MISMATCH:case M.D.USER_DELETED:lt.toastService.showWarningToast("Login failed","User not found.");break;case M.D.USER_DISABLED:lt.toastService.showWarningToast("Login failed","The user account has been disabled by an administrator.");break;case M.D.UNVERIFIED_EMAIL:lt.toastService.showWarningToast("Login failed","Email not verified. Please find the email in your inbox/junk/spam and do verify by click on the link.")}}).catch(Ze=>{console.log(Ze.message),lt.toastService.showWarningToast("Login failed","Something went Wrong. Please report using feedback feature.")})})()}SignUp(Ye,yt,lt){var Ze=this;return(0,w.Z)(function*(){return Ze.afAuth.createUserWithEmailAndPassword(Ye,yt).then(ot=>{ot.user&&ot.user.updateProfile({displayName:lt}).then(()=>ot.user?.sendEmailVerification().then(()=>{Ze.toastService.showSuccessToast("Email verification sent!","Check out your Mailbox to verify the mail, If you did not find the email, check the junk folder, Spam."),Ze.SignOut()}))},ot=>{switch(ot.code){case M.D.EMAIL_EXISTS:Ze.toastService.showWarningToast("Registration failed","Email already exists.");break;case M.D.WEAK_PASSWORD:Ze.toastService.showWarningToast("Registration failed","Weak Password (Should be at least 6 characters long).")}}).catch(ot=>{console.log(ot.message),Ze.toastService.showWarningToast("Registration failed","Something went Wrong. Please report using feedback feature.")})})()}ForgotPassword(Ye){var yt=this;return(0,w.Z)(function*(){return yt.afAuth.sendPasswordResetEmail(Ye).then(()=>{yt.toastService.showWarningToast("Password reset","Password reset email sent. Please check your mailbox."),yt.ngZone.run(()=>{yt.router.navigate(["login"])})},lt=>{lt.code===M.D.USER_DELETED&&yt.toastService.showWarningToast("Password reset","Email not found.")})})()}SignOut(){var Ye=this;return(0,w.Z)(function*(){return Ye.afAuth.signOut()})()}}Ne.\u0275fac=function(Ye){return new(Ye||Ne)(Ie.LFG(_e.zQ),Ie.LFG(Ee),Ie.LFG(Ie.R0b),Ie.LFG(ge.F0),Ie.LFG(we.k))},Ne.\u0275prov=Ie.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})},4465:(He,be,L)=>{"use strict";L.d(be,{k:()=>pe});var w=L(7579),M=L(5356),l=L(4650);class pe{constructor(){this._toastEvents=new w.x,this.toastEvents=this._toastEvents.asObservable()}showSuccessToast(Me,Ie){this._toastEvents.next({message:Ie,title:Me,type:M.G.Success})}showInfoToast(Me,Ie){this._toastEvents.next({message:Ie,title:Me,type:M.G.Info})}showWarningToast(Me,Ie){this._toastEvents.next({message:Ie,title:Me,type:M.G.Warning})}showErrorToast(Me,Ie){this._toastEvents.next({message:Ie,title:Me,type:M.G.Error})}}pe.\u0275fac=function(Me){return new(Me||pe)},pe.\u0275prov=l.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"})},5806:(He,be,L)=>{"use strict";var w={};L.r(w),L.d(w,{afterMain:()=>r0,afterRead:()=>nw,afterWrite:()=>rC,applyStyles:()=>Yn,arrow:()=>hC,auto:()=>EE,basePlacements:()=>Fv,beforeMain:()=>rw,beforeRead:()=>ew,beforeWrite:()=>iw,bottom:()=>Dh,clippingParents:()=>J1,computeStyles:()=>Tt,createPopper:()=>MD,createPopperBase:()=>g,createPopperLite:()=>ei,detectOverflow:()=>$v,end:()=>Lv,eventListeners:()=>A,flip:()=>SE,hide:()=>qI,left:()=>Bc,main:()=>n0,modifierPhases:()=>iC,offset:()=>va,placements:()=>bE,popper:()=>T_,popperGenerator:()=>c,popperOffsets:()=>j,preventOverflow:()=>dC,read:()=>tw,reference:()=>Q1,right:()=>Ld,start:()=>Dm,top:()=>Lc,variationPlacements:()=>t0,viewport:()=>Xb,write:()=>nC});var M=L(6895),l=L(4650),pe=L(9646),me=L(9751),Me=L(4351),Ie=L(9300),_e=L(4004);class Ee{}class ge{}class we{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const o=t.slice(0,i),d=o.toLowerCase(),_=t.slice(i+1).trim();this.maybeSetNormalizedName(o,d),this.headers.has(d)?this.headers.get(d).push(_):this.headers.set(d,[_])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const o=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof we?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new we;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof we?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...i),this.headers.set(t,o);break;case"d":const d=e.value;if(d){let _=this.headers.get(t);if(!_)return;_=_.filter(C=>-1===d.indexOf(C)),0===_.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,_)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class at{encodeKey(e){return Ze(e)}encodeValue(e){return Ze(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const yt=/%(\d[a-f0-9])/gi,lt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ze(n){return encodeURIComponent(n).replace(yt,(e,t)=>lt[t]??e)}function ot(n){return`${n}`}class it{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new at,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ye(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const d=o.indexOf("="),[_,C]=-1==d?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,d)),e.decodeValue(o.slice(d+1))],O=t.get(_)||[];O.push(C),t.set(_,O)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],o=Array.isArray(i)?i.map(ot):[ot(i)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const o=e[i];Array.isArray(o)?o.forEach(d=>{t.push({param:i,value:d,op:"a"})}):t.push({param:i,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new it({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ot(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const o=i.indexOf(ot(e.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ct{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function bt(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Bt(n){return typeof Blob<"u"&&n instanceof Blob}function ze(n){return typeof FormData<"u"&&n instanceof FormData}class Ft{constructor(e,t,i,o){let d;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function At(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,d=o):d=i,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new we),this.context||(this.context=new ct),this.params){const _=this.params.toString();if(0===_.length)this.urlWithParams=t;else{const C=t.indexOf("?");this.urlWithParams=t+(-1===C?"?":C<t.length-1?"&":"")+_}}else this.params=new it,this.urlWithParams=t}serializeBody(){return null===this.body?null:bt(this.body)||Bt(this.body)||ze(this.body)||function ht(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof it?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ze(this.body)?null:Bt(this.body)?this.body.type||null:bt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof it?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,_=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,C=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let O=e.headers||this.headers,$=e.params||this.params;const Z=e.context??this.context;return void 0!==e.setHeaders&&(O=Object.keys(e.setHeaders).reduce((fe,xe)=>fe.set(xe,e.setHeaders[xe]),O)),e.setParams&&($=Object.keys(e.setParams).reduce((fe,xe)=>fe.set(xe,e.setParams[xe]),$)),new Ft(t,i,d,{params:$,headers:O,context:Z,reportProgress:C,responseType:o,withCredentials:_})}}var Qt=(()=>((Qt=Qt||{})[Qt.Sent=0]="Sent",Qt[Qt.UploadProgress=1]="UploadProgress",Qt[Qt.ResponseHeader=2]="ResponseHeader",Qt[Qt.DownloadProgress=3]="DownloadProgress",Qt[Qt.Response=4]="Response",Qt[Qt.User=5]="User",Qt))();class jt{constructor(e,t=200,i="OK"){this.headers=e.headers||new we,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Jn extends jt{constructor(e={}){super(e),this.type=Qt.ResponseHeader}clone(e={}){return new Jn({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vn extends jt{constructor(e={}){super(e),this.type=Qt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new vn({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mt extends jt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function st(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Dt=(()=>{class n{constructor(t){this.handler=t}request(t,i,o={}){let d;if(t instanceof Ft)d=t;else{let O,$;O=o.headers instanceof we?o.headers:new we(o.headers),o.params&&($=o.params instanceof it?o.params:new it({fromObject:o.params})),d=new Ft(t,i,void 0!==o.body?o.body:null,{headers:O,context:o.context,params:$,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const _=(0,pe.of)(d).pipe((0,Me.b)(O=>this.handler.handle(O)));if(t instanceof Ft||"events"===o.observe)return _;const C=_.pipe((0,Ie.h)(O=>O instanceof vn));switch(o.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return C.pipe((0,_e.U)(O=>{if(null!==O.body&&!(O.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return O.body}));case"blob":return C.pipe((0,_e.U)(O=>{if(null!==O.body&&!(O.body instanceof Blob))throw new Error("Response is not a Blob.");return O.body}));case"text":return C.pipe((0,_e.U)(O=>{if(null!==O.body&&"string"!=typeof O.body)throw new Error("Response is not a string.");return O.body}));default:return C.pipe((0,_e.U)(O=>O.body))}case"response":return C;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new it).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,o={}){return this.request("PATCH",t,st(o,i))}post(t,i,o={}){return this.request("POST",t,st(o,i))}put(t,i,o={}){return this.request("PUT",t,st(o,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Lt(n,e){return e(n)}function Wt(n,e){return(t,i)=>e.intercept(t,{handle:o=>n(o,i)})}const En=new l.OlP("HTTP_INTERCEPTORS"),dn=new l.OlP("HTTP_INTERCEPTOR_FNS");function An(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(En,{optional:!0})??[]).reduceRight(Wt,Lt)),n(e,t))}let mn=(()=>{class n extends Ee{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(dn)));this.chain=i.reduceRight((o,d)=>function qt(n,e,t){return(i,o)=>t.runInContext(()=>e(i,d=>n(d,o)))}(o,d,this.injector),Lt)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const rr=/^\)\]\}',?\n/;let Yr=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new me.y(i=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((We,ft)=>o.setRequestHeader(We,ft.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const We=t.detectContentTypeHeader();null!==We&&o.setRequestHeader("Content-Type",We)}if(t.responseType){const We=t.responseType.toLowerCase();o.responseType="json"!==We?We:"text"}const d=t.serializeBody();let _=null;const C=()=>{if(null!==_)return _;const We=o.statusText||"OK",ft=new we(o.getAllResponseHeaders()),kt=function Xn(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return _=new Jn({headers:ft,status:o.status,statusText:We,url:kt}),_},O=()=>{let{headers:We,status:ft,statusText:kt,url:fn}=C(),Gn=null;204!==ft&&(Gn=typeof o.response>"u"?o.responseText:o.response),0===ft&&(ft=Gn?200:0);let ur=ft>=200&&ft<300;if("json"===t.responseType&&"string"==typeof Gn){const Lr=Gn;Gn=Gn.replace(rr,"");try{Gn=""!==Gn?JSON.parse(Gn):null}catch(jr){Gn=Lr,ur&&(ur=!1,Gn={error:jr,text:Gn})}}ur?(i.next(new vn({body:Gn,headers:We,status:ft,statusText:kt,url:fn||void 0})),i.complete()):i.error(new mt({error:Gn,headers:We,status:ft,statusText:kt,url:fn||void 0}))},$=We=>{const{url:ft}=C(),kt=new mt({error:We,status:o.status||0,statusText:o.statusText||"Unknown Error",url:ft||void 0});i.error(kt)};let Z=!1;const fe=We=>{Z||(i.next(C()),Z=!0);let ft={type:Qt.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(ft.total=We.total),"text"===t.responseType&&o.responseText&&(ft.partialText=o.responseText),i.next(ft)},xe=We=>{let ft={type:Qt.UploadProgress,loaded:We.loaded};We.lengthComputable&&(ft.total=We.total),i.next(ft)};return o.addEventListener("load",O),o.addEventListener("error",$),o.addEventListener("timeout",$),o.addEventListener("abort",$),t.reportProgress&&(o.addEventListener("progress",fe),null!==d&&o.upload&&o.upload.addEventListener("progress",xe)),o.send(d),i.next({type:Qt.Sent}),()=>{o.removeEventListener("error",$),o.removeEventListener("abort",$),o.removeEventListener("load",O),o.removeEventListener("timeout",$),t.reportProgress&&(o.removeEventListener("progress",fe),null!==d&&o.upload&&o.upload.removeEventListener("progress",xe)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(M.JF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const yn=new l.OlP("XSRF_ENABLED"),Sr="XSRF-TOKEN",Fi=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>Sr}),Ii="X-XSRF-TOKEN",ti=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Ii});class qr{}let St=(()=>{class n{constructor(t,i,o){this.doc=t,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,M.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(M.K0),l.LFG(l.Lbi),l.LFG(Fi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function kn(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(yn)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,l.f3M)(qr).getToken(),o=(0,l.f3M)(ti);return null!=i&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,i)})),e(n)}var Fn=(()=>((Fn=Fn||{})[Fn.Interceptors=0]="Interceptors",Fn[Fn.LegacyInterceptors=1]="LegacyInterceptors",Fn[Fn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Fn[Fn.NoXsrfProtection=3]="NoXsrfProtection",Fn[Fn.JsonpSupport=4]="JsonpSupport",Fn[Fn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Fn))();function jn(n,e){return{\u0275kind:n,\u0275providers:e}}function zr(...n){const e=[Dt,Yr,mn,{provide:Ee,useExisting:mn},{provide:ge,useExisting:Yr},{provide:dn,useValue:kn,multi:!0},{provide:yn,useValue:!0},{provide:qr,useClass:St}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const In=new l.OlP("LEGACY_INTERCEPTOR_FN");function mr({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:Fi,useValue:n}),void 0!==e&&t.push({provide:ti,useValue:e}),jn(Fn.CustomXsrfConfiguration,t)}let on=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[zr(jn(Fn.LegacyInterceptors,[{provide:In,useFactory:An},{provide:dn,useExisting:In,multi:!0}]),mr({cookieName:Sr,headerName:Ii}))]}),n})();var Wn=L(1481),Zt=L(9653),Ar=L(825),Ue=L(6451),Se=L(7579),je=L(4482),Ce=L(5403),ue=L(5032);function Ae(){return(0,je.e)((n,e)=>{n.subscribe((0,Ce.x)(e,ue.Z))})}var vt=L(515),Kt=L(2843),Dn=L(576);class Fe{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){return ve(this,e)}do(e,t,i){const{kind:o,value:d,error:_}=this;return"N"===o?e?.(d):"E"===o?t?.(_):i?.()}accept(e,t,i){var o;return(0,Dn.m)(null===(o=e)||void 0===o?void 0:o.next)?this.observe(e):this.do(e,t,i)}toObservable(){const{kind:e,value:t,error:i}=this,o="N"===e?(0,pe.of)(t):"E"===e?(0,Kt._)(()=>i):"C"===e?vt.E:0;if(!o)throw new TypeError(`Unexpected notification kind ${e}`);return o}static createNext(e){return new Fe("N",e)}static createError(e){return new Fe("E",void 0,e)}static createComplete(){return Fe.completeNotification}}function ve(n,e){var t,i,o;const{kind:d,value:_,error:C}=n;if("string"!=typeof d)throw new TypeError('Invalid notification, missing "kind"');"N"===d?null===(t=e.next)||void 0===t||t.call(e,_):"E"===d?null===(i=e.error)||void 0===i||i.call(e,C):null===(o=e.complete)||void 0===o||o.call(e)}Fe.completeNotification=new Fe("C");var Ht=L(262),Xt=L(8421);function Mn(n,e,t,i){return(0,je.e)((o,d)=>{let _;e&&"function"!=typeof e?({duration:t,element:_,connector:i}=e):_=e;const C=new Map,O=ft=>{C.forEach(ft),ft(d)},$=ft=>O(kt=>kt.error(ft));let Z=0,fe=!1;const xe=new Ce.Q(d,ft=>{try{const kt=n(ft);let fn=C.get(kt);if(!fn){C.set(kt,fn=i?i():new Se.x);const Gn=function We(ft,kt){const fn=new me.y(Gn=>{Z++;const ur=kt.subscribe(Gn);return()=>{ur.unsubscribe(),0==--Z&&fe&&xe.unsubscribe()}});return fn.key=ft,fn}(kt,fn);if(d.next(Gn),t){const ur=(0,Ce.x)(fn,()=>{fn.complete(),ur?.unsubscribe()},void 0,void 0,()=>C.delete(kt));xe.add((0,Xt.Xf)(t(Gn)).subscribe(ur))}}fn.next(_?_(ft):ft)}catch(kt){$(kt)}},()=>O(ft=>ft.complete()),$,()=>C.clear(),()=>(fe=!0,0===Z));o.subscribe(xe)})}var ii=L(5577);function si(n,e){return e?t=>t.pipe(si((i,o)=>(0,Xt.Xf)(n(i,o)).pipe((0,_e.U)((d,_)=>e(i,d,o,_))))):(0,je.e)((t,i)=>{let o=0,d=null,_=!1;t.subscribe((0,Ce.x)(i,C=>{d||(d=(0,Ce.x)(i,void 0,()=>{d=null,_&&i.complete()}),(0,Xt.Xf)(n(C,o++)).subscribe(d))},()=>{_=!0,!d&&i.complete()}))})}var Ur=L(5698);const Hi={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Os="__@ngrx/effects_create__";function oo(n,e={}){const t=e.functional?n:n(),i={...Hi,...e};return Object.defineProperty(t,Os,{value:i}),t}function Jr(n){return Object.getPrototypeOf(n)}function Ai(n){return"function"==typeof n}function xi(n,e,t){const i=Jr(n).constructor.name,o=function qs(n){return function bs(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(Os))&&n[i][Os].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][Os]}))}(n)}(n).map(({propertyName:d,dispatch:_,useEffectsErrorHandler:C})=>{const O="function"==typeof n[d]?n[d]():n[d],$=C?t(O,e):O;return!1===_?$.pipe(Ae()):$.pipe(function nt(){return(0,je.e)((n,e)=>{n.subscribe((0,Ce.x)(e,t=>{e.next(Fe.createNext(t))},()=>{e.next(Fe.createComplete()),e.complete()},t=>{e.next(Fe.createError(t)),e.complete()}))})}()).pipe((0,_e.U)(fe=>({effect:n[d],notification:fe,propertyName:d,sourceName:i,sourceInstance:n})))});return(0,Ue.T)(...o)}function Pn(n,e,t=10){return n.pipe((0,Ht.K)(i=>(e&&e.handleError(i),t<=1?n:Pn(n,e,t-1))))}let hr=(()=>{class n extends me.y{constructor(t){super(),t&&(this.source=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zt.Y$))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gi(...n){return(0,Ie.h)(e=>n.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}new l.OlP("@ngrx/effects Internal Root Guard"),new l.OlP("@ngrx/effects User Provided Effects"),new l.OlP("@ngrx/effects Internal Root Effects"),new l.OlP("@ngrx/effects Internal Root Effects Instances"),new l.OlP("@ngrx/effects Internal Feature Effects"),new l.OlP("@ngrx/effects Internal Feature Effects Instance Groups");const fr=new l.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Pn}),xo=(0,Zt.PH)("@ngrx/effects/init");function De(n){return Te(n,"ngrxOnInitEffects")}function Te(n,e){return n&&e in n&&"function"==typeof n[e]}let Ke=(()=>{class n extends Se.x{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(Mn(t=>function mi(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(t)?Jr(t):t),(0,ii.z)(t=>t.pipe(Mn(Nt))),(0,ii.z)(t=>{const i=t.pipe(si(d=>function rn(n,e){return t=>{const i=xi(t,n,e);return function rt(n){return Te(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(d)),(0,_e.U)(d=>(function ta(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function as(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function ao({propertyName:n,sourceInstance:e,sourceName:t}){const i="function"==typeof e[n];return`"${t}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function Li(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(d,this.errorHandler),d.notification)),(0,Ie.h)(d=>"N"===d.kind&&null!=d.value),function fs(){return(0,je.e)((n,e)=>{n.subscribe((0,Ce.x)(e,t=>ve(t,e)))})}()),o=t.pipe((0,Ur.q)(1),(0,Ie.h)(De),(0,_e.U)(d=>d.ngrxOnInitEffects()));return(0,Ue.T)(i,o)}))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.qLn),l.LFG(fr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nt(n){return function ke(n){return Te(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let On=(()=>{class n{constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ke),l.LFG(Zt.yh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ji=L(1365),na=L(3900),Ga=L(8996);const Xs=(0,Zt.PH)("[Trip/API] Get Trips"),ja=(0,Zt.PH)("[Trip] Get Trips Success",(0,Zt.Ky)()),Vo=(0,Zt.PH)("[Trip/API] New Trip",(0,Zt.Ky)()),_c=(0,Zt.PH)("[Trip] New Trip Success",(0,Zt.Ky)()),_i=(0,Zt.PH)("[Trip] Update Trip",(0,Zt.Ky)()),Ui=(0,Zt.PH)("[Trip] Update Place",(0,Zt.Ky)()),el=(0,Zt.PH)("[Trip] Update Trip Success"),Ks=(0,Zt.PH)("[Trip] Get Failure",(0,Zt.Ky)()),Ul=(0,Zt.PH)("[Trip] Selected Trip",(0,Zt.Ky)()),ra=(0,Zt.PH)("[Trip] Clear Trip Selection"),yo=(0,Zt.ZF)("trips"),Vl=(0,Zt.P1)(yo,n=>n.isLoading),gu=(0,Zt.P1)(yo,n=>n.trips),Mo=(0,Zt.P1)(yo,n=>n.error),Ou=((0,Zt.P1)(yo,n=>n.selectedTripId),(0,Zt.P1)(yo,n=>n.tripsChanged)),Wa=(0,Zt.P1)(yo,n=>n.trips.find(e=>e.id===n.selectedTripId));var ru=L(4986),Ti=L(263),ia=L(8675);function Eo(){return(0,je.e)((n,e)=>{let t,i=!1;n.subscribe((0,Ce.x)(e,o=>{const d=t;t=o,i&&e.next([d,o]),i=!0}))})}var an,Ea=L(5026),bo=L(1884),$o=L(2011),lo=(L(9568),L(3942)),Gt=L(5861),$s=L(9681),za=L(4859),ws=L(1877),cr=L(2090),Hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ci={},Ki=Ki||{},qn=Hs||self;function wo(){}function Oo(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gs(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Zs="closure_uid_"+(1e9*Math.random()>>>0),sa=0;function _l(n,e,t){return n.call.apply(n.bind,arguments)}function To(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ms(n,e,t){return(ms=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_l:To).apply(null,arguments)}function co(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function nr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,o,d){for(var _=Array(arguments.length-2),C=2;C<arguments.length;C++)_[C-2]=arguments[C];return e.prototype[o].apply(i,_)}}function Ro(){this.s=this.s,this.o=this.o}Ro.prototype.s=!1,Ro.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Wi(n){Object.prototype.hasOwnProperty.call(n,Zs)&&n[Zs]||(n[Zs]=++sa)}(this)},Ro.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mu=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function tl(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function qa(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Oo(i)){const o=n.length||0,d=i.length||0;n.length=o+d;for(let _=0;_<d;_++)n[o+_]=i[_]}else n.push(i)}}function Gs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Gs.prototype.h=function(){this.defaultPrevented=!0};var Ru=function(){if(!qn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qn.addEventListener("test",wo,e),qn.removeEventListener("test",wo,e)}catch{}return n}();function Ra(n){return/^[\s\xa0]*$/.test(n)}var B=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function W(n,e){return n<e?-1:n>e?1:0}function G(){var n=qn.navigator;return n&&(n=n.userAgent)?n:""}function se(n){return-1!=G().indexOf(n)}function gt(n){return gt[" "](n),n}gt[" "]=wo;var qi,n,zi=se("Opera"),Qi=se("Trident")||se("MSIE"),oa=se("Edge"),As=oa||Qi,cs=se("Gecko")&&!(-1!=G().toLowerCase().indexOf("webkit")&&!se("Edge"))&&!(se("Trident")||se("MSIE"))&&!se("Edge"),aa=-1!=G().toLowerCase().indexOf("webkit")&&!se("Edge");function Co(){var n=qn.document;return n?n.documentMode:void 0}e:{var Ts="",eo=(n=G(),cs?/rv:([^\);]+)(\)|;)/.exec(n):oa?/Edge\/([\d\.]+)/.exec(n):Qi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aa?/WebKit\/(\S+)/.exec(n):zi?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(eo&&(Ts=eo?eo[1]:""),Qi){var _s=Co();if(null!=_s&&_s>parseFloat(Ts)){qi=String(_s);break e}}qi=Ts}var ba={};var ua=qn.document&&Qi&&(Co()||parseInt(qi,10))||void 0;function wa(n,e){if(Gs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(cs){e:{try{gt(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rl[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&wa.X.h.call(this)}}nr(wa,Gs);var rl={2:"touch",3:"pen",4:"mouse"};wa.prototype.h=function(){wa.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Pu="closure_listenable_"+(1e6*Math.random()|0),yl=0;function $l(n,e,t,i,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=o,this.key=++yl,this.ba=this.ea=!1}function iu(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function su(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Ge(n){const e={};for(const t in n)e[t]=n[t];return e}const It="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(n,e){let t,i;for(let o=1;o<arguments.length;o++){for(t in i=arguments[o],i)n[t]=i[t];for(let d=0;d<It.length;d++)t=It[d],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Hn(n){this.src=n,this.g={},this.h=0}function kr(n,e){var t=e.type;if(t in n.g){var d,i=n.g[t],o=mu(i,e);(d=0<=o)&&Array.prototype.splice.call(i,o,1),d&&(iu(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Mi(n,e,t,i){for(var o=0;o<n.length;++o){var d=n[o];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==i)return o}return-1}Hn.prototype.add=function(n,e,t,i,o){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var _=Mi(n,e,i,o);return-1<_?(e=n[_],t||(e.ea=!1)):((e=new $l(e,this.src,d,!!i,o)).ea=t,n.push(e)),e};var Ps="closure_lm_"+(1e6*Math.random()|0),Vr={};function Po(n,e,t,i,o){if(i&&i.once)return Hl(n,e,t,i,o);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Po(n,e[d],t,i,o);return null}return t=ee(t),n&&n[Pu]?n.N(e,t,gs(i)?!!i.capture:!!i,o):Xi(n,e,t,!1,i,o)}function Xi(n,e,t,i,o,d){if(!e)throw Error("Invalid event type");var _=gs(o)?!!o.capture:!!o,C=di(n);if(C||(n[Ps]=C=new Hn(n)),(t=C.add(e,t,i,_,d)).proxy)return t;if(i=function Ta(){const e=ku;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Ru||(o=_),void 0===o&&(o=!1),n.addEventListener(e.toString(),i,o);else if(n.attachEvent)n.attachEvent(ec(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Hl(n,e,t,i,o){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Hl(n,e[d],t,i,o);return null}return t=ee(t),n&&n[Pu]?n.O(e,t,gs(i)?!!i.capture:!!i,o):Xi(n,e,t,!0,i,o)}function Do(n,e,t,i,o){if(Array.isArray(e))for(var d=0;d<e.length;d++)Do(n,e[d],t,i,o);else i=gs(i)?!!i.capture:!!i,t=ee(t),n&&n[Pu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Mi(d=n.g[e],t,i,o))&&(iu(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=di(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Mi(e,t,i,o)),(t=-1<n?e[n]:null)&&ou(t))}function ou(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Pu])kr(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(ec(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=di(e))?(kr(t,n),0==t.h&&(t.src=null,e[Ps]=null)):iu(n)}}}function ec(n){return n in Vr?Vr[n]:Vr[n]="on"+n}function ku(n,e){if(n.ba)n=!0;else{e=new wa(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&ou(n),n=t.call(i,e)}return n}function di(n){return(n=n[Ps])instanceof Hn?n:null}var U="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(n){return"function"==typeof n?n:(n[U]||(n[U]=function(e){return n.handleEvent(e)}),n[U])}function H(){Ro.call(this),this.i=new Hn(this),this.P=this,this.I=null}function re(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Gs(e,n);else if(e instanceof Gs)e.target=e.target||n;else{var o=e;ut(e=new Gs(i,n),o)}if(o=!0,t)for(var d=t.length-1;0<=d;d--){var _=e.g=t[d];o=Be(_,i,!0,e)&&o}if(o=Be(_=e.g=n,i,!0,e)&&o,o=Be(_,i,!1,e)&&o,t)for(d=0;d<t.length;d++)o=Be(_=e.g=t[d],i,!1,e)&&o}function Be(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,d=0;d<e.length;++d){var _=e[d];if(_&&!_.ba&&_.capture==t){var C=_.listener,O=_.ha||_.src;_.ea&&kr(n.i,_),o=!1!==C.call(O,i)&&o}}return o&&!i.defaultPrevented}nr(H,Ro),H.prototype[Pu]=!0,H.prototype.removeEventListener=function(n,e,t,i){Do(this,n,e,t,i)},H.prototype.M=function(){if(H.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)iu(t[i]);delete n.g[e],n.h--}}this.I=null},H.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},H.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var xt=qn.JSON.stringify;function zt(){var n=Ho;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Zi,vi=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new hi,n=>n.reset());class hi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ni(n){qn.setTimeout(()=>{throw n},0)}function ri(n,e){Zi||function Oi(){var n=qn.Promise.resolve(void 0);Zi=function(){n.then(vs)}}(),Qr||(Zi(),Qr=!0),Ho.add(n,e)}var Qr=!1,Ho=new class Cn{constructor(){this.h=this.g=null}add(e,t){const i=vi.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function vs(){for(var n;n=zt();){try{n.h.call(n.g)}catch(t){Ni(t)}var e=vi;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Qr=!1}function to(n,e){H.call(this),this.h=n||1,this.g=e||qn,this.j=ms(this.lb,this),this.l=Date.now()}function xs(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Pa(n,e,t){if("function"==typeof n)t&&(n=ms(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ms(n.handleEvent,n)}return 2147483647<Number(e)?-1:qn.setTimeout(n,e||0)}function il(n){n.g=Pa(()=>{n.g=null,n.i&&(n.i=!1,il(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}nr(to,H),(an=to.prototype).ca=!1,an.R=null,an.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),re(this,"tick"),this.ca&&(xs(this),this.start()))}},an.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},an.M=function(){to.X.M.call(this),xs(this),delete this.g};class vu extends Ro{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:il(this)}M(){super.M(),this.g&&(qn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fu(n){Ro.call(this),this.h=n,this.g={}}nr(Fu,Ro);var au=[];function Go(n,e,t,i){Array.isArray(t)||(t&&(au[0]=t.toString()),t=au);for(var o=0;o<t.length;o++){var d=Po(e,t[o],i||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function ka(n){su(n.g,function(e,t){this.g.hasOwnProperty(t)&&ou(e)},n),n.g={}}function yu(){this.g=!0}function Fs(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Sh(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var d=o[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var _=1;_<o.length;_++)o[_]=""}}}return xt(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Fu.prototype.M=function(){Fu.X.M.call(this),ka(this)},Fu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yu.prototype.Aa=function(){this.g=!1},yu.prototype.info=function(){};var no={},El=null;function Ms(){return El=El||new H}function ho(n){Gs.call(this,no.Pa,n)}function La(n){const e=Ms();re(e,new ho(e))}function Lu(n,e){Gs.call(this,no.STAT_EVENT,n),this.stat=e}function Ys(n){const e=Ms();re(e,new Lu(e,n))}function Bu(n,e){Gs.call(this,no.Qa,n),this.size=e}function Cs(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qn.setTimeout(function(){n()},e)}no.Pa="serverreachability",nr(ho,Gs),no.STAT_EVENT="statevent",nr(Lu,Gs),no.Qa="timingevent",nr(Bu,Gs);var So={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sl={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ka(){}function ol(){}Ka.prototype.h=null;var vc,Gl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function fo(){Gs.call(this,"d")}function po(){Gs.call(this,"c")}function ce(){}function Ls(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Fu(this),this.O=Ua,this.T=new to(n=As?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new la}function la(){this.i=null,this.g="",this.h=!1}nr(fo,Gs),nr(po,Gs),nr(ce,Ka),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},vc=new ce;var Ua=45e3,Xr={},Io={};function bl(n,e,t){n.K=1,n.v=R(ro(e)),n.s=t,n.P=!0,wl(n,null)}function wl(n,e){n.F=Date.now(),al(n),n.A=ro(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),jo(t.i,"t",i),n.C=0,t=n.l.H,n.h=new la,n.g=Hd(n.l,t?e:null,!n.s),0<n.N&&(n.L=new vu(ms(n.La,n,n.g),n.N)),Go(n.S,n.g,"readystatechange",n.ib),e=n.H?Ge(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),La(),function Vd(n,e,t,i,o,d){n.info(function(){if(n.g)if(d)for(var _="",C=d.split("&"),O=0;O<C.length;O++){var $=C[O].split("=");if(1<$.length){var Z=$[0];$=$[1];var fe=Z.split("_");_=2<=fe.length&&"type"==fe[1]?_+(Z+"=")+$+"&":_+(Z+"=redacted&")}}else _=null;else _=d;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Uu(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function yc(n,e,t){let o,i=!0;for(;!n.I&&n.C<t.length;){if(o=jl(n,t),o==Io){4==e&&(n.o=4,Ys(14),i=!1),Fs(n.j,n.m,null,"[Incomplete Response]");break}if(o==Xr){n.o=4,Ys(15),Fs(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Fs(n.j,n.m,o,null),tc(n,o)}Uu(n)&&o!=Io&&o!=Xr&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ys(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qa(e),e.K=!0,Ys(11))):(Fs(n.j,n.m,t,"[Invalid Chunked Response]"),lu(n),uu(n))}function jl(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Io:(t=Number(e.substring(t,i)),isNaN(t)?Xr:(i+=1)+t>e.length?Io:(e=e.substr(i,t),n.C=i+t,e))}function al(n){n.V=Date.now()+n.O,Ih(n,n.O)}function Ih(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Cs(ms(n.gb,n),e)}function yi(n){n.B&&(qn.clearTimeout(n.B),n.B=null)}function uu(n){0==n.l.G||n.I||Mh(n.l,n)}function lu(n){yi(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,xs(n.T),ka(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function tc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ae(t.h,n)))if(!n.J&&ae(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Vc(t),yf(t)}xh(t),Ys(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=Cs(ms(t.cb,t),6e3));if(1>=Y(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else rc(t,11)}else if((n.J||t.g==n)&&Vc(t),!Ra(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let $=o[e];if(t.T=$[0],$=$[1],2==t.G)if("c"==$[0]){t.I=$[1],t.ka=$[2];const Z=$[3];null!=Z&&(t.ma=Z,t.j.info("VER="+t.ma));const fe=$[4];null!=fe&&(t.Ca=fe,t.j.info("SVER="+t.Ca));const xe=$[5];null!=xe&&"number"==typeof xe&&0<xe&&(t.J=i=1.5*xe,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const We=n.g;if(We){const ft=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ft){var d=i.h;d.g||-1==ft.indexOf("spdy")&&-1==ft.indexOf("quic")&&-1==ft.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Le(d,d.h),d.h=null))}if(i.D){const kt=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;kt&&(i.za=kt,x(i.F,i.D,kt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var _=n;if((i=t).sa=Cf(i,i.H?i.ka:null,i.V),_.J){tt(i.h,_);var C=_,O=i.J;O&&C.setTimeout(O),C.B&&(yi(C),al(C)),i.g=_}else Ah(i);0<t.i.length&&bf(t)}else"stop"!=$[0]&&"close"!=$[0]||rc(t,7);else 3==t.G&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?rc(t,7):pd(t):"noop"!=$[0]&&t.l&&t.l.wa($),t.A=0)}La()}catch{}}function cd(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Oo(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Wl(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Oo(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Ec(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Oo(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),o=i.length,d=0;d<o;d++)e.call(void 0,i[d],t&&t[d],n)}(an=Ls.prototype).setTimeout=function(n){this.O=n},an.ib=function(n){n=n.target;const e=this.L;e&&3==bc(n)?e.l():this.La(n)},an.La=function(n){try{if(n==this.g)e:{const Z=bc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Z)&&(3!=Z||As||this.g&&(this.h.h||this.g.fa()||dp(this.g)))){this.I||4!=Z||7==e||La(),yi(this);var t=this.g.aa();this.Y=t;t:if(Uu(this)){var i=dp(this.g);n="";var o=i.length,d=4==bc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lu(this),uu(this);var _="";break t}this.h.i=new qn.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:d&&e==o-1});i.splice(0,o),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.fa();if(this.i=200==t,function ks(n,e,t,i,o,d,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+d+" "+_})}(this.j,this.u,this.A,this.m,this.U,Z,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var C,O=this.g;if((C=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ra(C)){var $=C;break t}}$=null}if(!(t=$)){this.i=!1,this.o=3,Ys(12),lu(this),uu(this);break e}Fs(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tc(this,t)}this.P?(yc(this,Z,_),As&&this.i&&3==Z&&(Go(this.S,this.T,"tick",this.hb),this.T.start())):(Fs(this.j,this.m,_,null),tc(this,_)),4==Z&&lu(this),this.i&&!this.I&&(4==Z?Mh(this.l,this):(this.i=!1,al(this)))}else 400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Ys(12)):(this.o=0,Ys(13)),lu(this),uu(this)}}}catch{}},an.hb=function(){if(this.g){var n=bc(this.g),e=this.g.fa();this.C<e.length&&(yi(this),yc(this,n,e),this.i&&4!=n&&al(this))}},an.cancel=function(){this.I=!0,lu(this)},an.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Fa(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(La(),Ys(17)),lu(this),this.o=2,uu(this)):Ih(this,this.V-n)};var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Eu){this.h=void 0!==e?e:n.h,Ri(this,n.j),this.s=n.s,this.g=n.g,Da(this,n.m),this.l=n.l,e=n.i;var t=new xn;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),io(this,t),this.o=n.o}else n&&(t=String(n).match(Vu))?(this.h=!!e,Ri(this,t[1]||"",!0),this.s=S(t[2]||""),this.g=S(t[3]||"",!0),Da(this,t[4]),this.l=S(t[5]||"",!0),io(this,t[6]||"",!0),this.o=S(t[7]||"")):(this.h=!!e,this.i=new xn(null,this.h))}function ro(n){return new Eu(n)}function Ri(n,e,t){n.j=t?S(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Da(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function io(n,e,t){e instanceof xn?(n.i=e,function Wo(n,e){e&&!n.j&&(Hr(n),n.i=null,n.g.forEach(function(t,i){var o=i.toLowerCase();i!=o&&(Vi(this,i),jo(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=V(e,en)),n.i=new xn(e,n.h))}function x(n,e,t){n.i.set(e,t)}function R(n){return x(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function S(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function V(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,J),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function J(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Eu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(V(e,ie,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(V(e,ie,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(V(t,"/"==t.charAt(0)?Qe:de,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",V(t,Kn)),n.join("")};var ie=/[#\/\?@]/g,de=/[#\?:]/g,Qe=/[#\?]/g,en=/[#\?@]/g,Kn=/#/g;function xn(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Hr(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ca(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),o=null;if(0<=i){var d=n[t].substring(0,i);o=n[t].substring(i+1)}else d=n[t];e(d,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Vi(n,e){Hr(n),e=Za(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function go(n,e){return Hr(n),e=Za(n,e),n.g.has(e)}function jo(n,e,t){Vi(n,e),0<t.length&&(n.i=null,n.g.set(Za(n,e),tl(t)),n.h+=t.length)}function Za(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function cu(n){this.l=n||dd,n=qn.PerformanceNavigationTiming?0<(n=qn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qn.g&&qn.g.Ga&&qn.g.Ga()&&qn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(an=xn.prototype).add=function(n,e){Hr(this),this.i=null,n=Za(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},an.forEach=function(n,e){Hr(this),this.g.forEach(function(t,i){t.forEach(function(o){n.call(e,o,i,this)},this)},this)},an.oa=function(){Hr(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const o=n[i];for(let d=0;d<o.length;d++)t.push(e[i])}return t},an.W=function(n){Hr(this);let e=[];if("string"==typeof n)go(this,n)&&(e=e.concat(this.g.get(Za(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},an.set=function(n,e){return Hr(this),this.i=null,go(this,n=Za(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},an.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},an.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const d=encodeURIComponent(String(i)),_=this.W(i);for(i=0;i<_.length;i++){var o=d;""!==_[i]&&(o+="="+encodeURIComponent(String(_[i]))),n.push(o)}}return this.i=n.join("&")};var dd=10;function z(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Y(n){return n.h?1:n.g?n.g.size:0}function ae(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Le(n,e){n.g?n.g.add(e):n.h=e}function tt(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ct(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return tl(n.i)}function nn(){}function Zn(){this.g=new nn}function ir(n,e,t){const i=t||"";try{cd(n,function(o,d){let _=o;gs(o)&&(_=xt(o)),e.push(i+d+"="+encodeURIComponent(_))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function Or(n,e,t,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function Fr(n){this.l=n.ac||null,this.j=n.jb||!1}function ns(n,e){H.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=mo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cu.prototype.cancel=function(){if(this.i=Ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},nn.prototype.stringify=function(n){return qn.JSON.stringify(n,void 0)},nn.prototype.parse=function(n){return qn.JSON.parse(n,void 0)},nr(Fr,Ka),Fr.prototype.g=function(){return new ns(this.l,this.j)},Fr.prototype.i=function(n){return function(){return n}}({}),nr(ns,H);var mo=0;function $u(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Ao(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ya(n)}function Ya(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(an=ns.prototype).open=function(n,e){if(this.readyState!=mo)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ya(this)},an.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||qn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},an.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ao(this)),this.readyState=mo},an.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof qn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$u(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},an.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ao(this):Ya(this),3==this.readyState&&$u(this)}},an.Va=function(n){this.g&&(this.response=this.responseText=n,Ao(this))},an.Ua=function(n){this.g&&(this.response=n,Ao(this))},an.ga=function(){this.g&&Ao(this)},an.setRequestHeader=function(n,e){this.v.append(n,e)},an.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},an.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ko=qn.JSON.parse;function Ei(n){H.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hd,this.K=this.L=!1}nr(Ei,H);var hd="",du=/^https?$/i,mf=["POST","PUT"];function nc(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fd(n),Ja(n)}function fd(n){n.D||(n.D=!0,re(n,"complete"),re(n,"error"))}function Fo(n){if(n.h&&typeof Ki<"u"&&(!n.C[1]||4!=bc(n)||2!=n.aa()))if(n.v&&4==bc(n))Pa(n.Ha,0,n);else if(re(n,"readystatechange"),4==bc(n)){n.h=!1;try{const C=n.aa();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===C){var o=String(n.H).match(Vu)[1]||null;if(!o&&qn.self&&qn.self.location){var d=qn.self.location.protocol;o=d.substr(0,d.length-1)}i=!du.test(o?o.toLowerCase():"")}t=i}if(t)re(n,"complete"),re(n,"success");else{n.m=6;try{var _=2<bc(n)?n.g.statusText:""}catch{_=""}n.j=_+" ["+n.aa()+"]",fd(n)}}finally{Ja(n)}}}function Ja(n,e){if(n.g){ul(n);const t=n.g,i=n.C[0]?wo:null;n.g=null,n.C=null,e||re(n,"ready");try{t.onreadystatechange=i}catch{}}}function ul(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qn.clearTimeout(n.A),n.A=null)}function bc(n){return n.g?n.g.readyState:0}function dp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case hd:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yg(n){let e="";return su(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Cl(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=yg(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):x(n,e,t))}function wc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function vf(n){this.Ca=0,this.i=[],this.j=new yu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wc("baseRetryDelayMs",5e3,n),this.bb=wc("retryDelaySeedMs",1e4,n),this.$a=wc("forwardChannelMaxRetries",2,n),this.ta=wc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new cu(n&&n.concurrentRequestLimit),this.Fa=new Zn,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function pd(n){if(Ef(n),3==n.G){var e=n.U++,t=ro(n.F);x(t,"SID",n.I),x(t,"RID",e),x(t,"TYPE","terminate"),$d(n,t),(e=new Ls(n,n.j,e,void 0)).K=2,e.v=R(ro(t)),t=!1,qn.navigator&&qn.navigator.sendBeacon&&(t=qn.navigator.sendBeacon(e.v.toString(),"")),!t&&qn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Hd(e.l,null),e.g.da(e.v)),e.F=Date.now(),al(e)}bg(n)}function yf(n){n.g&&(Qa(n),n.g.cancel(),n.g=null)}function Ef(n){yf(n),n.u&&(qn.clearTimeout(n.u),n.u=null),Vc(n),n.h.cancel(),n.m&&("number"==typeof n.m&&qn.clearTimeout(n.m),n.m=null)}function bf(n){z(n.h)||n.m||(n.m=!0,ri(n.Ja,n),n.C=0)}function Eg(n,e){var t;t=e?e.m:n.U++;const i=ro(n.F);x(i,"SID",n.I),x(i,"RID",t),x(i,"AID",n.T),$d(n,i),n.o&&n.s&&Cl(i,n.o,n.s),t=new Ls(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=wf(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Le(n.h,t),bl(t,i,e)}function $d(n,e){n.ia&&su(n.ia,function(t,i){x(e,i,t)}),n.l&&cd({},function(t,i){x(e,i,t)})}function wf(n,e,t){t=Math.min(n.i.length,t);var i=n.l?ms(n.l.Ra,n.l,n):null;e:{var o=n.i;let d=-1;for(;;){const _=["count="+t];-1==d?0<t?(d=o[0].h,_.push("ofs="+d)):d=0:_.push("ofs="+d);let C=!0;for(let O=0;O<t;O++){let $=o[O].h;const Z=o[O].g;if($-=d,0>$)d=Math.max(0,o[O].h-100),C=!1;else try{ir(Z,_,"req"+$+"_")}catch{i&&i(Z)}}if(C){i=_.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Ah(n){n.g||n.u||(n.Z=1,ri(n.Ia,n),n.A=0)}function xh(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Cs(ms(n.Ia,n),Dl(n,n.A)),n.A++,0))}function Qa(n){null!=n.B&&(qn.clearTimeout(n.B),n.B=null)}function Tf(n){n.g=new Ls(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ro(n.sa);x(e,"RID","rpc"),x(e,"SID",n.I),x(e,"CI",n.L?"0":"1"),x(e,"AID",n.T),x(e,"TYPE","xmlhttp"),$d(n,e),n.o&&n.s&&Cl(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=R(ro(e)),t.s=null,t.P=!0,wl(t,n)}function Vc(n){null!=n.v&&(qn.clearTimeout(n.v),n.v=null)}function Mh(n,e){var t=null;if(n.g==e){Vc(n),Qa(n),n.g=null;var i=2}else{if(!ae(n.h,e))return;t=e.D,tt(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;re(i=Ms(),new Bu(i,t)),bf(n)}else Ah(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==i&&function M_(n,e){return!(Y(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Cs(ms(n.Ja,n,e),Dl(n,n.C)),n.C++,0)))}(n,e)||2==i&&xh(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:rc(n,5);break;case 4:rc(n,10);break;case 3:rc(n,6);break;default:rc(n,2)}}function Dl(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function rc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=ms(n.kb,n);t||(t=new Eu("//www.google.com/images/cleardot.gif"),qn.location&&"http"==qn.location.protocol||Ri(t,"https"),R(t)),function pr(n,e){const t=new yu;if(qn.Image){const i=new Image;i.onload=co(Or,t,i,"TestLoadImage: loaded",!0,e),i.onerror=co(Or,t,i,"TestLoadImage: error",!1,e),i.onabort=co(Or,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=co(Or,t,i,"TestLoadImage: timeout",!1,e),qn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ys(2);n.G=0,n.l&&n.l.va(e),bg(n),Ef(n)}function bg(n){if(n.G=0,n.la=[],n.l){const e=Ct(n.h);(0!=e.length||0!=n.i.length)&&(qa(n.la,e),qa(n.la,n.i),n.h.i.length=0,tl(n.i),n.i.length=0),n.l.ua()}}function Cf(n,e,t){var i=t instanceof Eu?ro(t):new Eu(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Da(i,i.m);else{var o=qn.location;i=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var d=new Eu(null,void 0);i&&Ri(d,i),e&&(d.g=e),o&&Da(d,o),t&&(d.l=t),i=d}return e=n.za,(t=n.D)&&e&&x(i,t,e),x(i,"VER",n.ma),$d(n,i),i}function Hd(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ei(t&&n.Da&&!n.ra?new Fr({jb:!0}):n.ra)).Ka(n.H),e}function ca(){}function Tc(){if(Qi&&!(10<=Number(ua)))throw Error("Environmental error: no available transport.")}function Sa(n,e){H.call(this),this.g=new vf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Ra(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ra(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ir(this)}function zo(n){fo.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function $c(){po.call(this),this.status=1}function Ir(n){this.g=n}(an=Ei.prototype).Ka=function(n){this.L=n},an.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vc.g(),this.C=function Ba(n){return n.h||(n.h=n.i())}(this.u?this.u:vc),this.g.onreadystatechange=ms(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(d){return void nc(this,d)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)t.set(o,i[o]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const d of i.keys())t.set(d,i.get(d))}i=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),o=qn.FormData&&n instanceof qn.FormData,!(0<=mu(mf,e))||i||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,_]of t)this.g.setRequestHeader(d,_);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ul(this),0<this.B&&((this.K=function _f(n){return Qi&&function ld(){return function $n(n){var e=ba;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=B(String(qi)).split("."),t=B("9").split("."),i=Math.max(e.length,t.length);for(let _=0;0==n&&_<i;_++){var o=e[_]||"",d=t[_]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==o[0].length&&0==d[0].length)break;n=W(0==o[1].length?0:parseInt(o[1],10),0==d[1].length?0:parseInt(d[1],10))||W(0==o[2].length,0==d[2].length)||W(o[2],d[2]),o=o[3],d=d[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ms(this.qa,this)):this.A=Pa(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){nc(this,d)}},an.qa=function(){typeof Ki<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,re(this,"timeout"),this.abort(8))},an.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,re(this,"complete"),re(this,"abort"),Ja(this))},an.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ja(this,!0)),Ei.X.M.call(this)},an.Ha=function(){this.s||(this.F||this.v||this.l?Fo(this):this.fb())},an.fb=function(){Fo(this)},an.aa=function(){try{return 2<bc(this)?this.g.status:-1}catch{return-1}},an.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},an.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ko(e)}},an.Ea=function(){return this.m},an.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(an=vf.prototype).ma=8,an.G=1,an.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new Ls(this,this.j,n,void 0);let d=this.s;if(this.S&&(d?(d=Ge(d),ut(d,this.S)):d=this.S),null!==this.o||this.N||(o.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wf(this,o,e),x(t=ro(this.F),"RID",n),x(t,"CVER",22),this.D&&x(t,"X-HTTP-Session-Id",this.D),$d(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(yg(d)))+"&"+e:this.o&&Cl(t,this.o,d)),Le(this.h,o),this.Ya&&x(t,"TYPE","init"),this.O?(x(t,"$req",e),x(t,"SID","null"),o.Z=!0,bl(o,t,null)):bl(o,t,e),this.G=2}}else 3==this.G&&(n?Eg(this,n):0==this.i.length||z(this.h)||Eg(this))},an.Ia=function(){if(this.u=null,Tf(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Cs(ms(this.eb,this),n)}},an.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ys(10),yf(this),Tf(this))},an.cb=function(){null!=this.v&&(this.v=null,yf(this),xh(this),Ys(19))},an.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ys(2)):(this.j.info("Failed to ping google.com"),Ys(1))},(an=ca.prototype).xa=function(){},an.wa=function(){},an.va=function(){},an.ua=function(){},an.Ra=function(){},Tc.prototype.g=function(n,e){return new Sa(n,e)},nr(Sa,H),Sa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ys(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Cf(n,null,n.V),bf(n)},Sa.prototype.close=function(){pd(this.g)},Sa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=xt(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&bf(e)},Sa.prototype.M=function(){this.g.l=null,delete this.j,pd(this.g),delete this.g,Sa.X.M.call(this)},nr(zo,fo),nr($c,po),nr(Ir,ca),Ir.prototype.xa=function(){re(this.g,"a")},Ir.prototype.wa=function(n){re(this.g,new zo(n))},Ir.prototype.va=function(n){re(this.g,new $c)},Ir.prototype.ua=function(){re(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,Sa.prototype.send=Sa.prototype.u,Sa.prototype.open=Sa.prototype.m,Sa.prototype.close=Sa.prototype.close,So.NO_ERROR=0,So.TIMEOUT=8,So.HTTP_ERROR=6,sl.COMPLETE="complete",ol.EventType=Gl,Gl.OPEN="a",Gl.CLOSE="b",Gl.ERROR="c",Gl.MESSAGE="d",H.prototype.listen=H.prototype.N,Ei.prototype.listenOnce=Ei.prototype.O,Ei.prototype.getLastError=Ei.prototype.Oa,Ei.prototype.getLastErrorCode=Ei.prototype.Ea,Ei.prototype.getStatus=Ei.prototype.aa,Ei.prototype.getResponseJson=Ei.prototype.Sa,Ei.prototype.getResponseText=Ei.prototype.fa,Ei.prototype.send=Ei.prototype.da,Ei.prototype.setWithCredentials=Ei.prototype.Ka;var Gd=ci.createWebChannelTransport=function(){return new Tc},Xa=ci.getStatEventTarget=function(){return Ms()},Sl=ci.ErrorCode=So,Nh=ci.EventType=sl,ic=ci.Event=no,Ia=ci.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Va=ci.FetchXmlHttpFactory=Fr,Hc=ci.WebChannel=ol,Cc=ci.XhrIo=Ei;const jd="@firebase/firestore";class Lo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lo.UNAUTHENTICATED=new Lo(null),Lo.GOOGLE_CREDENTIALS=new Lo("google-credentials-uid"),Lo.FIRST_PARTY=new Lo("first-party-uid"),Lo.MOCK_USER=new Lo("mock-user");let N="9.16.0";const b=new ws.Yd("@firebase/firestore");function D(){return b.logLevel}function Q(n,...e){if(b.logLevel<=ws.in.DEBUG){const t=e.map(sn);b.debug(`Firestore (${N}): ${n}`,...t)}}function he(n,...e){if(b.logLevel<=ws.in.ERROR){const t=e.map(sn);b.error(`Firestore (${N}): ${n}`,...t)}}function dt(n,...e){if(b.logLevel<=ws.in.WARN){const t=e.map(sn);b.warn(`Firestore (${N}): ${n}`,...t)}}function sn(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ut(n="Unexpected state"){const e=`FIRESTORE (${N}) INTERNAL ASSERTION FAILED: `+n;throw he(e),new Error(e)}function Yt(n,e){n||Ut()}function un(n,e){return n}const Mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends cr.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _o{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Dc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lo.UNAUTHENTICATED))}shutdown(){}}class Oh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bu{constructor(e){this.t=e,this.currentUser=Lo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let o=this.i;const d=$=>this.i!==o?(o=this.i,t($)):Promise.resolve();let _=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new _o,e.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const $=_;e.enqueueRetryable((0,Gt.Z)(function*(){yield $.promise,yield d(i.currentUser)}))},O=$=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit($=>O($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?O($):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new _o)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt("string"==typeof i.accessToken),new Dc(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yt(null===e||"string"==typeof e),new Lo(e)}}class Wd{constructor(e,t,i,o){this.h=e,this.l=t,this.m=i,this.g=o,this.type="FirstParty",this.user=Lo.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Yt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class hp{constructor(e,t,i,o){this.h=e,this.l=t,this.m=i,this.g=o}getToken(){return Promise.resolve(new Wd(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Lo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ph{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=d=>{null!=d.error&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const _=d.token!==this.A;return this.A=d.token,Q("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>i(d))};const o=d=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>o(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?o(d):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yt("string"==typeof t.token),this.A=t.token,new Rh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tg(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class eu{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=Tg(40);for(let d=0;d<o.length;++d)i.length<20&&o[d]<t&&(i+=e.charAt(o[d]%e.length))}return i}}function Mr(n,e){return n<e?-1:n>e?1:0}function zd(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}function Cg(n){return n+"\0"}class js{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Jt(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Jt(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Jt(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Jt(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return js.fromMillis(Date.now())}static fromDate(e){return js.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new js(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mr(this.nanoseconds,e.nanoseconds):Mr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gr(e)}static min(){return new gr(new js(0,0))}static max(){return new gr(new js(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kh{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ut(),void 0===i?i=e.length-t:i>e.length-t&&Ut(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===kh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const d=e.get(o),_=t.get(o);if(d<_)return-1;if(d>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rs extends kh{construct(e,t,i){return new rs(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Jt(Mt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new rs(t)}static emptyPath(){return new rs([])}}const es=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ws extends kh{construct(e,t,i){return new Ws(e,t,i)}static isValidIdentifier(e){return es.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ws.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ws(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const d=()=>{if(0===i.length)throw new Jt(Mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;o<e.length;){const C=e[o];if("\\"===C){if(o+1===e.length)throw new Jt(Mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[o+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Jt(Mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=O,o+=2}else"`"===C?(_=!_,o++):"."!==C||_?(i+=C,o++):(d(),o++)}if(d(),_)throw new Jt(Mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ws(t)}static emptyPath(){return new Ws([])}}class Ln{constructor(e){this.path=e}static fromPath(e){return new Ln(rs.fromString(e))}static fromName(e){return new Ln(rs.fromString(e).popFirst(5))}static empty(){return new Ln(rs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ln(new rs(e.slice()))}}class qo{constructor(e,t,i,o){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=o}}function xm(n){return n.fields.find(e=>2===e.kind)}function md(n){return n.fields.filter(e=>2!==e.kind)}qo.UNKNOWN_ID=-1;class _d{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gc(0,ll.min())}}function jc(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=gr.fromTimestamp(1e9===i?new js(t+1,0):new js(t,i));return new ll(o,Ln.empty(),e)}function Wc(n){return new ll(n.readTime,n.key,-1)}class ll{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ll(gr.min(),Ln.empty(),-1)}static max(){return new ll(gr.max(),Ln.empty(),-1)}}function zc(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ln.comparator(n.documentKey,e.documentKey),0!==t?t:Mr(n.largestBatchId,e.largestBatchId))}const qd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function sc(n){return pp.apply(this,arguments)}function pp(){return pp=(0,Gt.Z)(function*(n){if(n.code!==Mt.FAILED_PRECONDITION||n.message!==qd)throw n;Q("LocalStore","Unexpectedly lost primary lease")}),pp.apply(this,arguments)}class Ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ot((i,o)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(i,o)},this.catchCallback=d=>{this.wrapFailure(t,d).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ot?t:Ot.resolve(t)}catch(t){return Ot.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ot.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ot.reject(t)}static resolve(e){return new Ot((t,i)=>{t(e)})}static reject(e){return new Ot((t,i)=>{i(e)})}static waitFor(e){return new Ot((t,i)=>{let o=0,d=0,_=!1;e.forEach(C=>{++o,C.next(()=>{++d,_&&d===o&&t()},O=>i(O))}),_=!0,d===o&&t()})}static or(e){let t=Ot.resolve(!1);for(const i of e)t=t.next(o=>o?Ot.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,d)=>{i.push(t.call(this,o,d))}),this.waitFor(i)}static mapArray(e,t){return new Ot((i,o)=>{const d=e.length,_=new Array(d);let C=0;for(let O=0;O<d;O++){const $=O;t(e[$]).next(Z=>{_[$]=Z,++C,C===d&&i(_)},Z=>o(Z))}})}static doWhile(e,t){return new Ot((i,o)=>{const d=()=>{!0===e()?t().next(()=>{d()},o):i()};d()})}}class Hu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new _o,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Kd(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const o=Yd(i.target.error);this.P.reject(new Kd(e,o))}}static open(e,t,i,o){try{return new Hu(t,e.transaction(o,i))}catch(d){throw new Kd(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Nm(t)}}class oc{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===oc.D((0,cr.z$)())&&he("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),Zd(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,cr.hl)())return!1;if(oc.N())return!0;const e=(0,cr.z$)(),t=oc.D(e),i=0<t&&t<10,o=oc.k(e),d=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Gt.Z)(function*(){return t.db||(Q("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,o)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=_=>{i(_.target.result)},d.onblocked=()=>{o(new Kd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=_=>{const C=_.target.error;o("VersionError"===C.name?new Jt(Mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Jt(Mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new Kd(e,C))},d.onupgradeneeded=_=>{Q("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',_.oldVersion),t.S.$(_.target.result,d.transaction,_.oldVersion,t.version).next(()=>{Q("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,o){var d=this;return(0,Gt.Z)(function*(){const _="readonly"===t;let C=0;for(;;){++C;try{d.db=yield d.F(e);const O=Hu.open(d.db,e,_?"readonly":"readwrite",i),$=o(O).next(Z=>(O.V(),Z)).catch(Z=>(O.abort(Z),Ot.reject(Z))).toPromise();return $.catch(()=>{}),yield O.v,$}catch(O){const $=O,Z="FirebaseError"!==$.name&&C<3;if(Q("SimpleDb","Transaction failed with error:",$.message,"Retrying:",Z),d.close(),!Z)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Dg{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Zd(this.q.delete())}}class Kd extends Jt{constructor(e,t){super(Mt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sc(n){return"IndexedDbTransactionError"===n.name}class Nm{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Q("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Zd(i)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),Zd(this.store.add(e))}get(e){return Zd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Q("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),Zd(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),Zd(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const o=this.cursor(i),d=[];return this.H(o,(_,C)=>{d.push(C)}).next(()=>d)}{const o=this.store.getAll(i.range);return new Ot((d,_)=>{o.onerror=C=>{_(C.target.error)},o.onsuccess=C=>{d(C.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ot((o,d)=>{i.onerror=_=>{d(_.target.error)},i.onsuccess=_=>{o(_.target.result)}})}Y(e,t){Q("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const o=this.cursor(i);return this.H(o,(d,_,C)=>C.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const o=this.cursor(i);return this.H(o,t)}tt(e){const t=this.cursor({});return new Ot((i,o)=>{t.onerror=d=>{const _=Yd(d.target.error);o(_)},t.onsuccess=d=>{const _=d.target.result;_?e(_.primaryKey,_.value).next(C=>{C?_.continue():i()}):i()}})}H(e,t){const i=[];return new Ot((o,d)=>{e.onerror=_=>{d(_.target.error)},e.onsuccess=_=>{const C=_.target.result;if(!C)return void o();const O=new Dg(C),$=t(C.primaryKey,C.value,O);if($ instanceof Ot){const Z=$.catch(fe=>(O.done(),Ot.reject(fe)));i.push(Z)}O.isDone?o():null===O.G?C.continue():C.continue(O.G)}}).next(()=>Ot.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Zd(n){return new Ot((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const o=Yd(i.target.error);t(o)}})}let Ic=!1;function Yd(n){const e=oc.D((0,cr.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Jt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ic||(Ic=!0,setTimeout(()=>{throw i},0)),i}}return n}class Ac{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Q("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Gt.Z)(function*(){t.task=null;try{Q("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Sc(i)?Q("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield sc(i)}yield t.nt(6e4)}))}}class qc{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Gt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let o=t,d=!0;return Ot.doWhile(()=>!0===d&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!i.has(_))return Q("IndexBackiller",`Processing collection: ${_}`),this.rt(e,_,o).next(C=>{o-=C,i.add(_)});d=!1})).next(()=>t-o)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,i).next(d=>{const _=d.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.ot(o,d)).next(C=>(Q("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,t,C))).next(()=>_.size)}))}ot(e,t){let i=e;return t.changes.forEach((o,d)=>{const _=Wc(d);zc(_,i)>0&&(i=_)}),new ll(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Gu=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>i.writeSequenceNumber(o))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class Fh{constructor(e,t,i,o,d,_,C,O){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=d,this.forceLongPolling=_,this.autoDetectLongPolling=C,this.useFetchStreams=O}}class Rr{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Rr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rr&&e.projectId===this.projectId&&e.database===this.database}}function Kc(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Jd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sf(n){return null==n}function Zc(n){return 0===n&&1/n==-1/0}function gp(n){return"number"==typeof n&&Number.isInteger(n)&&!Zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class da{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new da(t)}static fromUint8Array(e){const t=function(i){let o="";for(let d=0;d<i.length;++d)o+=String.fromCharCode(i[d]);return o}(e);return new da(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}da.EMPTY_BYTE_STRING=new da("");const N_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yc(n){if(Yt(!!n),"string"==typeof n){let e=0;const t=N_.exec(n);if(Yt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ko(n.seconds),nanos:Ko(n.nanos)}}function Ko(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vd(n){return"string"==typeof n?da.fromBase64String(n):da.fromUint8Array(n)}function Sg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function O_(n){const e=n.mapValue.fields.__previous_value__;return Sg(e)?O_(e):e}function mp(n){const e=Yc(n.mapValue.fields.__local_write_time__.timestampValue);return new js(e.seconds,e.nanos)}const Zo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bo={nullValue:"NULL_VALUE"};function ac(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sg(n)?4:Ig(n)?9007199254740991:10:Ut()}function yd(n,e){if(n===e)return!0;const t=ac(n);if(t!==ac(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mp(n).isEqual(mp(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const d=Yc(i.timestampValue),_=Yc(o.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,vd(n.bytesValue).isEqual(vd(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ko(i.geoPointValue.latitude)===Ko(o.geoPointValue.latitude)&&Ko(i.geoPointValue.longitude)===Ko(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ko(i.integerValue)===Ko(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const d=Ko(i.doubleValue),_=Ko(o.doubleValue);return d===_?Zc(d)===Zc(_):isNaN(d)&&isNaN(_)}return!1}(n,e);case 9:return zd(n.arrayValue.values||[],e.arrayValue.values||[],yd);case 10:return function(i,o){const d=i.mapValue.fields||{},_=o.mapValue.fields||{};if(Kc(d)!==Kc(_))return!1;for(const C in d)if(d.hasOwnProperty(C)&&(void 0===_[C]||!yd(d[C],_[C])))return!1;return!0}(n,e);default:return Ut()}var o}function If(n,e){return void 0!==(n.values||[]).find(t=>yd(t,e))}function Lh(n,e){if(n===e)return 0;const t=ac(n),i=ac(e);if(t!==i)return Mr(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Mr(n.booleanValue,e.booleanValue);case 2:return function(o,d){const _=Ko(o.integerValue||o.doubleValue),C=Ko(d.integerValue||d.doubleValue);return _<C?-1:_>C?1:_===C?0:isNaN(_)?isNaN(C)?0:-1:1}(n,e);case 3:return Xv(n.timestampValue,e.timestampValue);case 4:return Xv(mp(n),mp(e));case 5:return Mr(n.stringValue,e.stringValue);case 6:return function(o,d){const _=vd(o),C=vd(d);return _.compareTo(C)}(n.bytesValue,e.bytesValue);case 7:return function(o,d){const _=o.split("/"),C=d.split("/");for(let O=0;O<_.length&&O<C.length;O++){const $=Mr(_[O],C[O]);if(0!==$)return $}return Mr(_.length,C.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,d){const _=Mr(Ko(o.latitude),Ko(d.latitude));return 0!==_?_:Mr(Ko(o.longitude),Ko(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,d){const _=o.values||[],C=d.values||[];for(let O=0;O<_.length&&O<C.length;++O){const $=Lh(_[O],C[O]);if($)return $}return Mr(_.length,C.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,d){if(o===Zo.mapValue&&d===Zo.mapValue)return 0;if(o===Zo.mapValue)return 1;if(d===Zo.mapValue)return-1;const _=o.fields||{},C=Object.keys(_),O=d.fields||{},$=Object.keys(O);C.sort(),$.sort();for(let Z=0;Z<C.length&&Z<$.length;++Z){const fe=Mr(C[Z],$[Z]);if(0!==fe)return fe;const xe=Lh(_[C[Z]],O[$[Z]]);if(0!==xe)return xe}return Mr(C.length,$.length)}(n.mapValue,e.mapValue);default:throw Ut()}}function Xv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Mr(n,e);const t=Yc(n),i=Yc(e),o=Mr(t.seconds,i.seconds);return 0!==o?o:Mr(t.nanos,i.nanos)}function Ed(n){return Af(n)}function Af(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const o=Yc(i);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vd(n.bytesValue).toBase64():"referenceValue"in n?Ln.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let o="[",d=!0;for(const _ of i.values||[])d?d=!1:o+=",",o+=Af(_);return o+"]"}(n.arrayValue):"mapValue"in n?function(i){const o=Object.keys(i.fields||{}).sort();let d="{",_=!0;for(const C of o)_?_=!1:d+=",",d+=`${C}:${Af(i.fields[C])}`;return d+"}"}(n.mapValue):Ut();var e}function Qd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Om(n){return!!n&&"integerValue"in n}function _p(n){return!!n&&"arrayValue"in n}function Rm(n){return!!n&&"nullValue"in n}function vp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zl(n){return!!n&&"mapValue"in n}function ql(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ql(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ql(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ig(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function yp(n){return"nullValue"in n?Bo:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qd(Rr.empty(),Ln.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ut()}function Ag(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qd(Rr.empty(),Ln.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Zo:Ut()}function Ep(n,e){const t=Lh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Pm(n,e){const t=Lh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Xd{constructor(e,t){this.position=e,this.inclusive=t}}function bp(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const d=e[o],_=n.position[o];if(i=d.field.isKeyField()?Ln.comparator(Ln.fromName(_.referenceValue),t.key):Lh(_,t.data.field(d.field)),"desc"===d.dir&&(i*=-1),0!==i)break}return i}function eh(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yd(n.position[t],e.position[t]))return!1;return!0}class Nr{}class fi extends Nr{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new ey(e,t,i):"array-contains"===t?new ty(e,i):"in"===t?new xf(e,i):"not-in"===t?new F_(e,i):"array-contains-any"===t?new L_(e,i):new fi(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new ha(e,i):new k_(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Lh(t,this.value)):null!==t&&ac(this.value)===ac(t)&&this.matchesComparison(Lh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ts extends Nr{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new ts(e,t)}matches(e){return Il(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Il(n){return"and"===n.op}function wp(n){return"or"===n.op}function km(n){return R_(n)&&Il(n)}function R_(n){for(const e of n.filters)if(e instanceof ts)return!1;return!0}function xg(n){if(n instanceof fi)return n.field.canonicalString()+n.op.toString()+Ed(n.value);if(km(n))return n.filters.map(e=>xg(e)).join(",");{const e=n.filters.map(t=>xg(t)).join(",");return`${n.op}(${e})`}}function Bh(n,e){return n instanceof fi?(t=n,(i=e)instanceof fi&&t.op===i.op&&t.field.isEqual(i.field)&&yd(t.value,i.value)):n instanceof ts?function(t,i){return i instanceof ts&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((o,d,_)=>o&&Bh(d,i.filters[_]),!0)}(n,e):void Ut();var t,i}function P_(n,e){const t=n.filters.concat(e);return ts.create(t,n.op)}function Mg(n){return n instanceof fi?`${(e=n).field.canonicalString()} ${e.op} ${Ed(e.value)}`:n instanceof ts?function(e){return e.op.toString()+" {"+e.getFilters().map(Mg).join(" ,")+"}"}(n):"Filter";var e}class ey extends fi{constructor(e,t,i){super(e,t,i),this.key=Ln.fromName(i.referenceValue)}matches(e){const t=Ln.comparator(e.key,this.key);return this.matchesComparison(t)}}class ha extends fi{constructor(e,t){super(e,"in",t),this.keys=Ng(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class k_ extends fi{constructor(e,t){super(e,"not-in",t),this.keys=Ng(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ng(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ln.fromName(i.referenceValue))}class ty extends fi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _p(t)&&If(t.arrayValue,this.value)}}class xf extends fi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&If(this.value.arrayValue,t)}}class F_ extends fi{constructor(e,t){super(e,"not-in",t)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!If(this.value.arrayValue,t)}}class L_ extends fi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>If(this.value.arrayValue,i))}}class Mf{constructor(e,t="asc"){this.field=e,this.dir=t}}function ny(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Yo{constructor(e,t){this.comparator=e,this.root=t||Tu.EMPTY}insert(e,t){return new Yo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tu.BLACK,null,null))}remove(e){return new Yo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(0===o)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Og(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Og(this.root,e,this.comparator,!1)}getReverseIterator(){return new Og(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Og(this.root,e,this.comparator,!0)}}class Og{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?i(e.key,t):1,t&&o&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tu{constructor(e,t,i,o,d){this.key=e,this.value=t,this.color=i??Tu.RED,this.left=o??Tu.EMPTY,this.right=d??Tu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,d){return new Tu(e??this.key,t??this.value,i??this.color,o??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const d=i(e,o.key);return o=d<0?o.copy(null,null,null,o.left.insert(e,t,i),null):0===d?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Tu.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ut();const e=this.left.check();if(e!==this.right.check())throw Ut();return e+(this.isRed()?0:1)}}Tu.EMPTY=null,Tu.RED=!0,Tu.BLACK=!1,Tu.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut()}get value(){throw Ut()}get color(){throw Ut()}get left(){throw Ut()}get right(){throw Ut()}copy(n,e,t,i,o){return this}insert(n,e,t){return new Tu(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ci{constructor(e){this.comparator=e,this.data=new Yo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new th(this.data.getIterator())}getIteratorFrom(e){return new th(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ci)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,d=i.getNext().key;if(0!==this.comparator(o,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ci(this.comparator);return t.data=e,t}}class th{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Uh(n){return n.hasNext()?n.getNext():void 0}class cl{constructor(e){this.fields=e,e.sort(Ws.comparator)}static empty(){return new cl([])}unionWith(e){let t=new Ci(Ws.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new cl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class fa{constructor(e){this.value=e}static empty(){return new fa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!zl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(t)}setAll(e){let t=Ws.emptyPath(),i={},o=[];e.forEach((_,C)=>{if(!t.isImmediateParentOf(C)){const O=this.getFieldsMap(t);this.applyChanges(O,i,o),i={},o=[],t=C.popLast()}_?i[C.lastSegment()]=ql(_):o.push(C.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,i,o)}delete(e){const t=this.field(e.popLast());zl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];zl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){xc(t,(o,d)=>e[o]=d);for(const o of i)delete e[o]}clone(){return new fa(ql(this.value))}}function Cu(n){const e=[];return xc(n.fields,(t,i)=>{const o=new Ws([t]);if(zl(i)){const d=Cu(i.mapValue).fields;if(0===d.length)e.push(o);else for(const _ of d)e.push(o.child(_))}else e.push(o)}),new cl(e)}class Bs{constructor(e,t,i,o,d,_,C){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=d,this.data=_,this.documentState=C}static newInvalidDocument(e){return new Bs(e,0,gr.min(),gr.min(),gr.min(),fa.empty(),0)}static newFoundDocument(e,t,i,o){return new Bs(e,1,t,gr.min(),i,o,0)}static newNoDocument(e,t){return new Bs(e,2,t,gr.min(),gr.min(),fa.empty(),0)}static newUnknownDocument(e,t){return new Bs(e,3,t,gr.min(),gr.min(),fa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fm{constructor(e,t=null,i=[],o=[],d=null,_=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=d,this.startAt=_,this.endAt=C,this.ft=null}}function Vh(n,e=null,t=[],i=[],o=null,d=null,_=null){return new Fm(n,e,t,i,o,d,_)}function Al(n){const e=un(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>xg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ed(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ed(i)).join(",")),e.ft=t}return e.ft}function nh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ny(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Bh(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eh(n.startAt,e.startAt)&&eh(n.endAt,e.endAt)}function bi(n){return Ln.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Lm(n,e){return n.filters.filter(t=>t instanceof fi&&t.field.isEqual(e))}function Aa(n,e,t){let i=Bo,o=!0;for(const d of Lm(n,e)){let _=Bo,C=!0;switch(d.op){case"<":case"<=":_=yp(d.value);break;case"==":case"in":case">=":_=d.value;break;case">":_=d.value,C=!1;break;case"!=":case"not-in":_=Bo}Ep({value:i,inclusive:o},{value:_,inclusive:C})<0&&(i=_,o=C)}if(null!==t)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(e)){const _=t.position[d];Ep({value:i,inclusive:o},{value:_,inclusive:t.inclusive})<0&&(i=_,o=t.inclusive);break}return{value:i,inclusive:o}}function dl(n,e,t){let i=Zo,o=!0;for(const d of Lm(n,e)){let _=Zo,C=!0;switch(d.op){case">=":case">":_=Ag(d.value),C=!1;break;case"==":case"in":case"<=":_=d.value;break;case"<":_=d.value,C=!1;break;case"!=":case"not-in":_=Zo}Pm({value:i,inclusive:o},{value:_,inclusive:C})>0&&(i=_,o=C)}if(null!==t)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(e)){const _=t.position[d];Pm({value:i,inclusive:o},{value:_,inclusive:t.inclusive})>0&&(i=_,o=t.inclusive);break}return{value:i,inclusive:o}}class uc{constructor(e,t=null,i=[],o=[],d=null,_="F",C=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=d,this.limitType=_,this.startAt=C,this.endAt=O,this.dt=null,this._t=null}}function Jc(n,e,t,i,o,d,_,C){return new uc(n,e,t,i,o,d,_,C)}function Nf(n){return new uc(n)}function Of(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function rh(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Rg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Tp(n){return null!==n.collectionGroup}function Qc(n){const e=un(n);if(null===e.dt){e.dt=[];const t=Rg(e),i=rh(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new Mf(t)),e.dt.push(new Mf(Ws.keyField(),"asc"));else{let o=!1;for(const d of e.explicitOrderBy)e.dt.push(d),d.field.isKeyField()&&(o=!0);if(!o){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Mf(Ws.keyField(),d))}}}return e.dt}function xa(n){const e=un(n);if(!e._t)if("F"===e.limitType)e._t=Vh(e.path,e.collectionGroup,Qc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Qc(e))t.push(new Mf(d.field,"desc"===d.dir?"asc":"desc"));const i=e.endAt?new Xd(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Xd(e.startAt.position,e.startAt.inclusive):null;e._t=Vh(e.path,e.collectionGroup,t,e.filters,e.limit,i,o)}return e._t}function Pg(n,e){e.getFirstInequalityField(),Rg(n);const t=n.filters.concat([e]);return new uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Rf(n,e,t){return new uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pf(n,e){return nh(xa(n),xa(e))&&n.limitType===e.limitType}function B_(n){return`${Al(xa(n))}|lt:${n.limitType}`}function kf(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Mg(i)).join(", ")}]`),Sf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ed(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ed(i)).join(",")),`Target(${t})`}(xa(n))}; limitType=${n.limitType})`}function ih(n,e){return e.isFoundDocument()&&function(t,i){const o=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ln.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,i){for(const o of Qc(t))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(t,i){for(const o of t.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(o,d,_){const C=bp(o,d,_);return o.inclusive?C<=0:C<0}(t.startAt,Qc(t),i)||t.endAt&&!function(o,d,_){const C=bp(o,d,_);return o.inclusive?C>=0:C>0}(t.endAt,Qc(t),i)));var t,i}function Di(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bm(n){return(e,t)=>{let i=!1;for(const o of Qc(n)){const d=Ff(o,e,t);if(0!==d)return d;i=i||o.field.isKeyField()}return 0}}function Ff(n,e,t){const i=n.field.isKeyField()?Ln.comparator(e.key,t.key):function(o,d,_){const C=d.data.field(o),O=_.data.field(o);return null!==C&&null!==O?Lh(C,O):Ut()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ut()}}function Cp(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function Dp(n){return{integerValue:""+n}}function Lf(n,e){return gp(e)?Dp(e):Cp(n,e)}class $h{constructor(){this._=void 0}}function U_(n,e,t){return n instanceof xl?function(i,o){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(d.fields.__previous_value__=o),{mapValue:d}}(t,e):n instanceof sh?Hh(n,e):n instanceof Du?kg(n,e):function(i,o){const d=V_(i,o),_=Ml(d)+Ml(i.gt);return Om(d)&&Om(i.gt)?Dp(_):Cp(i.yt,_)}(n,e)}function A0(n,e,t){return n instanceof sh?Hh(n,e):n instanceof Du?kg(n,e):t}function V_(n,e){return n instanceof oh?Om(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class xl extends $h{}class sh extends $h{constructor(e){super(),this.elements=e}}function Hh(n,e){const t=Bf(e);for(const i of n.elements)t.some(o=>yd(o,i))||t.push(i);return{arrayValue:{values:t}}}class Du extends $h{constructor(e){super(),this.elements=e}}function kg(n,e){let t=Bf(e);for(const i of n.elements)t=t.filter(o=>!yd(o,i));return{arrayValue:{values:t}}}class oh extends $h{constructor(e,t){super(),this.yt=e,this.gt=t}}function Ml(n){return Ko(n.integerValue||n.doubleValue)}function Bf(n){return _p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Sp{constructor(e,t){this.field=e,this.transform=t}}class H_{constructor(e,t){this.version=e,this.transformResults=t}}class vo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vo}static exists(e){return new vo(void 0,e)}static updateTime(e){return new vo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ip{}function Fg(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ju(n.key,vo.none()):new Xc(n.key,n.data,vo.none());{const t=n.data,i=fa.empty();let o=new Ci(Ws.comparator);for(let d of e.fields)if(!o.has(d)){let _=t.field(d);null===_&&d.length>1&&(d=d.popLast(),_=t.field(d)),null===_?i.delete(d):i.set(d,_),o=o.add(d)}return new wd(n.key,i,new cl(o.toArray()),vo.none())}}function bd(n,e,t){n instanceof Xc?function(i,o,d){const _=i.value.clone(),C=Vm(i.fieldTransforms,o,d.transformResults);_.setAll(C),o.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(n,e,t):n instanceof wd?function(i,o,d){if(!Uf(i.precondition,o))return void o.convertToUnknownDocument(d.version);const _=Vm(i.fieldTransforms,o,d.transformResults),C=o.data;C.setAll(Lg(i)),C.setAll(_),o.convertToFoundDocument(d.version,C).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ah(n,e,t,i){return n instanceof Xc?function(o,d,_,C){if(!Uf(o.precondition,d))return _;const O=o.value.clone(),$=uh(o.fieldTransforms,C,d);return O.setAll($),d.convertToFoundDocument(d.version,O).setHasLocalMutations(),null}(n,e,t,i):n instanceof wd?function(o,d,_,C){if(!Uf(o.precondition,d))return _;const O=uh(o.fieldTransforms,C,d),$=d.data;return $.setAll(Lg(o)),$.setAll(O),d.convertToFoundDocument(d.version,$).setHasLocalMutations(),null===_?null:_.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(Z=>Z.field))}(n,e,t,i):(_=t,Uf(n.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_);var d,_}function Um(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),d=V_(i.transform,o||null);null!=d&&(null===t&&(t=fa.empty()),t.set(i.field,d))}return t||null}function lc(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&zd(t,i,(o,d)=>function $_(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof sh&&i instanceof sh||t instanceof Du&&i instanceof Du?zd(t.elements,i.elements,yd):t instanceof oh&&i instanceof oh?yd(t.gt,i.gt):t instanceof xl&&i instanceof xl);var t,i}(o,d))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Xc extends Ip{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wd extends Ip{constructor(e,t,i,o,d=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Lg(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Vm(n,e,t){const i=new Map;Yt(n.length===t.length);for(let o=0;o<t.length;o++){const d=n[o],_=d.transform,C=e.data.field(d.field);i.set(d.field,A0(_,C,t[o]))}return i}function uh(n,e,t){const i=new Map;for(const o of n){const d=o.transform,_=t.data.field(o.field);i.set(o.field,U_(d,_,e))}return i}class ju extends Ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ap extends Ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ry{constructor(e){this.count=e}}var $a,ys;function $m(n){switch(n){default:return Ut();case Mt.CANCELLED:case Mt.UNKNOWN:case Mt.DEADLINE_EXCEEDED:case Mt.RESOURCE_EXHAUSTED:case Mt.INTERNAL:case Mt.UNAVAILABLE:case Mt.UNAUTHENTICATED:return!1;case Mt.INVALID_ARGUMENT:case Mt.NOT_FOUND:case Mt.ALREADY_EXISTS:case Mt.PERMISSION_DENIED:case Mt.FAILED_PRECONDITION:case Mt.ABORTED:case Mt.OUT_OF_RANGE:case Mt.UNIMPLEMENTED:case Mt.DATA_LOSS:return!0}}function Bg(n){if(void 0===n)return he("GRPC error has no .code"),Mt.UNKNOWN;switch(n){case $a.OK:return Mt.OK;case $a.CANCELLED:return Mt.CANCELLED;case $a.UNKNOWN:return Mt.UNKNOWN;case $a.DEADLINE_EXCEEDED:return Mt.DEADLINE_EXCEEDED;case $a.RESOURCE_EXHAUSTED:return Mt.RESOURCE_EXHAUSTED;case $a.INTERNAL:return Mt.INTERNAL;case $a.UNAVAILABLE:return Mt.UNAVAILABLE;case $a.UNAUTHENTICATED:return Mt.UNAUTHENTICATED;case $a.INVALID_ARGUMENT:return Mt.INVALID_ARGUMENT;case $a.NOT_FOUND:return Mt.NOT_FOUND;case $a.ALREADY_EXISTS:return Mt.ALREADY_EXISTS;case $a.PERMISSION_DENIED:return Mt.PERMISSION_DENIED;case $a.FAILED_PRECONDITION:return Mt.FAILED_PRECONDITION;case $a.ABORTED:return Mt.ABORTED;case $a.OUT_OF_RANGE:return Mt.OUT_OF_RANGE;case $a.UNIMPLEMENTED:return Mt.UNIMPLEMENTED;case $a.DATA_LOSS:return Mt.DATA_LOSS;default:return Ut()}}(ys=$a||($a={}))[ys.OK=0]="OK",ys[ys.CANCELLED=1]="CANCELLED",ys[ys.UNKNOWN=2]="UNKNOWN",ys[ys.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ys[ys.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ys[ys.NOT_FOUND=5]="NOT_FOUND",ys[ys.ALREADY_EXISTS=6]="ALREADY_EXISTS",ys[ys.PERMISSION_DENIED=7]="PERMISSION_DENIED",ys[ys.UNAUTHENTICATED=16]="UNAUTHENTICATED",ys[ys.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ys[ys.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ys[ys.ABORTED=10]="ABORTED",ys[ys.OUT_OF_RANGE=11]="OUT_OF_RANGE",ys[ys.UNIMPLEMENTED=12]="UNIMPLEMENTED",ys[ys.INTERNAL=13]="INTERNAL",ys[ys.UNAVAILABLE=14]="UNAVAILABLE",ys[ys.DATA_LOSS=15]="DATA_LOSS";class ed{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[o,d]of i)if(this.equalsFn(o,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(void 0===o)return this.inner[i]=[[e,t]],void this.innerSize++;for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],e))return void(o[d]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return 1===i.length?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xc(this.inner,(t,i)=>{for(const[o,d]of i)e(o,d)})}isEmpty(){return Jd(this.inner)}size(){return this.innerSize}}const Hm=new Yo(Ln.comparator);function Nl(){return Hm}const Ug=new Yo(Ln.comparator);function Vg(...n){let e=Ug;for(const t of n)e=e.insert(t.key,t);return e}function G_(n){let e=Ug;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function tu(){return Gh()}function xp(){return Gh()}function Gh(){return new ed(n=>n.toString(),(n,e)=>n.isEqual(e))}const j_=new Yo(Ln.comparator),W_=new Ci(Ln.comparator);function ai(...n){let e=W_;for(const t of n)e=e.add(t);return e}const iy=new Ci(Mr);function Vf(){return iy}class $f{constructor(e,t,i,o,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new $f(gr.min(),o,Vf(),Nl(),ai())}}class Td{constructor(e,t,i,o,d){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Td(i,t,ai(),ai(),ai())}}class Mp{constructor(e,t,i,o){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=o}}class ui{constructor(e,t){this.targetId=e,this.Et=t}}class Hf{constructor(e,t,i=da.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Gf{constructor(){this.At=0,this.Rt=q_(),this.bt=da.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ai(),t=ai(),i=ai();return this.Rt.forEach((o,d)=>{switch(d){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ut()}}),new Td(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=q_()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Cd{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Nl(),this.qt=z_(),this.Ut=new Ci(Mr)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:Ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,o)=>{this.zt(o)&&t(o)})}Jt(e){const t=e.targetId,i=e.Et.count,o=this.Yt(t);if(o){const d=o.target;if(bi(d))if(0===i){const _=new Ln(d.path);this.Qt(t,_,Bs.newNoDocument(_,gr.min()))}else Yt(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((d,_)=>{const C=this.Yt(_);if(C){if(d.current&&bi(C.target)){const O=new Ln(C.target.path);null!==this.Lt.get(O)||this.te(_,O)||this.Qt(_,O,Bs.newNoDocument(O,e))}d.St&&(t.set(_,d.Ct()),d.xt())}});let i=ai();this.qt.forEach((d,_)=>{let C=!0;_.forEachWhile(O=>{const $=this.Yt(O);return!$||2===$.purpose||(C=!1,!1)}),C&&(i=i.add(d))}),this.Lt.forEach((d,_)=>_.setReadTime(e));const o=new $f(e,t,this.Ut,this.Lt,i);return this.Lt=Nl(),this.qt=z_(),this.Ut=new Ci(Mr),o}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const o=this.Wt(e);this.te(e,t)?o.Nt(t,1):o.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Gf,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Ci(Mr),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Q("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Gf),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function z_(){return new Yo(Ln.comparator)}function q_(){return new Yo(Ln.comparator)}const Np={asc:"ASCENDING",desc:"DESCENDING"},$g={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K_={and:"AND",or:"OR"};class sy{constructor(e,t){this.databaseId=e,this.wt=t}}function lh(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z_(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Y_(n,e){return lh(n,e.toTimestamp())}function pa(n){return Yt(!!n),gr.fromTimestamp(function(e){const t=Yc(e);return new js(t.seconds,t.nanos)}(n))}function Dd(n,e){return(t=n,new rs(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Gm(n){const e=rs.fromString(n);return Yt(Rl(e)),e}function Ns(n,e){return Dd(n.databaseId,e.path)}function cc(n,e){const t=Gm(e);if(t.get(1)!==n.databaseId.projectId)throw new Jt(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Jt(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ln(J_(t))}function jm(n,e){return Dd(n.databaseId,e)}function oy(n){const e=Gm(n);return 4===e.length?rs.emptyPath():J_(e)}function Op(n){return new rs(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J_(n){return Yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Wm(n,e,t){return{name:Ns(n,e),fields:t.value.mapValue.fields}}function Hg(n,e,t){const i=cc(n,e.name),o=pa(e.updateTime),d=e.createTime?pa(e.createTime):gr.min(),_=new fa({mapValue:{fields:e.fields}}),C=Bs.newFoundDocument(i,o,d,_);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function Ol(n,e){let t;if(e instanceof Xc)t={update:Wm(n,e.key,e.value)};else if(e instanceof ju)t={delete:Ns(n,e.key)};else if(e instanceof wd)t={update:Wm(n,e.key,e.data),updateMask:Gg(e.fieldMask)};else{if(!(e instanceof Ap))return Ut();t={verify:Ns(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,d){const _=d.transform;if(_ instanceof xl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof sh)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Du)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof oh)return{fieldPath:d.field.canonicalString(),increment:_.gt};throw Ut()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Y_(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ut()),t;var o}function Wu(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?vo.updateTime(pa(o.updateTime)):void 0!==o.exists?vo.exists(o.exists):vo.none():vo.none(),i=e.updateTransforms?e.updateTransforms.map(o=>function(d,_){let C=null;"setToServerValue"in _?(Yt("REQUEST_TIME"===_.setToServerValue),C=new xl):"appendMissingElements"in _?C=new sh(_.appendMissingElements.values||[]):"removeAllFromArray"in _?C=new Du(_.removeAllFromArray.values||[]):"increment"in _?C=new oh(d,_.increment):Ut();const O=Ws.fromServerFormat(_.fieldPath);return new Sp(O,C)}(n,o)):[];var o;if(e.update){const o=cc(n,e.update.name),d=new fa({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new cl((e.updateMask.fieldPaths||[]).map($=>Ws.fromServerFormat($)));return new wd(o,d,_,t,i)}return new Xc(o,d,t,i)}if(e.delete){const o=cc(n,e.delete);return new ju(o,t)}if(e.verify){const o=cc(n,e.verify);return new Ap(o,t)}return Ut()}function Rp(n,e){return{documents:[jm(n,e.path)]}}function zu(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=jm(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=jm(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const o=function(O){if(0!==O.length)return Pp(ts.create(O,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const d=function(O){if(0!==O.length)return O.map($=>{return{field:jh((Z=$).field),direction:zm(Z.dir)};var Z})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const _=($=e.limit,n.wt||Sf($)?$:{value:$});var $,C,O;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function Jo(n){let e=oy(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Yt(1===i);const Z=t.from[0];Z.allDescendants?o=Z.collectionId:e=e.child(Z.collectionId)}let d=[];t.where&&(d=function(Z){const fe=td(Z);return fe instanceof ts&&km(fe)?fe.getFilters():[fe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(Z=>{return new Mf(Ha((fe=Z).field),function(xe){switch(xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(fe.direction));var fe}));let C=null;t.limit&&(C=function(Z){let fe;return fe="object"==typeof Z?Z.value:Z,Sf(fe)?null:fe}(t.limit));let O=null;var Z;t.startAt&&(O=new Xd((Z=t.startAt).values||[],!!Z.before));let $=null;return t.endAt&&($=function(Z){return new Xd(Z.values||[],!Z.before)}(t.endAt)),Jc(e,o,_,d,C,"F",O,$)}function td(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ha(e.unaryFilter.field);return fi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Ha(e.unaryFilter.field);return fi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ha(e.unaryFilter.field);return fi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(e.unaryFilter.field);return fi.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ut()}}(n):void 0!==n.fieldFilter?fi.create(Ha((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ut()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ts.create(e.compositeFilter.filters.map(t=>td(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ut()}}(e.compositeFilter.op))}(n):Ut();var e}function zm(n){return Np[n]}function ly(n){return $g[n]}function cy(n){return K_[n]}function jh(n){return{fieldPath:n.canonicalString()}}function Ha(n){return Ws.fromServerFormat(n.fieldPath)}function Pp(n){return n instanceof fi?function(e){if("=="===e.op){if(vp(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NAN"}};if(Rm(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vp(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NOT_NAN"}};if(Rm(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jh(e.field),op:ly(e.op),value:e.value}}}(n):n instanceof ts?function(e){const t=e.getFilters().map(i=>Pp(i));return 1===t.length?t[0]:{compositeFilter:{op:cy(e.op),filters:t}}}(n):Ut()}function Gg(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rl(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function qu(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Uo(e)),e=Wh(n.get(t),e);return Uo(e)}function Wh(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const d=n.charAt(o);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Uo(n){return n+"\x01\x01"}function Us(n){const e=n.length;if(Yt(e>=2),2===e)return Yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),rs.emptyPath();const t=e-2,i=[];let o="";for(let d=0;d<e;){const _=n.indexOf("\x01",d);switch((_<0||_>t)&&Ut(),n.charAt(_+1)){case"\x01":const C=n.substring(d,_);let O;0===o.length?O=C:(o+=C,O=o,o=""),i.push(O);break;case"\x10":o+=n.substring(d,_),o+="\0";break;case"\x11":o+=n.substring(d,_+1);break;default:Ut()}d=_+2}return new rs(i)}const ch=["userId","batchId"];function jf(n,e){return[n,qu(e)]}function qm(n,e,t){return[n,qu(e),t]}const Q_={},dy=["prefixPath","collectionGroup","readTime","documentId"],X_=["prefixPath","collectionGroup","documentId"],jg=["collectionGroup","readTime","prefixPath","documentId"],zh=["canonicalId","targetId"],qh=["targetId","path"],Kh=["path","targetId"],Km=["collectionId","parent"],kp=["indexId","uid"],Fp=["uid","sequenceNumber"],Qo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dh=["indexId","uid","orderedDocumentKey"],Wg=["userId","collectionPath","documentId"],ev=["userId","collectionPath","largestBatchId"],Zm=["userId","collectionGroup","largestBatchId"],tv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hy=[...tv,"documentOverlays"],zg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nd=zg,Si=[...nd,"indexConfiguration","indexState","indexEntries"];class Lp extends fp{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function zs(n,e){const t=un(n);return oc.M(t.se,e)}class qg{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const d=this.mutations[o];d.key.isEqual(e.key)&&bd(d,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ah(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ah(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=xp();return this.mutations.forEach(o=>{const d=e.get(o.key),_=d.overlayedDocument;let C=this.applyToLocalView(_,d.mutatedFields);C=t.has(o.key)?null:C;const O=Fg(_,C);null!==O&&i.set(o.key,O),_.isValidDocument()||_.convertToNoDocument(gr.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ai())}isEqual(e){return this.batchId===e.batchId&&zd(this.mutations,e.mutations,(t,i)=>lc(t,i))&&zd(this.baseMutations,e.baseMutations,(t,i)=>lc(t,i))}}class hl{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Yt(e.mutations.length===i.length);let o=j_;const d=e.mutations;for(let _=0;_<d.length;_++)o=o.insert(d[_].key,i[_].version);return new hl(e,t,i,o)}}class Es{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hh{constructor(e,t,i,o,d=gr.min(),_=gr.min(),C=da.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=C}withSequenceNumber(e){return new hh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class nv{constructor(e){this.ie=e}}function Ym(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Kg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Ns(o=n.ie,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:lh(o,d.version.toTimestamp()),createTime:lh(o,d.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:ph(e.version)};else{if(!e.isUnknownDocument())return Ut();i.unknownDocument={path:t.path.toArray(),version:ph(e.version)}}var o,d;return i}function Kg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ph(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sd(n){const e=new js(n.seconds,n.nanoseconds);return gr.fromTimestamp(e)}function gh(n,e){const t=(e.baseMutations||[]).map(d=>Wu(n.ie,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const i=e.mutations.map(d=>Wu(n.ie,d)),o=js.fromMillis(e.localWriteTimeMs);return new qg(e.batchId,o,t,i)}function dc(n){const e=Sd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Sd(n.lastLimboFreeSnapshotVersion):gr.min();let i;var o;return void 0!==n.query.documents?(Yt(1===(o=n.query).documents.length),i=xa(Nf(oy(o.documents[0])))):i=xa(Jo(n.query)),new hh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,da.fromBase64String(n.resumeToken))}function Jm(n,e){const t=ph(e.snapshotVersion),i=ph(e.lastLimboFreeSnapshotVersion);let o;o=bi(e.target)?Rp(n.ie,e.target):zu(n.ie,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Al(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function Bp(n){const e=Jo({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Rf(e,e.limit,"L"):e}function Up(n,e){return new Es(e.largestBatchId,Wu(n.ie,e.overlayMutation))}function Qm(n,e){const t=e.path.lastSegment();return[n,qu(e.path.popLast()),t]}function rv(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ph(i.readTime),documentKey:qu(i.documentKey.path),largestBatchId:i.largestBatchId}}class fy{getBundleMetadata(e,t){return iv(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Sd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return iv(e).put({bundleId:(i=t).id,createTime:ph(pa(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Kl(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:Bp(o.bundledQuery),readTime:Sd(o.readTime)};var o})}saveNamedQuery(e,t){return Kl(e).put({name:(i=t).name,readTime:ph(pa(i.readTime)),bundledQuery:i.bundledQuery});var i}}function iv(n){return zs(n,"bundles")}function Kl(n){return zs(n,"namedQueries")}class mh{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new mh(e,t.uid||"")}getOverlay(e,t){return _h(e).get(Qm(this.userId,t)).next(i=>i?Up(this.yt,i):null)}getOverlays(e,t){const i=tu();return Ot.forEach(t,o=>this.getOverlay(e,o).next(d=>{null!==d&&i.set(o,d)})).next(()=>i)}saveOverlays(e,t,i){const o=[];return i.forEach((d,_)=>{const C=new Es(t,_);o.push(this.oe(e,C))}),Ot.waitFor(o)}removeOverlaysForBatchId(e,t,i){const o=new Set;t.forEach(_=>o.add(qu(_.getCollectionPath())));const d=[];return o.forEach(_=>{const C=IDBKeyRange.bound([this.userId,_,i],[this.userId,_,i+1],!1,!0);d.push(_h(e).Y("collectionPathOverlayIndex",C))}),Ot.waitFor(d)}getOverlaysForCollection(e,t,i){const o=tu(),d=qu(t),_=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,Number.POSITIVE_INFINITY],!0);return _h(e).W("collectionPathOverlayIndex",_).next(C=>{for(const O of C){const $=Up(this.yt,O);o.set($.getKey(),$)}return o})}getOverlaysForCollectionGroup(e,t,i,o){const d=tu();let _;const C=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return _h(e).Z({index:"collectionGroupOverlayIndex",range:C},(O,$,Z)=>{const fe=Up(this.yt,$);d.size()<o||fe.largestBatchId===_?(d.set(fe.getKey(),fe),_=fe.largestBatchId):Z.done()}).next(()=>d)}oe(e,t){return _h(e).put(function(i,o,d){const[_,C,O]=Qm(o,d.mutation.key);return{userId:o,collectionPath:C,documentId:O,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Ol(i.ie,d.mutation)}}(this.yt,this.userId,t))}}function _h(n){return zs(n,"documentOverlays")}class vh{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Ko(e.integerValue));else if("doubleValue"in e){const i=Ko(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),Zc(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(vd(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Ig(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Ut()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const o of Object.keys(i))this.de(o,t),this.ce(i[o],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const o of i)this.ce(o,t)}me(e,t){this.he(t,37),Ln.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Zh(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Vp(n){const e=64-function(t){let i=0;for(let o=0;o<8;++o){const d=Zh(255&t[o]);if(i+=d,8!==d)break}return i}(n);return Math.ceil(e/8)}vh.Ie=new vh;class hu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ee(i.value),i=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Pe()}ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const o=t.codePointAt(0);this.Ee(240|o>>>18),this.Ee(128|63&o>>>12),this.Ee(128|63&o>>>6),this.Ee(128|63&o)}}this.Ae()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const o=t.codePointAt(0);this.be(240|o>>>18),this.be(128|63&o>>>12),this.be(128|63&o>>>6),this.be(128|63&o)}}this.Pe()}Se(e){const t=this.De(e),i=Vp(t);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=255&t[o]}xe(e){const t=this.De(e),i=Vp(t);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(o){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,o,!1),new Uint8Array(d.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let o=1;o<t.length;++o)t[o]^=i?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class Pl{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Zg{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class $p{constructor(){this.$e=new hu,this.Be=new Pl(this.$e),this.Le=new Zg(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Yh{constructor(e,t,i,o){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=o}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Yh(this.indexId,this.documentKey,this.arrayValue,i)}}function hc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Hp(n.arrayValue,e.arrayValue),0!==t?t:(t=Hp(n.directionalValue,e.directionalValue),0!==t?t:Ln.comparator(n.documentKey,e.documentKey)))}function Hp(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Jh{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const i=t;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(e){Yt(e.collectionGroup===this.collectionId);const t=xm(e);if(void 0!==t&&!this.We(t))return!1;const i=md(e);let o=0,d=0;for(;o<i.length&&this.We(i[o]);++o);if(o===i.length)return!0;if(void 0!==this.Qe){const _=i[o];if(!this.ze(this.Qe,_)||!this.He(this.Ke[d++],_))return!1;++o}for(;o<i.length;++o)if(d>=this.Ke.length||!this.He(this.Ke[d++],i[o]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function sv(n){var e,t;if(Yt(n instanceof fi||n instanceof ts),n instanceof fi){if(n instanceof xf){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(d=>fi.create(n.field,"==",d)))||[];return ts.create(o,"or")}return n}const i=n.filters.map(o=>sv(o));return ts.create(i,n.op)}function Yg(n){if(0===n.getFilters().length)return[];const e=Qh(sv(n));return Yt(Xm(e)),ov(e)||Jg(e)?[e]:e.getFilters()}function ov(n){return n instanceof fi}function Jg(n){return n instanceof ts&&km(n)}function Xm(n){return ov(n)||Jg(n)||function(e){if(e instanceof ts&&wp(e)){for(const t of e.getFilters())if(!ov(t)&&!Jg(t))return!1;return!0}return!1}(n)}function Qh(n){if(Yt(n instanceof fi||n instanceof ts),n instanceof fi)return n;if(1===n.filters.length)return Qh(n.filters[0]);const e=n.filters.map(i=>Qh(i));let t=ts.create(e,n.op);return t=fc(t),Xm(t)?t:(Yt(t instanceof ts),Yt(Il(t)),Yt(t.filters.length>1),t.filters.reduce((i,o)=>yh(i,o)))}function yh(n,e){let t;return Yt(n instanceof fi||n instanceof ts),Yt(e instanceof fi||e instanceof ts),t=n instanceof fi?e instanceof fi?ts.create([n,e],"and"):Gp(n,e):e instanceof fi?Gp(e,n):function(i,o){if(Yt(i.filters.length>0&&o.filters.length>0),Il(i)&&Il(o))return P_(i,o.getFilters());const d=wp(i)?i:o,_=wp(i)?o:i,C=d.filters.map(O=>yh(O,_));return ts.create(C,"or")}(n,e),fc(t)}function Gp(n,e){if(Il(e))return P_(e,n.getFilters());{const t=e.filters.map(i=>yh(n,i));return ts.create(t,"or")}}function fc(n){if(Yt(n instanceof fi||n instanceof ts),n instanceof fi)return n;const e=n.getFilters();if(1===e.length)return fc(e[0]);if(R_(n))return n;const t=e.map(o=>fc(o)),i=[];return t.forEach(o=>{o instanceof fi?i.push(o):o instanceof ts&&(o.op===n.op?i.push(...o.filters):i.push(o))}),1===i.length?i[0]:ts.create(i,n.op)}class Qg{constructor(){this.Je=new Wf}addToCollectionParentIndex(e,t){return this.Je.add(t),Ot.resolve()}getCollectionParents(e,t){return Ot.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Ot.resolve()}deleteFieldIndex(e,t){return Ot.resolve()}getDocumentsMatchingTarget(e,t){return Ot.resolve(null)}getIndexType(e,t){return Ot.resolve(0)}getFieldIndexes(e,t){return Ot.resolve([])}getNextCollectionGroupToUpdate(e){return Ot.resolve(null)}getMinOffset(e,t){return Ot.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,t){return Ot.resolve(ll.min())}updateCollectionGroup(e,t,i){return Ot.resolve()}updateIndexEntries(e,t){return Ot.resolve()}}class Wf{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ci(rs.comparator),d=!o.has(i);return this.index[t]=o.add(i),d}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ci(rs.comparator)).toArray()}}const kl=new Uint8Array(0);class py{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Wf,this.Xe=new ed(i=>Al(i),(i,o)=>nh(i,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const i=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const d={collectionId:i,parent:qu(o)};return e_(e).put(d)}return Ot.resolve()}getCollectionParents(e,t){const i=[],o=IDBKeyRange.bound([t,""],[Cg(t),""],!1,!0);return e_(e).W(o).next(d=>{for(const _ of d){if(_.collectionId!==t)break;i.push(Us(_.parent))}return i})}addFieldIndex(e,t){const i=jp(e),o={indexId:(_=t).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var _;delete o.indexId;const d=i.add(o);if(t.indexState){const _=Wp(e);return d.next(C=>{_.put(rv(C,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const i=jp(e),o=Wp(e),d=Xh(e);return i.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Xh(e);let o=!0;const d=new Map;return Ot.forEach(this.Ze(t),_=>this.tn(e,_).next(C=>{o&&(o=!!C),d.set(_,C)})).next(()=>{if(o){let _=ai();const C=[];return Ot.forEach(d,(O,$)=>{var Z;Q("IndexedDbIndexManager",`Using index ${Z=O,`id=${Z.indexId}|cg=${Z.collectionGroup}|f=${Z.fields.map(Lr=>`${Lr.fieldPath}:${Lr.kind}`).join(",")}`} to execute ${Al(t)}`);const fe=function(Lr,jr){const vr=xm(jr);if(void 0===vr)return null;for(const Dr of Lm(Lr,vr.fieldPath))switch(Dr.op){case"array-contains-any":return Dr.value.arrayValue.values||[];case"array-contains":return[Dr.value]}return null}($,O),xe=function(Lr,jr){const vr=new Map;for(const Dr of md(jr))for(const $i of Lm(Lr,Dr.fieldPath))switch($i.op){case"==":case"in":vr.set(Dr.fieldPath.canonicalString(),$i.value);break;case"not-in":case"!=":return vr.set(Dr.fieldPath.canonicalString(),$i.value),Array.from(vr.values())}return null}($,O),We=function(Lr,jr){const vr=[];let Dr=!0;for(const $i of md(jr)){const Qs=0===$i.kind?Aa(Lr,$i.fieldPath,Lr.startAt):dl(Lr,$i.fieldPath,Lr.startAt);vr.push(Qs.value),Dr&&(Dr=Qs.inclusive)}return new Xd(vr,Dr)}($,O),ft=function(Lr,jr){const vr=[];let Dr=!0;for(const $i of md(jr)){const Qs=0===$i.kind?dl(Lr,$i.fieldPath,Lr.endAt):Aa(Lr,$i.fieldPath,Lr.endAt);vr.push(Qs.value),Dr&&(Dr=Qs.inclusive)}return new Xd(vr,Dr)}($,O),kt=this.en(O,$,We),fn=this.en(O,$,ft),Gn=this.nn(O,$,xe),ur=this.sn(O.indexId,fe,kt,We.inclusive,fn,ft.inclusive,Gn);return Ot.forEach(ur,Lr=>i.J(Lr,t.limit).next(jr=>{jr.forEach(vr=>{const Dr=Ln.fromSegments(vr.documentKey);_.has(Dr)||(_=_.add(Dr),C.push(Dr))})}))}).next(()=>C)}return Ot.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Yg(ts.create(e.filters,"and")).map(i=>Vh(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,i,o,d,_,C){const O=(null!=t?t.length:1)*Math.max(i.length,d.length),$=O/(null!=t?t.length:1),Z=[];for(let fe=0;fe<O;++fe){const xe=t?this.rn(t[fe/$]):kl,We=this.on(e,xe,i[fe%$],o),ft=this.un(e,xe,d[fe%$],_),kt=C.map(fn=>this.on(e,xe,fn,!0));Z.push(...this.createRange(We,ft,kt))}return Z}on(e,t,i,o){const d=new Yh(e,Ln.empty(),t,i);return o?d:d.Ue()}un(e,t,i,o){const d=new Yh(e,Ln.empty(),t,i);return o?d.Ue():d}tn(e,t){const i=new Jh(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(d=>{let _=null;for(const C of d)i.je(C)&&(!_||C.fields.length>_.fields.length)&&(_=C);return _})}getIndexType(e,t){let i=2;const o=this.Ze(t);return Ot.forEach(o,d=>this.tn(e,d).next(_=>{_?0!==i&&_.fields.length<function(C){let O=new Ci(Ws.comparator),$=!1;for(const Z of C.filters)for(const fe of Z.getFlattenedFilters())fe.field.isKeyField()||("array-contains"===fe.op||"array-contains-any"===fe.op?$=!0:O=O.add(fe.field));for(const Z of C.orderBy)Z.field.isKeyField()||(O=O.add(Z.field));return O.size+($?1:0)}(d)&&(i=1):i=0})).next(()=>null!==t.limit&&o.length>1&&2===i?1:i)}cn(e,t){const i=new $p;for(const o of md(e)){const d=t.data.field(o.fieldPath);if(null==d)return null;const _=i.qe(o.kind);vh.Ie.ue(d,_)}return i.Fe()}rn(e){const t=new $p;return vh.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const i=new $p;return vh.Ie.ue(Qd(this.databaseId,t),i.qe(function(o){const d=md(o);return 0===d.length?0:d[d.length-1].kind}(e))),i.Fe()}nn(e,t,i){if(null===i)return[];let o=[];o.push(new $p);let d=0;for(const _ of md(e)){const C=i[d++];for(const O of o)if(this.hn(t,_.fieldPath)&&_p(C))o=this.ln(o,_,C);else{const $=O.qe(_.kind);vh.Ie.ue(C,$)}}return this.fn(o)}en(e,t,i){return this.nn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Fe();return t}ln(e,t,i){const o=[...e],d=[];for(const _ of i.arrayValue.values||[])for(const C of o){const O=new $p;O.seed(C.Fe()),vh.Ie.ue(_,O.qe(t.kind)),d.push(O)}return d}hn(e,t){return!!e.filters.find(i=>i instanceof fi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=jp(e),o=Wp(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(d=>{const _=[];return Ot.forEach(d,C=>o.get([C.indexId,this.uid]).next(O=>{_.push(function($,Z){const fe=Z?new Gc(Z.sequenceNumber,new ll(Sd(Z.readTime),new Ln(Us(Z.documentKey)),Z.largestBatchId)):Gc.empty(),xe=$.fields.map(([We,ft])=>new _d(Ws.fromServerFormat(We),ft));return new qo($.indexId,$.collectionGroup,xe,fe)}(C,O))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,o)=>{const d=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==d?d:Mr(i.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const o=jp(e),d=Wp(e);return this.dn(e).next(_=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>Ot.forEach(C,O=>d.put(rv(O.indexId,this.user,_,i)))))}updateIndexEntries(e,t){const i=new Map;return Ot.forEach(t,(o,d)=>{const _=i.get(o.collectionGroup);return(_?Ot.resolve(_):this.getFieldIndexes(e,o.collectionGroup)).next(C=>(i.set(o.collectionGroup,C),Ot.forEach(C,O=>this._n(e,o,O).next($=>{const Z=this.wn(d,O);return $.isEqual(Z)?Ot.resolve():this.mn(e,d,O,$,Z)}))))})}gn(e,t,i,o){return Xh(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.an(i,t.key),documentKey:t.key.path.toArray()})}yn(e,t,i,o){return Xh(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.an(i,t.key),t.key.path.toArray()])}_n(e,t,i){const o=Xh(e);let d=new Ci(hc);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,t)])},(_,C)=>{d=d.add(new Yh(i.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>d)}wn(e,t){let i=new Ci(hc);const o=this.cn(t,e);if(null==o)return i;const d=xm(t);if(null!=d){const _=e.data.field(d.fieldPath);if(_p(_))for(const C of _.arrayValue.values||[])i=i.add(new Yh(t.indexId,e.key,this.rn(C),o))}else i=i.add(new Yh(t.indexId,e.key,kl,o));return i}mn(e,t,i,o,d){Q("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const _=[];return function(C,O,$,Z,fe){const xe=C.getIterator(),We=O.getIterator();let ft=Uh(xe),kt=Uh(We);for(;ft||kt;){let fn=!1,Gn=!1;if(ft&&kt){const ur=$(ft,kt);ur<0?Gn=!0:ur>0&&(fn=!0)}else null!=ft?Gn=!0:fn=!0;fn?(Z(kt),kt=Uh(We)):Gn?(fe(ft),ft=Uh(xe)):(ft=Uh(xe),kt=Uh(We))}}(o,d,hc,C=>{_.push(this.gn(e,t,i,C))},C=>{_.push(this.yn(e,t,i,C))}),Ot.waitFor(_)}dn(e){let t=1;return Wp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,o,d)=>{d.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((_,C)=>hc(_,C)).filter((_,C,O)=>!C||0!==hc(_,O[C-1]));const o=[];o.push(e);for(const _ of i){const C=hc(_,e),O=hc(_,t);if(0===C)o[0]=e.Ue();else if(C>0&&O<0)o.push(_),o.push(_.Ue());else if(O>0)break}o.push(t);const d=[];for(let _=0;_<o.length;_+=2){if(this.pn(o[_],o[_+1]))return[];d.push(IDBKeyRange.bound([o[_].indexId,this.uid,o[_].arrayValue,o[_].directionalValue,kl,[]],[o[_+1].indexId,this.uid,o[_+1].arrayValue,o[_+1].directionalValue,kl,[]]))}return d}pn(e,t){return hc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ef)}getMinOffset(e,t){return Ot.mapArray(this.Ze(t),i=>this.tn(e,i).next(o=>o||Ut())).next(ef)}}function e_(n){return zs(n,"collectionParents")}function Xh(n){return zs(n,"indexEntries")}function jp(n){return zs(n,"indexConfiguration")}function Wp(n){return zs(n,"indexState")}function ef(n){Yt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const o=n[i].indexState.offset;zc(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new ll(e.readTime,e.documentKey,t)}const Xg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zl{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Zl(e,Zl.DEFAULT_COLLECTION_PERCENTILE,Zl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function t_(n,e,t){const i=n.store("mutations"),o=n.store("documentMutations"),d=[],_=IDBKeyRange.only(t.batchId);let C=0;const O=i.Z({range:_},(Z,fe,xe)=>(C++,xe.delete()));d.push(O.next(()=>{Yt(1===C)}));const $=[];for(const Z of t.mutations){const fe=qm(e,Z.key.path,t.batchId);d.push(o.delete(fe)),$.push(Z.key)}return Ot.waitFor(d).next(()=>$)}function em(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ut();e=n.noDocument}return JSON.stringify(e).length}Zl.DEFAULT_COLLECTION_PERCENTILE=10,Zl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zl.DEFAULT=new Zl(41943040,Zl.DEFAULT_COLLECTION_PERCENTILE,Zl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zl.DISABLED=new Zl(-1,0,0);class tm{constructor(e,t,i,o){this.userId=e,this.yt=t,this.indexManager=i,this.referenceDelegate=o,this.In={}}static re(e,t,i,o){Yt(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new tm(d,t,i,o)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eh(e).Z({index:"userMutationsIndex",range:i},(o,d,_)=>{t=!1,_.done()}).next(()=>t)}addMutationBatch(e,t,i,o){const d=Id(e),_=Eh(e);return _.add({}).next(C=>{Yt("number"==typeof C);const O=new qg(C,t,i,o),$=function(xe,We,ft){const kt=ft.baseMutations.map(Gn=>Ol(xe.ie,Gn)),fn=ft.mutations.map(Gn=>Ol(xe.ie,Gn));return{userId:We,batchId:ft.batchId,localWriteTimeMs:ft.localWriteTime.toMillis(),baseMutations:kt,mutations:fn}}(this.yt,this.userId,O),Z=[];let fe=new Ci((xe,We)=>Mr(xe.canonicalString(),We.canonicalString()));for(const xe of o){const We=qm(this.userId,xe.key.path,C);fe=fe.add(xe.key.path.popLast()),Z.push(_.put($)),Z.push(d.put(We,Q_))}return fe.forEach(xe=>{Z.push(this.indexManager.addToCollectionParentIndex(e,xe))}),e.addOnCommittedListener(()=>{this.In[C]=O.keys()}),Ot.waitFor(Z).next(()=>O)})}lookupMutationBatch(e,t){return Eh(e).get(t).next(i=>i?(Yt(i.userId===this.userId),gh(this.yt,i)):null)}Tn(e,t){return this.In[t]?Ot.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const o=i.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=IDBKeyRange.lowerBound([this.userId,i]);let d=null;return Eh(e).Z({index:"userMutationsIndex",range:o},(_,C,O)=>{C.userId===this.userId&&(Yt(C.batchId>=i),d=gh(this.yt,C)),O.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Eh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,d,_)=>{i=d.batchId,_.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eh(e).W("userMutationsIndex",t).next(i=>i.map(o=>gh(this.yt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=jf(this.userId,t.path),o=IDBKeyRange.lowerBound(i),d=[];return Id(e).Z({range:o},(_,C,O)=>{const[$,Z,fe]=_,xe=Us(Z);if($===this.userId&&t.path.isEqual(xe))return Eh(e).get(fe).next(We=>{if(!We)throw Ut();Yt(We.userId===this.userId),d.push(gh(this.yt,We))});O.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ci(Mr);const o=[];return t.forEach(d=>{const _=jf(this.userId,d.path),C=IDBKeyRange.lowerBound(_),O=Id(e).Z({range:C},($,Z,fe)=>{const[xe,We,ft]=$,kt=Us(We);xe===this.userId&&d.path.isEqual(kt)?i=i.add(ft):fe.done()});o.push(O)}),Ot.waitFor(o).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1,d=jf(this.userId,i),_=IDBKeyRange.lowerBound(d);let C=new Ci(Mr);return Id(e).Z({range:_},(O,$,Z)=>{const[fe,xe,We]=O,ft=Us(xe);fe===this.userId&&i.isPrefixOf(ft)?ft.length===o&&(C=C.add(We)):Z.done()}).next(()=>this.En(e,C))}En(e,t){const i=[],o=[];return t.forEach(d=>{o.push(Eh(e).get(d).next(_=>{if(null===_)throw Ut();Yt(_.userId===this.userId),i.push(gh(this.yt,_))}))}),Ot.waitFor(o).next(()=>i)}removeMutationBatch(e,t){return t_(e.se,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ot.forEach(i,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ot.resolve();const i=IDBKeyRange.lowerBound([this.userId]),o=[];return Id(e).Z({range:i},(d,_,C)=>{if(d[0]===this.userId){const O=Us(d[1]);o.push(O)}else C.done()}).next(()=>{Yt(0===o.length)})})}containsKey(e,t){return av(e,this.userId,t)}Rn(e){return nm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function av(n,e,t){const i=jf(e,t.path),o=i[1],d=IDBKeyRange.lowerBound(i);let _=!1;return Id(n).Z({range:d,X:!0},(C,O,$)=>{const[Z,fe,xe]=C;Z===e&&fe===o&&(_=!0),$.done()}).next(()=>_)}function Eh(n){return zs(n,"mutations")}function Id(n){return zs(n,"documentMutations")}function nm(n){return zs(n,"mutationQueues")}class Ad{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ad(0)}static vn(){return new Ad(-1)}}class rm{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Ad(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>gr.fromTimestamp(new js(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zf(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Yt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let o=0;const d=[];return zf(e).Z((_,C)=>{const O=dc(C);O.sequenceNumber<=t&&null===i.get(O.targetId)&&(o++,d.push(this.removeTargetData(e,O)))}).next(()=>Ot.waitFor(d)).next(()=>o)}forEachTarget(e,t){return zf(e).Z((i,o)=>{const d=dc(o);t(d)})}Vn(e){return im(e).get("targetGlobalKey").next(t=>(Yt(null!==t),t))}Sn(e,t){return im(e).put("targetGlobalKey",t)}Dn(e,t){return zf(e).put(Jm(this.yt,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Al(t),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let d=null;return zf(e).Z({range:o,index:"queryTargetsIndex"},(_,C,O)=>{const $=dc(C);nh(t,$.target)&&(d=$,O.done())}).next(()=>d)}addMatchingKeys(e,t,i){const o=[],d=xd(e);return t.forEach(_=>{const C=qu(_.path);o.push(d.put({targetId:i,path:C})),o.push(this.referenceDelegate.addReference(e,i,_))}),Ot.waitFor(o)}removeMatchingKeys(e,t,i){const o=xd(e);return Ot.forEach(t,d=>{const _=qu(d.path);return Ot.waitFor([o.delete([i,_]),this.referenceDelegate.removeReference(e,i,d)])})}removeMatchingKeysForTargetId(e,t){const i=xd(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),o=xd(e);let d=ai();return o.Z({range:i,X:!0},(_,C,O)=>{const $=Us(_[1]),Z=new Ln($);d=d.add(Z)}).next(()=>d)}containsKey(e,t){const i=qu(t.path),o=IDBKeyRange.bound([i],[Cg(i)],!1,!0);let d=0;return xd(e).Z({index:"documentTargetsIndex",X:!0,range:o},([_,C],O,$)=>{0!==_&&(d++,$.done())}).next(()=>d>0)}ne(e,t){return zf(e).get(t).next(i=>i?dc(i):null)}}function zf(n){return zs(n,"targets")}function im(n){return zs(n,"targetGlobal")}function xd(n){return zs(n,"targetDocuments")}function uv([n,e],[t,i]){const o=Mr(n,t);return 0===o?Mr(e,i):o}class gy{constructor(e){this.xn=e,this.buffer=new Ci(uv),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();uv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class my{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Gt.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Sc(i)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield sc(i)}yield t.Fn(3e5)}))}}class _y{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ot.resolve(Gu.at);const i=new gy(t);return this.$n.forEachTarget(e,o=>i.On(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>i.On(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),Ot.resolve(Xg)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xg):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let i,o,d,_,C,O,$;const Z=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(fe=>(fe>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${fe}`),o=this.params.maximumSequenceNumbersToCollect):o=fe,_=Date.now(),this.nthSequenceNumber(e,o))).next(fe=>(i=fe,C=Date.now(),this.removeTargets(e,i,t))).next(fe=>(d=fe,O=Date.now(),this.removeOrphanedDocuments(e,i))).next(fe=>($=Date.now(),D()<=ws.in.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-Z}ms\n\tDetermined least recently used ${o} in `+(C-_)+`ms\n\tRemoved ${d} targets in `+(O-C)+`ms\n\tRemoved ${fe} documents in `+($-O)+`ms\nTotal Duration: ${$-Z}ms`),Ot.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:d,documentsRemoved:fe})))}}class vy{constructor(e,t){this.db=e,this.garbageCollector=new _y(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}Un(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,o)=>t(o))}addReference(e,t,i){return sm(e,i)}removeReference(e,t,i){return sm(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return sm(e,t)}Gn(e,t){return function(i,o){let d=!1;return nm(i).tt(_=>av(i,_,o).next(C=>(C&&(d=!0),Ot.resolve(!C)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let d=0;return this.Kn(e,(_,C)=>{if(C<=t){const O=this.Gn(e,_).next($=>{if(!$)return d++,i.getEntry(e,_).next(()=>(i.removeEntry(_,gr.min()),xd(e).delete([0,qu(_.path)])))});o.push(O)}}).next(()=>Ot.waitFor(o)).next(()=>i.apply(e)).next(()=>d)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return sm(e,t)}Kn(e,t){const i=xd(e);let o,d=Gu.at;return i.Z({index:"documentTargetsIndex"},([_,C],{path:O,sequenceNumber:$})=>{0===_?(d!==Gu.at&&t(new Ln(Us(o)),d),d=$,o=O):d=Gu.at}).next(()=>{d!==Gu.at&&t(new Ln(Us(o)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sm(n,e){return xd(n).put((i=n.currentSequenceNumber,{targetId:0,path:qu(e.path),sequenceNumber:i}));var i}class n_{constructor(){this.changes=new ed(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ot.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r_{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return rd(e).put(i)}removeEntry(e,t,i){return rd(e).delete(function(o,d){const _=o.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],Kg(d),_[_.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Bs.newInvalidDocument(t);return rd(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fl(t))},(o,d)=>{i=this.jn(t,d)}).next(()=>i)}Wn(e,t){let i={size:0,document:Bs.newInvalidDocument(t)};return rd(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fl(t))},(o,d)=>{i={document:this.jn(t,d),size:em(d)}}).next(()=>i)}getEntries(e,t){let i=Nl();return this.zn(e,t,(o,d)=>{const _=this.jn(o,d);i=i.insert(o,_)}).next(()=>i)}Hn(e,t){let i=Nl(),o=new Yo(Ln.comparator);return this.zn(e,t,(d,_)=>{const C=this.jn(d,_);i=i.insert(d,C),o=o.insert(d,em(_))}).next(()=>({documents:i,Jn:o}))}zn(e,t,i){if(t.isEmpty())return Ot.resolve();let o=new Ci(tf);t.forEach(O=>o=o.add(O));const d=IDBKeyRange.bound(Fl(o.first()),Fl(o.last())),_=o.getIterator();let C=_.getNext();return rd(e).Z({index:"documentKeyIndex",range:d},(O,$,Z)=>{const fe=Ln.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;C&&tf(C,fe)<0;)i(C,null),C=_.getNext();C&&C.isEqual(fe)&&(i(C,$),C=_.hasNext()?_.getNext():null),C?Z.j(Fl(C)):Z.done()}).next(()=>{for(;C;)i(C,null),C=_.hasNext()?_.getNext():null})}getAllFromCollection(e,t,i){const o=[t.popLast().toArray(),t.lastSegment(),Kg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rd(e).W(IDBKeyRange.bound(o,d,!0)).next(_=>{let C=Nl();for(const O of _){const $=this.jn(Ln.fromSegments(O.prefixPath.concat(O.collectionGroup,O.documentId)),O);C=C.insert($.key,$)}return C})}getAllFromCollectionGroup(e,t,i,o){let d=Nl();const _=o_(t,i),C=o_(t,ll.max());return rd(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,C,!0)},(O,$,Z)=>{const fe=this.jn(Ln.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);d=d.insert(fe.key,fe),d.size===o&&Z.done()}).next(()=>d)}newChangeBuffer(e){return new i_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return s_(e).get("remoteDocumentGlobalKey").next(t=>(Yt(!!t),t))}Qn(e,t){return s_(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function fh(n,e){let t;if(e.document)t=Hg(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ln.fromSegments(e.noDocument.path),o=Sd(e.noDocument.readTime);t=Bs.newNoDocument(i,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ut();{const i=Ln.fromSegments(e.unknownDocument.path),o=Sd(e.unknownDocument.version);t=Bs.newUnknownDocument(i,o)}}return e.readTime&&t.setReadTime(function(i){const o=new js(i[0],i[1]);return gr.fromTimestamp(o)}(e.readTime)),t}(this.yt,t);if(!i.isNoDocument()||!i.version.isEqual(gr.min()))return i}return Bs.newInvalidDocument(e)}}function lv(n){return new r_(n)}class i_ extends n_{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new ed(i=>i.toString(),(i,o)=>i.isEqual(o))}applyChanges(e){const t=[];let i=0,o=new Ci((d,_)=>Mr(d.canonicalString(),_.canonicalString()));return this.changes.forEach((d,_)=>{const C=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,C.readTime)),_.isValidDocument()){const O=Ym(this.Yn.yt,_);o=o.add(d.path.popLast());const $=em(O);i+=$-C.size,t.push(this.Yn.addEntry(e,d,O))}else if(i-=C.size,this.trackRemovals){const O=Ym(this.Yn.yt,_.convertToNoDocument(gr.min()));t.push(this.Yn.addEntry(e,d,O))}}),o.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,i)),Ot.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:o})=>(o.forEach((d,_)=>{this.Xn.set(d,{size:_,readTime:i.get(d).readTime})}),i))}}function s_(n){return zs(n,"remoteDocumentGlobal")}function rd(n){return zs(n,"remoteDocumentsV14")}function Fl(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function o_(n,e){const t=e.documentKey.path.toArray();return[n,Kg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tf(n,e){const t=n.path.toArray(),i=e.path.toArray();let o=0;for(let d=0;d<t.length-2&&d<i.length-2;++d)if(o=Mr(t[d],i[d]),o)return o;return o=Mr(t.length,i.length),o||(o=Mr(t[t.length-2],i[i.length-2]),o||Mr(t[t.length-1],i[i.length-1]))}class cv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class a_{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==i&&ah(i.mutation,o,cl.empty(),js.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ai()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ai()){const o=tu();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(d=>{let _=Vg();return d.forEach((C,O)=>{_=_.insert(C,O.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=tu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ai()))}populateOverlays(e,t,i){const o=[];return i.forEach(d=>{t.has(d)||o.push(d)}),this.documentOverlayCache.getOverlays(e,o).next(d=>{d.forEach((_,C)=>{t.set(_,C)})})}computeViews(e,t,i,o){let d=Nl();const _=Gh(),C=Gh();return t.forEach((O,$)=>{const Z=i.get($.key);o.has($.key)&&(void 0===Z||Z.mutation instanceof wd)?d=d.insert($.key,$):void 0!==Z?(_.set($.key,Z.mutation.getFieldMask()),ah(Z.mutation,$,Z.mutation.getFieldMask(),js.now())):_.set($.key,cl.empty())}),this.recalculateAndSaveOverlays(e,d).next(O=>(O.forEach(($,Z)=>_.set($,Z)),t.forEach(($,Z)=>{var fe;return C.set($,new cv(Z,null!==(fe=_.get($))&&void 0!==fe?fe:null))}),C))}recalculateAndSaveOverlays(e,t){const i=Gh();let o=new Yo((_,C)=>_-C),d=ai();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const C of _)C.keys().forEach(O=>{const $=t.get(O);if(null===$)return;let Z=i.get(O)||cl.empty();Z=C.applyToLocalView($,Z),i.set(O,Z);const fe=(o.get(C.batchId)||ai()).add(O);o=o.insert(C.batchId,fe)})}).next(()=>{const _=[],C=o.getReverseIterator();for(;C.hasNext();){const O=C.getNext(),$=O.key,Z=O.value,fe=xp();Z.forEach(xe=>{if(!d.has(xe)){const We=Fg(t.get(xe),i.get(xe));null!==We&&fe.set(xe,We),d=d.add(xe)}}),_.push(this.documentOverlayCache.saveOverlays(e,$,fe))}return Ot.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ln.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Tp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var o}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(d=>{const _=o-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-d.size):Ot.resolve(tu());let C=-1,O=d;return _.next($=>Ot.forEach($,(Z,fe)=>(C<fe.largestBatchId&&(C=fe.largestBatchId),d.get(Z)?Ot.resolve():this.remoteDocumentCache.getEntry(e,Z).next(xe=>{O=O.insert(Z,xe)}))).next(()=>this.populateOverlays(e,$,d)).next(()=>this.computeViews(e,O,$,ai())).next(Z=>({batchId:C,changes:G_(Z)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ln(t)).next(i=>{let o=Vg();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const o=t.collectionGroup;let d=Vg();return this.indexManager.getCollectionParents(e,o).next(_=>Ot.forEach(_,C=>{const O=($=t,Z=C.child(o),new uc(Z,null,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt));var $,Z;return this.getDocumentsMatchingCollectionQuery(e,O,i).next($=>{$.forEach((Z,fe)=>{d=d.insert(Z,fe)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(d=>(o=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(d=>{d.forEach((C,O)=>{const $=O.getKey();null===o.get($)&&(o=o.insert($,Bs.newInvalidDocument($)))});let _=Vg();return o.forEach((C,O)=>{const $=d.get(C);void 0!==$&&ah($.mutation,O,cl.empty(),js.now()),ih(t,O)&&(_=_.insert(C,O))}),_})}}class u_{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ot.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:pa(i.createTime)}),Ot.resolve()}getNamedQuery(e,t){return Ot.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:Bp(i.bundledQuery),readTime:pa(i.readTime)}),Ot.resolve();var i}}class om{constructor(){this.overlays=new Yo(Ln.comparator),this.es=new Map}getOverlay(e,t){return Ot.resolve(this.overlays.get(t))}getOverlays(e,t){const i=tu();return Ot.forEach(t,o=>this.getOverlay(e,o).next(d=>{null!==d&&i.set(o,d)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,d)=>{this.oe(e,t,d)}),Ot.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.es.get(i);return void 0!==o&&(o.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(i)),Ot.resolve()}getOverlaysForCollection(e,t,i){const o=tu(),d=t.length+1,_=new Ln(t.child("")),C=this.overlays.getIteratorFrom(_);for(;C.hasNext();){const O=C.getNext().value,$=O.getKey();if(!t.isPrefixOf($.path))break;$.path.length===d&&O.largestBatchId>i&&o.set(O.getKey(),O)}return Ot.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let d=new Yo(($,Z)=>$-Z);const _=this.overlays.getIterator();for(;_.hasNext();){const $=_.getNext().value;if($.getKey().getCollectionGroup()===t&&$.largestBatchId>i){let Z=d.get($.largestBatchId);null===Z&&(Z=tu(),d=d.insert($.largestBatchId,Z)),Z.set($.getKey(),$)}}const C=tu(),O=d.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach(($,Z)=>C.set($,Z)),!(C.size()>=o)););return Ot.resolve(C)}oe(e,t,i){const o=this.overlays.get(i.key);if(null!==o){const _=this.es.get(o.largestBatchId).delete(i.key);this.es.set(o.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new Es(t,i));let d=this.es.get(t);void 0===d&&(d=ai(),this.es.set(t,d)),this.es.set(t,d.add(i.key))}}class pc{constructor(){this.ns=new Ci(ga.ss),this.rs=new Ci(ga.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new ga(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new ga(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Ln(new rs([])),i=new ga(t,e),o=new ga(t,e+1),d=[];return this.rs.forEachInRange([i,o],_=>{this.cs(_),d.push(_.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ln(new rs([])),i=new ga(t,e),o=new ga(t,e+1);let d=ai();return this.rs.forEachInRange([i,o],_=>{d=d.add(_.key)}),d}containsKey(e){const t=new ga(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ga{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ln.comparator(e.key,t.key)||Mr(e._s,t._s)}static os(e,t){return Mr(e._s,t._s)||Ln.comparator(e.key,t.key)}}class Ku{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ci(ga.ss)}checkEmpty(e){return Ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,o){const d=this.ws;this.ws++;const _=new qg(d,t,i,o);this.mutationQueue.push(_);for(const C of o)this.gs=this.gs.add(new ga(C.key,d)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return Ot.resolve(_)}lookupMutationBatch(e,t){return Ot.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),d=o<0?0:o;return Ot.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Ot.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ga(t,0),o=new ga(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([i,o],_=>{const C=this.ys(_._s);d.push(C)}),Ot.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ci(Mr);return t.forEach(o=>{const d=new ga(o,0),_=new ga(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,_],C=>{i=i.add(C._s)})}),Ot.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let d=i;Ln.isDocumentKey(d)||(d=d.child(""));const _=new ga(new Ln(d),0);let C=new Ci(Mr);return this.gs.forEachWhile(O=>{const $=O.key.path;return!!i.isPrefixOf($)&&($.length===o&&(C=C.add(O._s)),!0)},_),Ot.resolve(this.Is(C))}Is(e){const t=[];return e.forEach(i=>{const o=this.ys(i);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Yt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Ot.forEach(t.mutations,o=>{const d=new ga(o.key,t.batchId);return i=i.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new ga(t,0),o=this.gs.firstAfterOrEqual(i);return Ot.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ot.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ma{constructor(e){this.Es=e,this.docs=new Yo(Ln.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),d=o?o.size:0,_=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-d,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ot.resolve(i?i.document.mutableCopy():Bs.newInvalidDocument(t))}getEntries(e,t){let i=Nl();return t.forEach(o=>{const d=this.docs.get(o);i=i.insert(o,d?d.document.mutableCopy():Bs.newInvalidDocument(o))}),Ot.resolve(i)}getAllFromCollection(e,t,i){let o=Nl();const d=new Ln(t.child("")),_=this.docs.getIteratorFrom(d);for(;_.hasNext();){const{key:C,value:{document:O}}=_.getNext();if(!t.isPrefixOf(C.path))break;C.path.length>t.length+1||zc(Wc(O),i)<=0||(o=o.insert(O.key,O.mutableCopy()))}return Ot.resolve(o)}getAllFromCollectionGroup(e,t,i,o){Ut()}As(e,t){return Ot.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new qf(this)}getSize(e){return Ot.resolve(this.size)}}class qf extends n_{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(i)}),Ot.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class gc{constructor(e){this.persistence=e,this.Rs=new ed(t=>Al(t),nh),this.lastRemoteSnapshotVersion=gr.min(),this.highestTargetId=0,this.bs=0,this.Ps=new pc,this.targetCount=0,this.vs=Ad.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,o)=>t(o)),Ot.resolve()}getLastRemoteSnapshotVersion(e){return Ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ot.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ot.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),Ot.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ad(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ot.resolve()}updateTargetData(e,t){return this.Dn(t),Ot.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ot.resolve()}removeTargets(e,t,i){let o=0;const d=[];return this.Rs.forEach((_,C)=>{C.sequenceNumber<=t&&null===i.get(C.targetId)&&(this.Rs.delete(_),d.push(this.removeMatchingKeysForTargetId(e,C.targetId)),o++)}),Ot.waitFor(d).next(()=>o)}getTargetCount(e){return Ot.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return Ot.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),Ot.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const o=this.persistence.referenceDelegate,d=[];return o&&t.forEach(_=>{d.push(o.markPotentiallyOrphaned(e,_))}),Ot.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ot.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return Ot.resolve(i)}containsKey(e,t){return Ot.resolve(this.Ps.containsKey(t))}}class zp{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Gu(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new gc(this),this.indexManager=new Qg,this.remoteDocumentCache=new ma(i=>this.referenceDelegate.xs(i)),this.yt=new nv(t),this.Ns=new u_(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new om,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new Ku(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Q("MemoryPersistence","Starting transaction:",e);const o=new Nc(this.Ss.next());return this.referenceDelegate.ks(),i(o).next(d=>this.referenceDelegate.Os(o).next(()=>d)).toPromise().then(d=>(o.raiseOnCommittedEvent(),d))}Ms(e,t){return Ot.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class Nc extends fp{constructor(e){super(),this.currentSequenceNumber=e}}class id{constructor(e){this.persistence=e,this.Fs=new pc,this.$s=null}static Bs(e){return new id(e)}get Ls(){if(this.$s)return this.$s;throw Ut()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),Ot.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),Ot.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ot.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(d=>this.Ls.add(d.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ot.forEach(this.Ls,i=>{const o=Ln.fromPath(i);return this.qs(e,o).next(d=>{d||t.removeEntry(o,gr.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Ot.or([()=>Ot.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Md{constructor(e){this.yt=e}$(e,t,i,o){const d=new Hu("createOrUpgrade",t);var C;i<1&&o>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ch,{unique:!0}),C.createObjectStore("documentMutations"),nf(e),function(C){C.createObjectStore("remoteDocuments")}(e));let _=Ot.resolve();return i<3&&o>=3&&(0!==i&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),nf(e)),_=_.next(()=>function(C){const O=C.store("targetGlobal"),$={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gr.min().toTimestamp(),targetCount:0};return O.put("targetGlobalKey",$)}(d))),i<4&&o>=4&&(0!==i&&(_=_.next(()=>function(C,O){return O.store("mutations").W().next($=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ch,{unique:!0});const Z=O.store("mutations"),fe=$.map(xe=>Z.put(xe));return Ot.waitFor(fe)})}(e,d))),_=_.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&o>=5&&(_=_.next(()=>this.Us(d))),i<6&&o>=6&&(_=_.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),i<7&&o>=7&&(_=_.next(()=>this.Gs(d))),i<8&&o>=8&&(_=_.next(()=>this.Qs(e,d))),i<9&&o>=9&&(_=_.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&o>=10&&(_=_.next(()=>this.js(d))),i<11&&o>=11&&(_=_.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&o>=12&&(_=_.next(()=>{!function(C){const O=C.createObjectStore("documentOverlays",{keyPath:Wg});O.createIndex("collectionPathOverlayIndex",ev,{unique:!1}),O.createIndex("collectionGroupOverlayIndex",Zm,{unique:!1})}(e)})),i<13&&o>=13&&(_=_.next(()=>function(C){const O=C.createObjectStore("remoteDocumentsV14",{keyPath:dy});O.createIndex("documentKeyIndex",X_),O.createIndex("collectionGroupIndex",jg)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&o>=14&&(_=_.next(()=>this.zs(e,d))),i<15&&o>=15&&(_=_.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:kp}).createIndex("sequenceNumberIndex",Fp,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:Qo}).createIndex("documentKeyIndex",dh,{unique:!1})}(e))),_}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,o)=>{t+=em(o)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(o=>Ot.forEach(o,d=>{const _=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",_).next(C=>Ot.forEach(C,O=>{Yt(O.userId===d.userId);const $=gh(this.yt,O);return t_(e,d.userId,$).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const d=[];return i.Z((_,C)=>{const O=new rs(_),$=[0,qu(O)];d.push(t.get($).next(Z=>Z?Ot.resolve():t.put({targetId:0,path:qu(O),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Ot.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Km});const i=t.store("collectionParents"),o=new Wf,d=_=>{if(o.add(_)){const C=_.lastSegment(),O=_.popLast();return i.put({collectionId:C,parent:qu(O)})}};return t.store("remoteDocuments").Z({X:!0},(_,C)=>{const O=new rs(_);return d(O.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([_,C,O],$)=>{const Z=Us(C);return d(Z.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,o)=>{const d=dc(o),_=Jm(this.yt,d);return t.put(_)})}Ws(e,t){const i=t.store("remoteDocuments"),o=[];return i.Z((d,_)=>{const C=t.store("remoteDocumentsV14"),O=($=_,$.document?new Ln(rs.fromString($.document.name).popFirst(5)):$.noDocument?Ln.fromSegments($.noDocument.path):$.unknownDocument?Ln.fromSegments($.unknownDocument.path):Ut()).path.toArray();var $;const Z={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};o.push(C.put(Z))}).next(()=>Ot.waitFor(o))}zs(e,t){const i=t.store("mutations"),o=lv(this.yt),d=new zp(id.Bs,this.yt.ie);return i.W().next(_=>{const C=new Map;return _.forEach(O=>{var $;let Z=null!==($=C.get(O.userId))&&void 0!==$?$:ai();gh(this.yt,O).keys().forEach(fe=>Z=Z.add(fe)),C.set(O.userId,Z)}),Ot.forEach(C,(O,$)=>{const Z=new Lo($),fe=mh.re(this.yt,Z),xe=d.getIndexManager(Z),We=tm.re(Z,this.yt,xe,d.referenceDelegate);return new a_(o,We,fe,xe).recalculateAndSaveOverlaysForDocumentKeys(new Lp(t,Gu.at),O).next()})})}}function nf(n){n.createObjectStore("targetDocuments",{keyPath:qh}).createIndex("documentTargetsIndex",Kh,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zh,{unique:!0}),n.createObjectStore("targetGlobal")}const Oc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nd{constructor(e,t,i,o,d,_,C,O,$,Z,fe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=d,this.window=_,this.document=C,this.Js=$,this.Ys=Z,this.Xs=fe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=xe=>Promise.resolve(),!Nd.C())throw new Jt(Mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vy(this,o),this.ii=t+"main",this.yt=new nv(O),this.ri=new oc(this.ii,this.Xs,new Md(this.yt)),this.Cs=new rm(this.referenceDelegate,this.yt),this.remoteDocumentCache=lv(this.yt),this.Ns=new fy,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Z&&he("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Jt(Mt.FAILED_PRECONDITION,Oc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Gu(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Gt.Z)(function*(o){if(t.started)return e(o)});return function(o){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Gt.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Gt.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Od(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Sc(e))return Q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Rc(e).get("owner").next(t=>Ot.resolve(this.mi(t)))}gi(e){return Od(e).delete(this.clientId)}yi(){var e=this;return(0,Gt.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const o=zs(i,"clientMetadata");return o.W().next(d=>{const _=e.Ii(d,18e5),C=d.filter(O=>-1===_.indexOf(O));return Ot.forEach(C,O=>o.delete(O.clientId)).next(()=>C)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ot.resolve(!0):Rc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Jt(Mt.FAILED_PRECONDITION,Oc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Od(e).W().next(i=>void 0===this.Ii(i,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Q("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Gt.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Lp(t,Gu.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Od(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return tm.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new py(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return mh.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Q("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",d=15===(_=this.Xs)?Si:14===_?nd:13===_?zg:12===_?hy:11===_?tv:void Ut();var _;let C;return this.ri.runTransaction(e,o,d,O=>(C=new Lp(O,this.Ss?this.Ss.next():Gu.at),"readwrite-primary"===t?this.fi(C).next($=>!!$||this.di(C)).next($=>{if(!$)throw he(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Jt(Mt.FAILED_PRECONDITION,qd);return i(C)}).next($=>this.wi(C).next(()=>$)):this.Vi(C).next(()=>i(C)))).then(O=>(C.raiseOnCommittedEvent(),O))}Vi(e){return Rc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Jt(Mt.FAILED_PRECONDITION,Oc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rc(e).put("owner",t)}static C(){return oc.C()}_i(e){const t=Rc(e);return t.get("owner").next(i=>this.mi(i)?(Q("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ot.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(he(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,cr.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Q("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return he("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){he("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rc(n){return zs(n,"owner")}function Od(n){return zs(n,"clientMetadata")}function bh(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class qp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=o}static Ci(e,t){let i=ai(),o=ai();for(const d of t.docChanges)switch(d.type){case 0:i=i.add(d.doc.key);break;case 1:o=o.add(d.doc.key)}return new qp(e,t.fromCache,i,o)}}class l_{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,o){return this.ki(e,t).next(d=>d||this.Oi(e,t,o,i)).next(d=>d||this.Mi(e,t))}ki(e,t){if(Of(t))return Ot.resolve(null);let i=xa(t);return this.indexManager.getIndexType(e,i).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Rf(t,null,"F"),i=xa(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(d=>{const _=ai(...d);return this.Ni.getDocuments(e,_).next(C=>this.indexManager.getMinOffset(e,i).next(O=>{const $=this.Fi(t,C);return this.$i(t,$,_,O.readTime)?this.ki(e,Rf(t,null,"F")):this.Bi(e,$,t,O)}))})))}Oi(e,t,i,o){return Of(t)||o.isEqual(gr.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(d=>{const _=this.Fi(t,d);return this.$i(t,_,i,o)?this.Mi(e,t):(D()<=ws.in.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),kf(t)),this.Bi(e,_,t,jc(o,-1)))})}Fi(e,t){let i=new Ci(Bm(e));return t.forEach((o,d)=>{ih(e,d)&&(i=i.add(d))}),i}$i(e,t,i,o){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(o)>0)}Mi(e,t){return D()<=ws.in.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",kf(t)),this.Ni.getDocumentsMatchingQuery(e,t,ll.min())}Bi(e,t,i,o){return this.Ni.getDocumentsMatchingQuery(e,i,o).next(d=>(t.forEach(_=>{d=d.insert(_.key,_)}),d))}}class dv{constructor(e,t,i,o){this.persistence=e,this.Li=t,this.yt=o,this.qi=new Yo(Mr),this.Ui=new ed(d=>Al(d),nh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Kf(n,e,t,i){return new dv(n,e,t,i)}function Kp(n,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,Gt.Z)(function*(n,e){const t=un(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(d=>(o=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(d=>{const _=[],C=[];let O=ai();for(const $ of o){_.push($.batchId);for(const Z of $.mutations)O=O.add(Z.key)}for(const $ of d){C.push($.batchId);for(const Z of $.mutations)O=O.add(Z.key)}return t.localDocuments.getDocuments(i,O).next($=>({ji:$,removedBatchIds:_,addedBatchIds:C}))})})}),Zf.apply(this,arguments)}function hv(n,e){const t=un(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(_,C,O,$){const Z=O.batch,fe=Z.keys();let xe=Ot.resolve();return fe.forEach(We=>{xe=xe.next(()=>$.getEntry(C,We)).next(ft=>{const kt=O.docVersions.get(We);Yt(null!==kt),ft.version.compareTo(kt)<0&&(Z.applyToRemoteDocument(ft,O),ft.isValidDocument()&&(ft.setReadTime(O.commitVersion),$.addEntry(ft)))})}),xe.next(()=>_.mutationQueue.removeMutationBatch(C,Z))}(t,i,e,d).next(()=>d.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let C=ai();for(let O=0;O<_.mutationResults.length;++O)_.mutationResults[O].transformResults.length>0&&(C=C.add(_.batch.mutations[O].key));return C}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function fv(n){const e=un(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function yy(n,e){const t=un(n),i=e.snapshotVersion;let o=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const _=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.qi;const C=[];e.targetChanges.forEach((Z,fe)=>{const xe=o.get(fe);if(!xe)return;C.push(t.Cs.removeMatchingKeys(d,Z.removedDocuments,fe).next(()=>t.Cs.addMatchingKeys(d,Z.addedDocuments,fe)));let We=xe.withSequenceNumber(d.currentSequenceNumber);var ft,kt,fn;e.targetMismatches.has(fe)?We=We.withResumeToken(da.EMPTY_BYTE_STRING,gr.min()).withLastLimboFreeSnapshotVersion(gr.min()):Z.resumeToken.approximateByteSize()>0&&(We=We.withResumeToken(Z.resumeToken,i)),o=o.insert(fe,We),kt=We,fn=Z,(0===(ft=xe).resumeToken.approximateByteSize()||kt.snapshotVersion.toMicroseconds()-ft.snapshotVersion.toMicroseconds()>=3e8||fn.addedDocuments.size+fn.modifiedDocuments.size+fn.removedDocuments.size>0)&&C.push(t.Cs.updateTargetData(d,We))});let O=Nl(),$=ai();if(e.documentUpdates.forEach(Z=>{e.resolvedLimboDocuments.has(Z)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(d,Z))}),C.push(pv(d,_,e.documentUpdates).next(Z=>{O=Z.Wi,$=Z.zi})),!i.isEqual(gr.min())){const Z=t.Cs.getLastRemoteSnapshotVersion(d).next(fe=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,i));C.push(Z)}return Ot.waitFor(C).next(()=>_.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,O,$)).next(()=>O)}).then(d=>(t.qi=o,d))}function pv(n,e,t){let i=ai(),o=ai();return t.forEach(d=>i=i.add(d)),e.getEntries(n,i).next(d=>{let _=Nl();return t.forEach((C,O)=>{const $=d.get(C);O.isFoundDocument()!==$.isFoundDocument()&&(o=o.add(C)),O.isNoDocument()&&O.version.isEqual(gr.min())?(e.removeEntry(C,O.readTime),_=_.insert(C,O)):!$.isValidDocument()||O.version.compareTo($.version)>0||0===O.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(O),_=_.insert(C,O)):Q("LocalStore","Ignoring outdated watch update for ",C,". Current version:",$.version," Watch version:",O.version)}),{Wi:_,zi:o}})}function gv(n,e){const t=un(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Pc(n,e){const t=un(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Cs.getTargetData(i,e).next(d=>d?(o=d,Ot.resolve(o)):t.Cs.allocateTargetId(i).next(_=>(o=new hh(e,_,0,i.currentSequenceNumber),t.Cs.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.qi.get(i.targetId);return(null===o||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function Yf(n,e,t){return am.apply(this,arguments)}function am(){return am=(0,Gt.Z)(function*(n,e,t){const i=un(n),o=i.qi.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",d,_=>i.persistence.referenceDelegate.removeTarget(_,o)))}catch(_){if(!Sc(_))throw _;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.qi=i.qi.remove(e),i.Ui.delete(o.target)}),am.apply(this,arguments)}function Jf(n,e,t){const i=un(n);let o=gr.min(),d=ai();return i.persistence.runTransaction("Execute query","readonly",_=>function(C,O,$){const Z=un(C),fe=Z.Ui.get($);return void 0!==fe?Ot.resolve(Z.qi.get(fe)):Z.Cs.getTargetData(O,$)}(i,_,xa(e)).next(C=>{if(C)return o=C.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(_,C.targetId).next(O=>{d=O})}).next(()=>i.Li.getDocumentsMatchingQuery(_,e,t?o:gr.min(),t?d:ai())).next(C=>(Yp(i,Di(e),C),{documents:C,Hi:d})))}function Zp(n,e){const t=un(n),i=un(t.Cs),o=t.qi.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",d=>i.ne(d,e).next(_=>_?_.target:null))}function mv(n,e){const t=un(n),i=t.Ki.get(e)||gr.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,jc(i,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Yp(t,e,o),o))}function Yp(n,e,t){let i=n.Ki.get(e)||gr.min();t.forEach((o,d)=>{d.readTime.compareTo(i)>0&&(i=d.readTime)}),n.Ki.set(e,i)}function Yl(){return Yl=(0,Gt.Z)(function*(n,e,t,i){const o=un(n);let d=ai(),_=Nl();for(const $ of t){const Z=e.Ji($.metadata.name);$.document&&(d=d.add(Z));const fe=e.Yi($);fe.setReadTime(e.Xi($.metadata.readTime)),_=_.insert(Z,fe)}const C=o.Gi.newChangeBuffer({trackRemovals:!0}),O=yield Pc(o,($=i,xa(Nf(rs.fromString(`__bundle__/docs/${$}`)))));var $;return o.persistence.runTransaction("Apply bundle documents","readwrite",$=>pv($,C,_).next(Z=>(C.apply($),Z)).next(Z=>o.Cs.removeMatchingKeysForTargetId($,O.targetId).next(()=>o.Cs.addMatchingKeys($,d,O.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments($,Z.Wi,Z.zi)).next(()=>Z.Wi)))}),Yl.apply(this,arguments)}function _v(n,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,Gt.Z)(function*(n,e,t=ai()){const i=yield Pc(n,xa(Bp(e.bundledQuery))),o=un(n);return o.persistence.runTransaction("Save named query","readwrite",d=>{const _=pa(e.readTime);if(i.snapshotVersion.compareTo(_)>=0)return o.Ns.saveNamedQuery(d,e);const C=i.withResumeToken(da.EMPTY_BYTE_STRING,_);return o.qi=o.qi.insert(C.targetId,C),o.Cs.updateTargetData(d,C).next(()=>o.Cs.removeMatchingKeysForTargetId(d,i.targetId)).next(()=>o.Cs.addMatchingKeys(d,t,i.targetId)).next(()=>o.Ns.saveNamedQuery(d,e))})}),Qf.apply(this,arguments)}function Jp(n,e){return`firestore_clients_${n}_${e}`}function c_(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Qp(n,e){return`firestore_targets_${n}_${e}`}class Xf{constructor(e,t,i,o){this.user=e,this.batchId=t,this.state=i,this.error=o}static Zi(e,t,i){const o=JSON.parse(i);let d,_="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return _&&o.error&&(_="string"==typeof o.error.message&&"string"==typeof o.error.code,_&&(d=new Jt(o.error.code,o.error.message))),_?new Xf(e,t,o.state,d):(he("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ep{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let o,d="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(o=new Jt(i.error.code,i.error.message))),d?new ep(e,i.state,o):(he("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class f{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let o="object"==typeof i&&i.activeTargetIds instanceof Array,d=Vf();for(let _=0;o&&_<i.activeTargetIds.length;++_)o=gp(i.activeTargetIds[_]),d=d.add(i.activeTargetIds[_]);return o?new f(e,d):(he("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class v{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new v(t.clientId,t.onlineState):(he("SharedClientState",`Failed to parse online state: ${e}`),null)}}class I{constructor(){this.activeTargetIds=Vf()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q{constructor(e,t,i,o,d){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Yo(Mr),this.started=!1,this.cr=[];const _=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Jp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new I),this.lr=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Gt.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const d=e.getItem(Jp(e.persistenceKey,o));if(d){const _=f.Zi(o,d);_&&(e.ur=e.ur.insert(_.clientId,_))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const o=e.yr(i);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Qp(this.persistenceKey,e));if(i){const o=ep.Zi(e,i);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Qp(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(o=>{this.Er(o)}),this.currentUser=e,i.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Q("SharedClientState","READ",e,t),t}setItem(e,t){Q("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Q("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Q("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void he("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Gt.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const o=t.vr(i.key);return t.Vr(o,null)}{const o=t.Sr(i.key,i.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const o=t.Dr(i.key,i.newValue);if(o)return t.Cr(o)}}else if(t._r.test(i.key)){if(null!==i.newValue){const o=t.Nr(i.key,i.newValue);if(o)return t.kr(o)}}else if(i.key===t.wr){if(null!==i.newValue){const o=t.yr(i.newValue);if(o)return t.pr(o)}}else if(i.key===t.hr){const o=function(d){let _=Gu.at;if(null!=d)try{const C=JSON.parse(d);Yt("number"==typeof C),_=C}catch(C){he("SharedClientState","Failed to read sequence number from WebStorage",C)}return _}(i.newValue);o!==Gu.at&&t.sequenceNumberHandler(o)}else if(i.key===t.mr){const o=t.Or(i.newValue);yield Promise.all(o.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const o=new Xf(this.currentUser,e,t,i),d=c_(this.persistenceKey,this.currentUser,e);this.setItem(d,o.tr())}Er(e){const t=c_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const o=Qp(this.persistenceKey,e),d=new ep(e,t,i);this.setItem(o,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return f.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),o=Number(i[1]);return Xf.Zi(new Lo(void 0!==i[2]?i[2]:null),o,t)}Nr(e,t){const i=this._r.exec(e),o=Number(i[1]);return ep.Zi(o,t)}yr(e){return v.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Gt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Q("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),d=this.Ir(i),_=[],C=[];return d.forEach(O=>{o.has(O)||_.push(O)}),o.forEach(O=>{d.has(O)||C.push(O)}),this.syncEngine.Br(_,C).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Vf();return e.forEach((i,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class ne{constructor(){this.Lr=new I,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new I,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ye{Ur(e){}shutdown(){}}class Ve{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pt{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ln extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,o,d){const _=this.ho(e,t);Q("RestConnection","Sending: ",_,i);const C={};return this.lo(C,o,d),this.fo(e,_,C,i).then(O=>(Q("RestConnection","Received: ",O),O),O=>{throw dt("RestConnection",`${e} failed with error: `,O,"url: ",_,"request:",i),O})}_o(e,t,i,o,d,_){return this.ao(e,t,i,o,d)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+N,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,d)=>e[d]=o),i&&i.headers.forEach((o,d)=>e[d]=o)}ho(e,t){return`${this.oo}/v1/${t}:${qe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,o){return new Promise((d,_)=>{const C=new Cc;C.setWithCredentials(!0),C.listenOnce(Nh.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case Sl.NO_ERROR:const $=C.getResponseJson();Q("Connection","XHR received:",JSON.stringify($)),d($);break;case Sl.TIMEOUT:Q("Connection",'RPC "'+e+'" timed out'),_(new Jt(Mt.DEADLINE_EXCEEDED,"Request time out"));break;case Sl.HTTP_ERROR:const Z=C.getStatus();if(Q("Connection",'RPC "'+e+'" failed with status:',Z,"response text:",C.getResponseText()),Z>0){let fe=C.getResponseJson();Array.isArray(fe)&&(fe=fe[0]);const xe=fe?.error;if(xe&&xe.status&&xe.message){const We=function(ft){const kt=ft.toLowerCase().replace(/_/g,"-");return Object.values(Mt).indexOf(kt)>=0?kt:Mt.UNKNOWN}(xe.status);_(new Jt(We,xe.message))}else _(new Jt(Mt.UNKNOWN,"Server responded with status "+C.getStatus()))}else _(new Jt(Mt.UNAVAILABLE,"Connection failed."));break;default:Ut()}}finally{Q("Connection",'RPC "'+e+'" completed.')}});const O=JSON.stringify(o);C.send(t,"POST",O,i,15)})}wo(e,t,i){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Gd(),_=Xa(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Va({})),this.lo(C.initMessageHeaders,t,i),C.encodeInitMessageHeaders=!0;const O=o.join("");Q("Connection","Creating WebChannel: "+O,C);const $=d.createWebChannel(O,C);let Z=!1,fe=!1;const xe=new pt({Hr:ft=>{fe?Q("Connection","Not sending because WebChannel is closed:",ft):(Z||(Q("Connection","Opening WebChannel transport."),$.open(),Z=!0),Q("Connection","WebChannel sending:",ft),$.send(ft))},Jr:()=>$.close()}),We=(ft,kt,fn)=>{ft.listen(kt,Gn=>{try{fn(Gn)}catch(ur){setTimeout(()=>{throw ur},0)}})};return We($,Hc.EventType.OPEN,()=>{fe||Q("Connection","WebChannel transport opened.")}),We($,Hc.EventType.CLOSE,()=>{fe||(fe=!0,Q("Connection","WebChannel transport closed"),xe.io())}),We($,Hc.EventType.ERROR,ft=>{fe||(fe=!0,dt("Connection","WebChannel transport errored:",ft),xe.io(new Jt(Mt.UNAVAILABLE,"The operation could not be completed")))}),We($,Hc.EventType.MESSAGE,ft=>{var kt;if(!fe){const fn=ft.data[0];Yt(!!fn);const ur=fn.error||(null===(kt=fn[0])||void 0===kt?void 0:kt.error);if(ur){Q("Connection","WebChannel received error:",ur);const Lr=ur.status;let jr=function(Dr){const $i=$a[Dr];if(void 0!==$i)return Bg($i)}(Lr),vr=ur.message;void 0===jr&&(jr=Mt.INTERNAL,vr="Unknown error status: "+Lr+" with message "+ur.message),fe=!0,xe.io(new Jt(jr,vr)),$.close()}else Q("Connection","WebChannel received:",fn),xe.ro(fn)}}),We(_,ic.STAT_EVENT,ft=>{ft.stat===Ia.PROXY?Q("Connection","Detected buffering proxy"):ft.stat===Ia.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(()=>{xe.so()},0),xe}}function cn(){return typeof window<"u"?window:null}function gn(){return typeof document<"u"?document:null}function Vn(n){return new sy(n,!0)}class _r{constructor(e,t,i=1e3,o=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=o,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-i);o>0&&Q("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Gr{constructor(e,t,i,o,d,_,C,O){this.Hs=e,this.vo=i,this.Vo=o,this.connection=d,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=C,this.listener=O,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new _r(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Gt.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Gt.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Gt.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===Mt.RESOURCE_EXHAUSTED?(he(t.toString()),he("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===Mt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.So===t&&this.Go(i,o)},i=>{e(()=>{const o=new Jt(Mt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(o)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{i(()=>this.Qo(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Gt.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pi extends Gr{constructor(e,t,i,o,d,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,_),this.yt=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function ay(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:Ut(),o=e.targetChange.targetIds||[],d=function(O,$){return O.wt?(Yt(void 0===$||"string"==typeof $),da.fromBase64String($||"")):(Yt(void 0===$||$ instanceof Uint8Array),da.fromUint8Array($||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,C=_&&function(O){const $=void 0===O.code?Mt.UNKNOWN:Bg(O.code);return new Jt($,O.message||"")}(_);t=new Hf(i,o,d,C||null)}else if("documentChange"in e){const i=e.documentChange,o=cc(n,i.document.name),d=pa(i.document.updateTime),_=i.document.createTime?pa(i.document.createTime):gr.min(),C=new fa({mapValue:{fields:i.document.fields}}),O=Bs.newFoundDocument(o,d,_,C);t=new Mp(i.targetIds||[],i.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const i=e.documentDelete,o=cc(n,i.document),d=i.readTime?pa(i.readTime):gr.min(),_=Bs.newNoDocument(o,d);t=new Mp([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,o=cc(n,i.document);t=new Mp([],i.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Ut();{const i=e.filter,d=new ry(i.count||0);t=new ui(i.targetId,d)}}var O;return t}(this.yt,e),i=function(o){if(!("targetChange"in o))return gr.min();const d=o.targetChange;return d.targetIds&&d.targetIds.length?gr.min():d.readTime?pa(d.readTime):gr.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=Op(this.yt),t.addTarget=function(o,d){let _;const C=d.target;return _=bi(C)?{documents:Rp(o,C)}:{query:zu(o,C)},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?_.resumeToken=Z_(o,d.resumeToken):d.snapshotVersion.compareTo(gr.min())>0&&(_.readTime=lh(o,d.snapshotVersion.toTimestamp())),_}(this.yt,e);const i=function uy(n,e){const t=function(i,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=Op(this.yt),t.removeTarget=e,this.Bo(t)}}class Kr extends Gr{constructor(e,t,i,o,d,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,_),this.yt=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function li(n,e){return n&&n.length>0?(Yt(void 0!==e),n.map(t=>function(i,o){let d=pa(i.updateTime?i.updateTime:o);return d.isEqual(gr.min())&&(d=pa(o)),new H_(d,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=pa(e.commitTime);return this.listener.Zo(i,t)}return Yt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Op(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ol(this.yt,i))};this.Bo(t)}}class Yi extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=o,this.nu=!1}su(){if(this.nu)throw new Jt(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,d])=>this.connection.ao(e,t,i,o,d)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Jt(Mt.UNKNOWN,o.toString())})}_o(e,t,i,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.connection._o(e,t,i,d,_,o)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Jt(Mt.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class Yu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(he(t),this.ou=!1):Q("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ju{constructor(e,t,i,o,d){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.Ur(C=>{i.enqueueAndForget((0,Gt.Z)(function*(){var O;rf(_)&&(Q("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,Gt.Z)(function*($){const Z=un($);Z._u.add(4),yield fl(Z),Z.gu.set("Unknown"),Z._u.delete(4),yield Ds(Z)}),function($){return O.apply(this,arguments)})(_))}))}),this.gu=new Yu(i,o)}}function Ds(n){return nu.apply(this,arguments)}function nu(){return nu=(0,Gt.Z)(function*(n){if(rf(n))for(const e of n.wu)yield e(!0)}),nu.apply(this,arguments)}function fl(n){return tp.apply(this,arguments)}function tp(){return tp=(0,Gt.Z)(function*(n){for(const e of n.wu)yield e(!1)}),tp.apply(this,arguments)}function Rd(n,e){const t=un(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),M0(t)?x0(t):tg(t).ko()&&Ey(t,e))}function np(n,e){const t=un(n),i=tg(t);t.du.delete(e),i.ko()&&lm(t,e),0===t.du.size&&(i.ko()?i.Fo():rf(t)&&t.gu.set("Unknown"))}function Ey(n,e){n.yu.Ot(e.targetId),tg(n).zo(e)}function lm(n,e){n.yu.Ot(e),tg(n).Ho(e)}function x0(n){n.yu=new Cd({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),tg(n).start(),n.gu.uu()}function M0(n){return rf(n)&&!tg(n).No()&&n.du.size>0}function rf(n){return 0===un(n)._u.size}function N0(n){n.yu=void 0}function O0(n){return vv.apply(this,arguments)}function vv(){return vv=(0,Gt.Z)(function*(n){n.du.forEach((e,t)=>{Ey(n,e)})}),vv.apply(this,arguments)}function fu(n,e){return d_.apply(this,arguments)}function d_(){return d_=(0,Gt.Z)(function*(n,e){N0(n),M0(n)?(n.gu.hu(e),x0(n)):n.gu.set("Unknown")}),d_.apply(this,arguments)}function qE(n,e,t){return by.apply(this,arguments)}function by(){return by=(0,Gt.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Hf&&2===e.state&&e.cause)try{yield(i=(0,Gt.Z)(function*(o,d){const _=d.cause;for(const C of d.targetIds)o.du.has(C)&&(yield o.remoteSyncer.rejectListen(C,_),o.du.delete(C),o.yu.removeTarget(C))}),function(o,d){return i.apply(this,arguments)})(n,e)}catch(i){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield h_(n,i)}else if(e instanceof Mp?n.yu.Kt(e):e instanceof ui?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(gr.min()))try{const i=yield fv(n.localStore);t.compareTo(i)>=0&&(yield function(o,d){const _=o.yu.Zt(d);return _.targetChanges.forEach((C,O)=>{if(C.resumeToken.approximateByteSize()>0){const $=o.du.get(O);$&&o.du.set(O,$.withResumeToken(C.resumeToken,d))}}),_.targetMismatches.forEach(C=>{const O=o.du.get(C);if(!O)return;o.du.set(C,O.withResumeToken(da.EMPTY_BYTE_STRING,O.snapshotVersion)),lm(o,C);const $=new hh(O.target,C,1,O.sequenceNumber);Ey(o,$)}),o.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){Q("RemoteStore","Failed to raise snapshot:",i),yield h_(n,i)}var i}),by.apply(this,arguments)}function h_(n,e,t){return wy.apply(this,arguments)}function wy(){return wy=(0,Gt.Z)(function*(n,e,t){if(!Sc(e))throw e;n._u.add(1),yield fl(n),n.gu.set("Offline"),t||(t=()=>fv(n.localStore)),n.asyncQueue.enqueueRetryable((0,Gt.Z)(function*(){Q("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Ds(n)}))}),wy.apply(this,arguments)}function cm(n,e){return e().catch(t=>h_(n,t,e))}function Xp(n){return eg.apply(this,arguments)}function eg(){return eg=(0,Gt.Z)(function*(n){const e=un(n),t=ip(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;KE(e);)try{const o=yield gv(e.localStore,i);if(null===o){0===e.fu.length&&t.Fo();break}i=o.batchId,Yw(e,o)}catch(o){yield h_(e,o)}Ty(e)&&ZE(e)}),eg.apply(this,arguments)}function KE(n){return rf(n)&&n.fu.length<10}function Yw(n,e){n.fu.push(e);const t=ip(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Ty(n){return rf(n)&&!ip(n).No()&&n.fu.length>0}function ZE(n){ip(n).start()}function YE(n){return dm.apply(this,arguments)}function dm(){return dm=(0,Gt.Z)(function*(n){ip(n).eu()}),dm.apply(this,arguments)}function f_(n){return rp.apply(this,arguments)}function rp(){return rp=(0,Gt.Z)(function*(n){const e=ip(n);for(const t of n.fu)e.Xo(t.mutations)}),rp.apply(this,arguments)}function wh(n,e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,Gt.Z)(function*(n,e,t){const i=n.fu.shift(),o=hl.from(i,e,t);yield cm(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Xp(n)}),Cy.apply(this,arguments)}function JE(n,e){return sd.apply(this,arguments)}function sd(){return sd=(0,Gt.Z)(function*(n,e){var t;e&&ip(n).Yo&&(yield(t=(0,Gt.Z)(function*(i,o){if($m(d=o.code)&&d!==Mt.ABORTED){const _=i.fu.shift();ip(i).Mo(),yield cm(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,o)),yield Xp(i)}var d}),function(i,o){return t.apply(this,arguments)})(n,e)),Ty(n)&&ZE(n)}),sd.apply(this,arguments)}function Pd(n,e){return pl.apply(this,arguments)}function pl(){return pl=(0,Gt.Z)(function*(n,e){const t=un(n);t.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const i=rf(t);t._u.add(3),yield fl(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ds(t)}),pl.apply(this,arguments)}function hm(n,e){return yv.apply(this,arguments)}function yv(){return yv=(0,Gt.Z)(function*(n,e){const t=un(n);e?(t._u.delete(2),yield Ds(t)):e||(t._u.add(2),yield fl(t),t.gu.set("Unknown"))}),yv.apply(this,arguments)}function tg(n){return n.pu||(n.pu=function(e,t,i){const o=un(e);return o.su(),new Pi(t,o.connection,o.authCredentials,o.appCheckCredentials,o.yt,i)}(n.datastore,n.asyncQueue,{Yr:O0.bind(null,n),Zr:fu.bind(null,n),Wo:qE.bind(null,n)}),n.wu.push(function(){var e=(0,Gt.Z)(function*(t){t?(n.pu.Mo(),M0(n)?x0(n):n.gu.set("Unknown")):(yield n.pu.stop(),N0(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function ip(n){return n.Iu||(n.Iu=function(e,t,i){const o=un(e);return o.su(),new Kr(t,o.connection,o.authCredentials,o.appCheckCredentials,o.yt,i)}(n.datastore,n.asyncQueue,{Yr:YE.bind(null,n),Zr:JE.bind(null,n),tu:f_.bind(null,n),Zo:wh.bind(null,n)}),n.wu.push(function(){var e=(0,Gt.Z)(function*(t){t?(n.Iu.Mo(),yield Xp(n)):(yield n.Iu.stop(),n.fu.length>0&&(Q("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class R0{constructor(e,t,i,o,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=d,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,o,d){const _=Date.now()+i,C=new R0(e,t,_,o,d);return C.start(i),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jt(Mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(n,e){if(he("AsyncQueue",`${e}: ${n}`),Sc(n))return new Jt(Mt.UNAVAILABLE,`${e}: ${n}`);throw n}class sf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ln.comparator(t.key,i.key):(t,i)=>Ln.comparator(t.key,i.key),this.keyedMap=Vg(),this.sortedSet=new Yo(this.comparator)}static emptySet(e){return new sf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,d=i.getNext().key;if(!o.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new sf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class fm{constructor(){this.Tu=new Yo(Ln.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ut():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class pm{constructor(e,t,i,o,d,_,C,O,$){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=d,this.fromCache=_,this.syncStateChanged=C,this.excludesMetadataChanges=O,this.hasCachedResults=$}static fromInitialDocuments(e,t,i,o,d){const _=[];return t.forEach(C=>{_.push({type:0,doc:C})}),new pm(e,t,sf.emptySet(t),_,i,o,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class QE{constructor(){this.Au=void 0,this.listeners=[]}}class XE{constructor(){this.queries=new ed(e=>B_(e),Pf),this.onlineState="Unknown",this.Ru=new Set}}function Ev(n,e){return bv.apply(this,arguments)}function bv(){return bv=(0,Gt.Z)(function*(n,e){const t=un(n),i=e.query;let o=!1,d=t.queries.get(i);if(d||(o=!0,d=new QE),o)try{d.Au=yield t.onListen(i)}catch(_){const C=ng(_,`Initialization of query '${kf(e.query)}' failed`);return void e.onError(C)}t.queries.set(i,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&wv(t)}),bv.apply(this,arguments)}function gm(n,e){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,Gt.Z)(function*(n,e){const t=un(n),i=e.query;let o=!1;const d=t.queries.get(i);if(d){const _=d.listeners.indexOf(e);_>=0&&(d.listeners.splice(_,1),o=0===d.listeners.length)}if(o)return t.queries.delete(i),t.onUnlisten(i)}),Dy.apply(this,arguments)}function eb(n,e){const t=un(n);let i=!1;for(const o of e){const _=t.queries.get(o.query);if(_){for(const C of _.listeners)C.Pu(o)&&(i=!0);_.Au=o}}i&&wv(t)}function P0(n,e,t){const i=un(n),o=i.queries.get(e);if(o)for(const d of o.listeners)d.onError(t);i.queries.delete(e)}function wv(n){n.Ru.forEach(e=>{e.next()})}class mm{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)3!==o.type&&i.push(o);e=new pm(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=pm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Sy{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class k0{constructor(e){this.yt=e}Ji(e){return cc(this.yt,e)}Yi(e){return e.metadata.exists?Hg(this.yt,e.document,!1):Bs.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return pa(e)}}class F0{constructor(e,t,i){this.Mu=e,this.localStore=t,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Iy(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=rs.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new k0(this.yt);for(const o of e)if(o.metadata.queries){const d=i.Ji(o.metadata.name);for(const _ of o.metadata.queries){const C=(t.get(_)||ai()).add(d);t.set(_,C)}}return t}complete(){var e=this;return(0,Gt.Z)(function*(){const t=yield function um(n,e,t,i){return Yl.apply(this,arguments)}(e.localStore,new k0(e.yt),e.documents,e.Mu.id),i=e.$u(e.documents);for(const o of e.queries)yield _v(e.localStore,o,i.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Iy(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class L0{constructor(e){this.key=e}}class Ay{constructor(e){this.key=e}}class xy{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ai(),this.mutatedKeys=ai(),this.Gu=Bm(e),this.Qu=new sf(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new fm,o=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,_=o,C=!1;const O="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,$="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((Z,fe)=>{const xe=o.get(Z),We=ih(this.query,fe)?fe:null,ft=!!xe&&this.mutatedKeys.has(xe.key),kt=!!We&&(We.hasLocalMutations||this.mutatedKeys.has(We.key)&&We.hasCommittedMutations);let fn=!1;xe&&We?xe.data.isEqual(We.data)?ft!==kt&&(i.track({type:3,doc:We}),fn=!0):this.Hu(xe,We)||(i.track({type:2,doc:We}),fn=!0,(O&&this.Gu(We,O)>0||$&&this.Gu(We,$)<0)&&(C=!0)):!xe&&We?(i.track({type:0,doc:We}),fn=!0):xe&&!We&&(i.track({type:1,doc:xe}),fn=!0,(O||$)&&(C=!0)),fn&&(We?(_=_.add(We),d=kt?d.add(Z):d.delete(Z)):(_=_.delete(Z),d=d.delete(Z)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const Z="F"===this.query.limitType?_.last():_.first();_=_.delete(Z.key),d=d.delete(Z.key),i.track({type:1,doc:Z})}return{Qu:_,zu:i,$i:C,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort(($,Z)=>function(fe,xe){const We=ft=>{switch(ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut()}};return We(fe)-We(xe)}($.type,Z.type)||this.Gu($.doc,Z.doc)),this.Ju(i);const _=t?this.Yu():[],C=0===this.Ku.size&&this.current?1:0,O=C!==this.Uu;return this.Uu=C,0!==d.length||O?{snapshot:new pm(this.query,e.Qu,o,d,e.mutatedKeys,0===C,O,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:_}:{Xu:_}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new fm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ai(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new Ay(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new L0(i))}),t}tc(e){this.qu=e.Hi,this.Ku=ai();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return pm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class tb{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class nb{constructor(e){this.key=e,this.nc=!1}}class Tv{constructor(e,t,i,o,d,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=d,this.maxConcurrentLimboResolutions=_,this.sc={},this.ic=new ed(C=>B_(C),Pf),this.rc=new Map,this.oc=new Set,this.uc=new Yo(Ln.comparator),this.cc=new Map,this.ac=new pc,this.hc={},this.lc=new Map,this.fc=Ad.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function rb(n,e){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,Gt.Z)(function*(n,e){const t=kc(n);let i,o;const d=t.ic.get(e);if(d)i=d.targetId,t.sharedClientState.addLocalQueryTarget(i),o=d.view.ec();else{const _=yield Pc(t.localStore,xa(e));t.isPrimaryClient&&Rd(t.remoteStore,_);const C=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,o=yield My(t,e,i,"current"===C,_.resumeToken)}return o}),Cv.apply(this,arguments)}function My(n,e,t,i,o){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,Gt.Z)(function*(n,e,t,i,o){n._c=(fe,xe,We)=>{return(ft=(0,Gt.Z)(function*(kt,fn,Gn,ur){let Lr=fn.view.Wu(Gn);Lr.$i&&(Lr=yield Jf(kt.localStore,fn.query,!1).then(({documents:Dr})=>fn.view.Wu(Dr,Lr)));const jr=ur&&ur.targetChanges.get(fn.targetId),vr=fn.view.applyChanges(Lr,kt.isPrimaryClient,jr);return p(kt,fn.targetId,vr.Xu),vr.snapshot}),function(kt,fn,Gn,ur){return ft.apply(this,arguments)})(n,fe,xe,We);var ft};const d=yield Jf(n.localStore,e,!0),_=new xy(e,d.Hi),C=_.Wu(d.documents),O=Td.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,o),$=_.applyChanges(C,n.isPrimaryClient,O);p(n,t,$.Xu);const Z=new tb(e,t,_);return n.ic.set(e,Z),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),$.snapshot}),Ny.apply(this,arguments)}function ib(n,e){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,Gt.Z)(function*(n,e){const t=un(n),i=t.ic.get(e),o=t.rc.get(i.targetId);if(o.length>1)return t.rc.set(i.targetId,o.filter(d=>!Pf(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),np(t.remoteStore,i.targetId),rg(t,i.targetId)}).catch(sc))):(rg(t,i.targetId),yield Yf(t.localStore,i.targetId,!0))}),Oy.apply(this,arguments)}function Ry(){return Ry=(0,Gt.Z)(function*(n,e,t){const i=wr(n);try{const o=yield function(d,_){const C=un(d),O=js.now(),$=_.reduce((xe,We)=>xe.add(We.key),ai());let Z,fe;return C.persistence.runTransaction("Locally write mutations","readwrite",xe=>{let We=Nl(),ft=ai();return C.Gi.getEntries(xe,$).next(kt=>{We=kt,We.forEach((fn,Gn)=>{Gn.isValidDocument()||(ft=ft.add(fn))})}).next(()=>C.localDocuments.getOverlayedDocuments(xe,We)).next(kt=>{Z=kt;const fn=[];for(const Gn of _){const ur=Um(Gn,Z.get(Gn.key).overlayedDocument);null!=ur&&fn.push(new wd(Gn.key,ur,Cu(ur.value.mapValue),vo.exists(!0)))}return C.mutationQueue.addMutationBatch(xe,O,fn,_)}).next(kt=>{fe=kt;const fn=kt.applyToLocalDocumentSet(Z,ft);return C.documentOverlayCache.saveOverlays(xe,kt.batchId,fn)})}).then(()=>({batchId:fe.batchId,changes:G_(Z)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(d,_,C){let O=d.hc[d.currentUser.toKey()];O||(O=new Yo(Mr)),O=O.insert(_,C),d.hc[d.currentUser.toKey()]=O}(i,o.batchId,t),yield h(i,o.changes),yield Xp(i.remoteStore)}catch(o){const d=ng(o,"Failed to persist write");t.reject(d)}}),Ry.apply(this,arguments)}function Py(n,e){return ky.apply(this,arguments)}function ky(){return ky=(0,Gt.Z)(function*(n,e){const t=un(n);try{const i=yield yy(t.localStore,e);e.targetChanges.forEach((o,d)=>{const _=t.cc.get(d);_&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?_.nc=!0:o.modifiedDocuments.size>0?Yt(_.nc):o.removedDocuments.size>0&&(Yt(_.nc),_.nc=!1))}),yield h(t,i,e)}catch(i){yield sc(i)}}),ky.apply(this,arguments)}function sb(n,e,t){const i=un(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const o=[];i.ic.forEach((d,_)=>{const C=_.view.bu(e);C.snapshot&&o.push(C.snapshot)}),function(d,_){const C=un(d);C.onlineState=_;let O=!1;C.queries.forEach(($,Z)=>{for(const fe of Z.listeners)fe.bu(_)&&(O=!0)}),O&&wv(C)}(i.eventManager,e),o.length&&i.sc.Wo(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function ob(n,e,t){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,Gt.Z)(function*(n,e,t){const i=un(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.cc.get(e),d=o&&o.key;if(d){let _=new Yo(Ln.comparator);_=_.insert(d,Bs.newNoDocument(d,gr.min()));const C=ai().add(d),O=new $f(gr.min(),new Map,new Ci(Mr),_,C);yield Py(i,O),i.uc=i.uc.remove(d),i.cc.delete(e),u(i)}else yield Yf(i.localStore,e,!1).then(()=>rg(i,e,t)).catch(sc)}),Fy.apply(this,arguments)}function Jw(n,e){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,Gt.Z)(function*(n,e){const t=un(n),i=e.batch.batchId;try{const o=yield hv(t.localStore,e);_m(t,i,null),Iv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield h(t,o)}catch(o){yield sc(o)}}),Dv.apply(this,arguments)}function U0(n,e,t){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,Gt.Z)(function*(n,e,t){const i=un(n);try{const o=yield function(d,_){const C=un(d);return C.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let $;return C.mutationQueue.lookupMutationBatch(O,_).next(Z=>(Yt(null!==Z),$=Z.keys(),C.mutationQueue.removeMutationBatch(O,Z))).next(()=>C.mutationQueue.performConsistencyCheck(O)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(O,$,_)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,$)).next(()=>C.localDocuments.getDocuments(O,$))})}(i.localStore,e);_m(i,e,t),Iv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield h(i,o)}catch(o){yield sc(o)}}),Ly.apply(this,arguments)}function Sv(){return Sv=(0,Gt.Z)(function*(n,e){const t=un(n);rf(t.remoteStore)||Q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(d){const _=un(d);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>_.mutationQueue.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===i)return void e.resolve();const o=t.lc.get(i)||[];o.push(e),t.lc.set(i,o)}catch(i){const o=ng(i,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Sv.apply(this,arguments)}function Iv(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function _m(n,e,t){const i=un(n);let o=i.hc[i.currentUser.toKey()];if(o){const d=o.get(e);d&&(t?d.reject(t):d.resolve(),o=o.remove(e)),i.hc[i.currentUser.toKey()]=o}}function rg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||Av(n,i)})}function Av(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(np(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),u(n))}function p(n,e,t){for(const i of t)i instanceof L0?(n.ac.addReference(i.key,e),r(n,i)):i instanceof Ay?(Q("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||Av(n,i.key)):Ut()}function r(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Q("SyncEngine","New document in limbo: "+t),n.oc.add(i),u(n))}function u(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ln(rs.fromString(e)),i=n.fc.next();n.cc.set(i,new nb(t)),n.uc=n.uc.insert(t,i),Rd(n.remoteStore,new hh(xa(Nf(t.path)),i,2,Gu.at))}}function h(n,e,t){return y.apply(this,arguments)}function y(){return y=(0,Gt.Z)(function*(n,e,t){const i=un(n),o=[],d=[],_=[];var C;i.ic.isEmpty()||(i.ic.forEach((C,O)=>{_.push(i._c(O,e,t).then($=>{if(($||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(O.targetId,$?.fromCache?"not-current":"current"),$){o.push($);const Z=qp.Ci(O.targetId,$);d.push(Z)}}))}),yield Promise.all(_),i.sc.Wo(o),yield(C=(0,Gt.Z)(function*(O,$){const Z=un(O);try{yield Z.persistence.runTransaction("notifyLocalViewChanges","readwrite",fe=>Ot.forEach($,xe=>Ot.forEach(xe.Si,We=>Z.persistence.referenceDelegate.addReference(fe,xe.targetId,We)).next(()=>Ot.forEach(xe.Di,We=>Z.persistence.referenceDelegate.removeReference(fe,xe.targetId,We)))))}catch(fe){if(!Sc(fe))throw fe;Q("LocalStore","Failed to update sequence numbers: "+fe)}for(const fe of $){const xe=fe.targetId;if(!fe.fromCache){const We=Z.qi.get(xe),kt=We.withLastLimboFreeSnapshotVersion(We.snapshotVersion);Z.qi=Z.qi.insert(xe,kt)}}}),function(O,$){return C.apply(this,arguments)})(i.localStore,d))}),y.apply(this,arguments)}function T(n,e){return P.apply(this,arguments)}function P(){return P=(0,Gt.Z)(function*(n,e){const t=un(n);if(!t.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const i=yield Kp(t.localStore,e);t.currentUser=e,(o=t).lc.forEach(_=>{_.forEach(C=>{C.reject(new Jt(Mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield h(t,i.ji)}var o}),P.apply(this,arguments)}function K(n,e){const t=un(n),i=t.cc.get(e);if(i&&i.nc)return ai().add(i.key);{let o=ai();const d=t.rc.get(e);if(!d)return o;for(const _ of d){const C=t.ic.get(_);o=o.unionWith(C.view.ju)}return o}}function te(n,e){return oe.apply(this,arguments)}function oe(){return oe=(0,Gt.Z)(function*(n,e){const t=un(n),i=yield Jf(t.localStore,e.query,!0),o=e.view.tc(i);return t.isPrimaryClient&&p(t,e.targetId,o.Xu),o}),oe.apply(this,arguments)}function Oe(n,e){return et.apply(this,arguments)}function et(){return et=(0,Gt.Z)(function*(n,e){const t=un(n);return mv(t.localStore,e).then(i=>h(t,i))}),et.apply(this,arguments)}function Vt(n,e,t,i){return _n.apply(this,arguments)}function _n(){return _n=(0,Gt.Z)(function*(n,e,t,i){const o=un(n),d=yield function(_,C){const O=un(_),$=un(O.mutationQueue);return O.persistence.runTransaction("Lookup mutation documents","readonly",Z=>$.Tn(Z,C).next(fe=>fe?O.localDocuments.getDocuments(Z,fe):Ot.resolve(null)))}(o.localStore,e);var C;null!==d?("pending"===t?yield Xp(o.remoteStore):"acknowledged"===t||"rejected"===t?(_m(o,e,i||null),Iv(o,e),C=e,un(un(o.localStore).mutationQueue).An(C)):Ut(),yield h(o,d)):Q("SyncEngine","Cannot apply mutation batch with id: "+e)}),_n.apply(this,arguments)}function or(){return or=(0,Gt.Z)(function*(n,e){const t=un(n);if(kc(t),wr(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),o=yield zn(t,i.toArray());t.dc=!0,yield hm(t.remoteStore,!0);for(const d of o)Rd(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const i=[];let o=Promise.resolve();t.rc.forEach((d,_)=>{t.sharedClientState.isLocalQueryTarget(_)?i.push(_):o=o.then(()=>(rg(t,_),Yf(t.localStore,_,!0))),np(t.remoteStore,_)}),yield o,yield zn(t,i),function(d){const _=un(d);_.cc.forEach((C,O)=>{np(_.remoteStore,O)}),_.ac.fs(),_.cc=new Map,_.uc=new Yo(Ln.comparator)}(t),t.dc=!1,yield hm(t.remoteStore,!1)}}),or.apply(this,arguments)}function zn(n,e,t){return sr.apply(this,arguments)}function sr(){return sr=(0,Gt.Z)(function*(n,e,t){const i=un(n),o=[],d=[];for(const _ of e){let C;const O=i.rc.get(_);if(O&&0!==O.length){C=yield Pc(i.localStore,xa(O[0]));for(const $ of O){const Z=i.ic.get($),fe=yield te(i,Z);fe.snapshot&&d.push(fe.snapshot)}}else{const $=yield Zp(i.localStore,_);C=yield Pc(i.localStore,$),yield My(i,ar($),_,!1,C.resumeToken)}o.push(C)}return i.sc.Wo(d),o}),sr.apply(this,arguments)}function ar(n){return Jc(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Ss(n){const e=un(n);return un(un(e.localStore).persistence).vi()}function Xo(n,e,t,i){return Su.apply(this,arguments)}function Su(){return Su=(0,Gt.Z)(function*(n,e,t,i){const o=un(n);if(o.dc)return void Q("SyncEngine","Ignoring unexpected query state notification.");const d=o.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const _=yield mv(o.localStore,Di(d[0])),C=$f.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,da.EMPTY_BYTE_STRING);yield h(o,_,C);break}case"rejected":yield Yf(o.localStore,e,!0),rg(o,e,i);break;default:Ut()}}),Su.apply(this,arguments)}function Js(n,e,t){return af.apply(this,arguments)}function af(){return af=(0,Gt.Z)(function*(n,e,t){const i=kc(n);if(i.dc){for(const o of e){if(i.rc.has(o)){Q("SyncEngine","Adding an already active target "+o);continue}const d=yield Zp(i.localStore,o),_=yield Pc(i.localStore,d);yield My(i,ar(d),_.targetId,!1,_.resumeToken),Rd(i.remoteStore,_)}for(const o of t)i.rc.has(o)&&(yield Yf(i.localStore,o,!1).then(()=>{np(i.remoteStore,o),rg(i,o)}).catch(sc))}}),af.apply(this,arguments)}function kc(n){const e=un(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Py.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ob.bind(null,e),e.sc.Wo=eb.bind(null,e.eventManager),e.sc.wc=P0.bind(null,e.eventManager),e}function wr(n){const e=un(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U0.bind(null,e),e}class so{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Gt.Z)(function*(){t.yt=Vn(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Kf(this.persistence,new l_,e.initialUser,this.yt)}yc(e){return new zp(id.Bs,this.yt)}gc(e){return new ne}terminate(){var e=this;return(0,Gt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ll extends so{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Gt.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield wr(i.Ac.syncEngine),yield Xp(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Kf(this.persistence,new l_,e.initialUser,this.yt)}Tc(e,t){return new my(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new qc(t,this.persistence);return new Ac(e.asyncQueue,i)}yc(e){const t=bh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Zl.withCacheSize(this.cacheSizeBytes):Zl.DEFAULT;return new Nd(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,cn(),gn(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new ne}}class sp extends Ll{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Gt.Z)(function*(){yield t().call(i,e);const o=i.Ac.syncEngine;i.sharedClientState instanceof q&&(i.sharedClientState.syncEngine={Fr:Vt.bind(null,o),$r:Xo.bind(null,o),Br:Js.bind(null,o),vi:Ss.bind(null,o),Mr:Oe.bind(null,o)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var d=(0,Gt.Z)(function*(_){yield function Rt(n,e){return or.apply(this,arguments)}(i.Ac.syncEngine,_),i.gcScheduler&&(_&&!i.gcScheduler.started?i.gcScheduler.start():_||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(_&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():_||i.indexBackfillerScheduler.stop())});return function(_){return d.apply(this,arguments)}}())})()}gc(e){const t=cn();if(!q.C(t))throw new Jt(Mt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=bh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new q(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class kd{initialize(e,t){var i=this;return(0,Gt.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>sb(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=T.bind(null,i.syncEngine),yield hm(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new XE}createDatastore(e){const t=Vn(e.databaseInfo.databaseId),i=new ln(e.databaseInfo);return new Yi(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,o=e.asyncQueue,d=C=>sb(this.syncEngine,C,0),_=Ve.C()?new Ve:new ye,new Ju(t,i,o,d,_);var t,i,o,d,_}createSyncEngine(e,t){return function(i,o,d,_,C,O,$){const Z=new Tv(i,o,d,_,C,O);return $&&(Z.dc=!0),Z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Gt.Z)(function*(t){const i=un(t);Q("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield fl(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function uf(n,e,t){if(!t)throw new Jt(Mt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Fd(n,e,t,i){if(!0===e&&!0===i)throw new Jt(Mt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function od(n){if(!Ln.isDocumentKey(n))throw new Jt(Mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vm(n){if(Ln.isDocumentKey(n))throw new Jt(Mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ut()}function Is(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Jt(Mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=V0(n);throw new Jt(Mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Qw(n,e){if(e<=0)throw new Jt(Mt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const By=new Map;class ub{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Jt(Mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Jt(Mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Fd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xv{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ub({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Jt(Mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Jt(Mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ub(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new gd;switch(t.type){case"gapi":return new hp(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Jt(Mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=By.get(e);t&&(Q("ComponentProvider","Removing Datastore"),By.delete(e),t.terminate())}(this),Promise.resolve()}}class Na{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ad(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Na(this.firestore,e,this._key)}}class Iu{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Iu(this.firestore,e,this._query)}}class ad extends Iu{constructor(e,t,i){super(e,t,Nf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Na(this.firestore,null,new Ln(e))}withConverter(e){return new ad(this.firestore,e,this._path)}}function Xw(n,e,...t){if(n=(0,cr.m9)(n),uf("collection","path",e),n instanceof xv){const i=rs.fromString(e,...t);return vm(i),new ad(n,null,i)}{if(!(n instanceof Na||n instanceof ad))throw new Jt(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rs.fromString(e,...t));return vm(i),new ad(n.firestore,null,i)}}function $0(n,e,...t){if(n=(0,cr.m9)(n),1===arguments.length&&(e=eu.R()),uf("doc","path",e),n instanceof xv){const i=rs.fromString(e,...t);return od(i),new Na(n,null,new Ln(i))}{if(!(n instanceof Na||n instanceof ad))throw new Jt(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rs.fromString(e,...t));return od(i),new Na(n.firestore,n instanceof ad?n.converter:null,new Ln(i))}}function cb(n,e){return n=(0,cr.m9)(n),e=(0,cr.m9)(e),(n instanceof Na||n instanceof ad)&&(e instanceof Na||e instanceof ad)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function H0(n,e){return n=(0,cr.m9)(n),e=(0,cr.m9)(e),n instanceof Iu&&e instanceof Iu&&n.firestore===e.firestore&&Pf(n._query,e._query)&&n.converter===e.converter}function db(n,e=10240){let t=0;return{read:()=>(0,Gt.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Gt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class G0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):he("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class eT{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new _o,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Gt.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Gt.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Gt.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),o=Number(i);isNaN(o)&&e.Dc(`length string (${i}) is not valid number`);const d=yield e.Cc(o);return new Sy(JSON.parse(d),t.length+o)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Gt.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,Gt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Gt.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class sS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Gt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Jt(Mt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(o=(0,Gt.Z)(function*(d,_){const C=un(d),O=Op(C.yt)+"/documents",$={documents:_.map(We=>Ns(C.yt,We))},Z=yield C._o("BatchGetDocuments",O,$,_.length),fe=new Map;Z.forEach(We=>{const ft=function Mc(n,e){return"found"in e?function(t,i){Yt(!!i.found);const o=cc(t,i.found.name),d=pa(i.found.updateTime),_=i.found.createTime?pa(i.found.createTime):gr.min(),C=new fa({mapValue:{fields:i.found.fields}});return Bs.newFoundDocument(o,d,_,C)}(n,e):"missing"in e?function(t,i){Yt(!!i.missing),Yt(!!i.readTime);const o=cc(t,i.missing),d=pa(i.readTime);return Bs.newNoDocument(o,d)}(n,e):Ut()}(C.yt,We);fe.set(ft.key.toString(),ft)});const xe=[];return _.forEach(We=>{const ft=fe.get(We.toString());Yt(!!ft),xe.push(ft)}),xe}),function(d,_){return o.apply(this,arguments)})(t.datastore,e);var o;return i.forEach(o=>t.recordVersion(o)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Gt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,o)=>{const d=Ln.fromPath(o);e.mutations.push(new Ap(d,e.precondition(d)))}),yield(i=(0,Gt.Z)(function*(o,d){const _=un(o),C=Op(_.yt)+"/documents",O={writes:d.map($=>Ol(_.yt,$))};yield _.ao("Commit",C,O)}),function(o,d){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ut();t=gr.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Jt(Mt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gr.min())?vo.exists(!1):vo.updateTime(t):vo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gr.min()))throw new Jt(Mt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vo.updateTime(t)}return vo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class oS{constructor(e,t,i,o,d){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=o,this.deferred=d,this.kc=i.maxAttempts,this.xo=new _r(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Gt.Z)(function*(){const t=new sS(e.datastore),i=e.Mc(t);i&&i.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(d=>{e.Fc(d)}))}).catch(o=>{e.Fc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!Sf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!$m(t)}return!1}}class aS{constructor(e,t,i,o){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Lo.UNAUTHENTICATED,this.clientId=eu.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,Gt.Z)(function*(C){Q("FirestoreClient","Received user=",C.uid),yield d.authCredentialListener(C),d.user=C});return function(C){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Q("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,Gt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Jt(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Gt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const o=ng(i,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function hb(n,e){return Mv.apply(this,arguments)}function Mv(){return Mv=(0,Gt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Gt.Z)(function*(d){i.isEqual(d)||(yield Kp(e.localStore,d),i=d)});return function(d){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Mv.apply(this,arguments)}function tT(n,e){return fb.apply(this,arguments)}function fb(){return fb=(0,Gt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield j0(n);Q("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(o=>Pd(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,d)=>Pd(e.remoteStore,d)),n.onlineComponents=e}),fb.apply(this,arguments)}function j0(n){return p_.apply(this,arguments)}function p_(){return p_=(0,Gt.Z)(function*(n){return n.offlineComponents||(Q("FirestoreClient","Using default OfflineComponentProvider"),yield hb(n,new so)),n.offlineComponents}),p_.apply(this,arguments)}function W0(n){return pb.apply(this,arguments)}function pb(){return pb=(0,Gt.Z)(function*(n){return n.onlineComponents||(Q("FirestoreClient","Using default OnlineComponentProvider"),yield tT(n,new kd)),n.onlineComponents}),pb.apply(this,arguments)}function nT(n){return j0(n).then(e=>e.persistence)}function z0(n){return j0(n).then(e=>e.localStore)}function rT(n){return W0(n).then(e=>e.remoteStore)}function gb(n){return W0(n).then(e=>e.syncEngine)}function Nv(n){return _b.apply(this,arguments)}function _b(){return _b=(0,Gt.Z)(function*(n){const e=yield W0(n),t=e.eventManager;return t.onListen=rb.bind(null,e.syncEngine),t.onUnlisten=ib.bind(null,e.syncEngine),t}),_b.apply(this,arguments)}function sT(n,e,t={}){const i=new _o;return n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return function(o,d,_,C,O){const $=new G0({next:fe=>{d.enqueueAndForget(()=>gm(o,Z));const xe=fe.docs.has(_);!xe&&fe.fromCache?O.reject(new Jt(Mt.UNAVAILABLE,"Failed to get document because the client is offline.")):xe&&fe.fromCache&&C&&"server"===C.source?O.reject(new Jt(Mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(fe)},error:fe=>O.reject(fe)}),Z=new mm(Nf(_.path),$,{includeMetadataChanges:!0,Nu:!0});return Ev(o,Z)}(yield Nv(n),n.asyncQueue,e,t,i)})),i.promise}function aT(n,e,t={}){const i=new _o;return n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return function(o,d,_,C,O){const $=new G0({next:fe=>{d.enqueueAndForget(()=>gm(o,Z)),fe.fromCache&&"server"===C.source?O.reject(new Jt(Mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(fe)},error:fe=>O.reject(fe)}),Z=new mm(_,$,{includeMetadataChanges:!0,Nu:!0});return Ev(o,Z)}(yield Nv(n),n.asyncQueue,e,t,i)})),i.promise}class e1{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new _r(this,"async_queue_retry"),this.Wc=()=>{const t=gn();t&&Q("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=gn();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=gn();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new _o;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Gt.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Sc(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,he("INTERNAL UNHANDLED ERROR: ",function(d){let _=d.message||"";return d.stack&&(_=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),_}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const o=R0.createAndSchedule(this,e,t,i,d=>this.Yc(d));return this.Uc.push(o),o}zc(){this.Kc&&Ut()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Gt.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function q0(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class lT{constructor(){this._progressObserver={},this._taskCompletionResolver=new _o,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Oa extends xv{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new e1,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yb(this),this._firestoreClient.terminate()}}function Au(n){return n._firestoreClient||yb(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function yb(n){var e;const t=n._freezeSettings(),i=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Fh(n._databaseId,d,n._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var d,C;n._firestoreClient=new aS(n._authCredentials,n._appCheckCredentials,n._queue,i)}function dT(n,e,t){const i=new _o;return n.asyncQueue.enqueue((0,Gt.Z)(function*(){try{yield hb(n,t),yield tT(n,e),i.resolve()}catch(o){const d=o;if(!("FirebaseError"===(_=d).name?_.code===Mt.FAILED_PRECONDITION||_.code===Mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw d;dt("Error enabling offline persistence. Falling back to persistence disabled: "+d),i.reject(d)}var _})).then(()=>i.promise)}function Eb(n){if(n._initialized||n._terminated)throw new Jt(Mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class op{constructor(e){this._byteString=e}static fromBase64String(e){try{return new op(da.fromBase64String(e))}catch(t){throw new Jt(Mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new op(da.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Jt(Mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ws(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class g_{constructor(e){this._methodName=e}}class K0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Jt(Mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Jt(Mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mr(this._lat,e._lat)||Mr(this._long,e._long)}}const bb=/^__.*__$/;class wb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new wd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xc(e,this.data,t,this.fieldTransforms)}}class Tb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new wd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Z0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut()}}class Y0{constructor(e,t,i,o,d,_){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=o,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=_||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Y0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:i,oa:!1});return o.ua(e),o}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:i,oa:!1});return o.na(),o}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return rE(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Z0(this.sa)&&bb.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class l1{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||Vn(e)}da(e,t,i,o=!1){return new Y0({sa:e,methodName:t,fa:i,path:Ws.emptyPath(),oa:!1,la:o},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ig(n){const e=n._freezeSettings(),t=Vn(n._databaseId);return new l1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function J0(n,e,t,i,o,d={}){const _=n.da(d.merge||d.mergeFields?2:0,e,t,o);tE("Data must be an object, but it was:",_,i);const C=Db(i,_);let O,$;if(d.merge)O=new cl(_.fieldMask),$=_.fieldTransforms;else if(d.mergeFields){const Z=[];for(const fe of d.mergeFields){const xe=nE(e,fe,t);if(!_.contains(xe))throw new Jt(Mt.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);mT(Z,xe)||Z.push(xe)}O=new cl(Z),$=_.fieldTransforms.filter(fe=>O.covers(fe.field))}else O=null,$=_.fieldTransforms;return new wb(new fa(C),O,$)}class Ov extends g_{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ov}}function m_(n,e,t){return new Y0({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Q0 extends g_{_toFieldTransform(e){return new Sp(e.path,new xl)}isEqual(e){return e instanceof Q0}}class c1 extends g_{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=m_(this,e,!0),i=this._a.map(d=>__(d,t)),o=new sh(i);return new Sp(e.path,o)}isEqual(e){return this===e}}class cS extends g_{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=m_(this,e,!0),i=this._a.map(d=>__(d,t)),o=new Du(i);return new Sp(e.path,o)}isEqual(e){return this===e}}class pT extends g_{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new oh(e.yt,Lf(e.yt,this.wa));return new Sp(e.path,t)}isEqual(e){return this===e}}function Vy(n,e,t,i){const o=n.da(1,e,t);tE("Data must be an object, but it was:",o,i);const d=[],_=fa.empty();xc(i,(O,$)=>{const Z=$y(e,O,t);$=(0,cr.m9)($);const fe=o.ca(Z);if($ instanceof Ov)d.push(Z);else{const xe=__($,fe);null!=xe&&(d.push(Z),_.set(Z,xe))}});const C=new cl(d);return new Tb(_,C,o.fieldTransforms)}function Cb(n,e,t,i,o,d){const _=n.da(1,e,t),C=[nE(e,i,t)],O=[o];if(d.length%2!=0)throw new Jt(Mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xe=0;xe<d.length;xe+=2)C.push(nE(e,d[xe])),O.push(d[xe+1]);const $=[],Z=fa.empty();for(let xe=C.length-1;xe>=0;--xe)if(!mT($,C[xe])){const We=C[xe];let ft=O[xe];ft=(0,cr.m9)(ft);const kt=_.ca(We);if(ft instanceof Ov)$.push(We);else{const fn=__(ft,kt);null!=fn&&($.push(We),Z.set(We,fn))}}const fe=new cl($);return new Tb(Z,fe,_.fieldTransforms)}function X0(n,e,t,i=!1){return __(t,n.da(i?4:3,e))}function __(n,e){if(eE(n=(0,cr.m9)(n)))return tE("Unsupported field value:",e,n),Db(n,e);if(n instanceof g_)return function(t,i){if(!Z0(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const o=[];let d=0;for(const _ of t){let C=__(_,i.aa(d));null==C&&(C={nullValue:"NULL_VALUE"}),o.push(C),d++}return{arrayValue:{values:o}}}(n,e)}return function(t,i){if(null===(t=(0,cr.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lf(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=js.fromDate(t);return{timestampValue:lh(i.yt,o)}}if(t instanceof js){const o=new js(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lh(i.yt,o)}}if(t instanceof K0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof op)return{bytesValue:Z_(i.yt,t._byteString)};if(t instanceof Na){const o=i.databaseId,d=t.firestore._databaseId;if(!d.isEqual(o))throw i.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dd(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${V0(t)}`)}(n,e)}function Db(n,e){const t={};return Jd(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xc(n,(i,o)=>{const d=__(o,e.ra(i));null!=d&&(t[i]=d)}),{mapValue:{fields:t}}}function eE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof js||n instanceof K0||n instanceof op||n instanceof Na||n instanceof g_)}function tE(n,e,t){if(!eE(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=V0(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function nE(n,e,t){if((e=(0,cr.m9)(e))instanceof lf)return e._internalPath;if("string"==typeof e)return $y(n,e);throw rE("Field path arguments must be of type string or ",n,!1,void 0,t)}const gT=new RegExp("[~\\*/\\[\\]]");function $y(n,e,t){if(e.search(gT)>=0)throw rE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lf(...e.split("."))._internalPath}catch{throw rE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rE(n,e,t,i,o){const d=i&&!i.isEmpty(),_=void 0!==o;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let O="";return(d||_)&&(O+=" (found",d&&(O+=` in field ${i}`),_&&(O+=` in document ${o}`),O+=")"),new Jt(Mt.INVALID_ARGUMENT,C+n+O)}function mT(n,e){return n.some(t=>t.isEqual(e))}class Hy{constructor(e,t,i,o,d){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Na(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new d1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class d1 extends Hy{data(){return super.data()}}function Gy(n,e){return"string"==typeof e?$y(n,e):e instanceof lf?e._internalPath:e._delegate._internalPath}function h1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Jt(Mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iE{}class jy extends iE{}function ym(n,e,...t){let i=[];e instanceof iE&&i.push(e),i=i.concat(t),function(o){const d=o.filter(C=>C instanceof Rv).length,_=o.filter(C=>C instanceof sE).length;if(d>1||d>0&&_>0)throw new Jt(Mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class sE extends jy{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new sE(e,t,i)}_apply(e){const t=this._parse(e);return xb(e._query,t),new Iu(e.firestore,e.converter,Pg(e._query,t))}_parse(e){const t=ig(e.firestore);return function(o,d,_,C,O,$,Z){let fe;if(O.isKeyField()){if("array-contains"===$||"array-contains-any"===$)throw new Jt(Mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$}' queries on documentId().`);if("in"===$||"not-in"===$){Ab(Z,$);const xe=[];for(const We of Z)xe.push(Ib(C,o,We));fe={arrayValue:{values:xe}}}else fe=Ib(C,o,Z)}else"in"!==$&&"not-in"!==$&&"array-contains-any"!==$||Ab(Z,$),fe=X0(_,"where",Z,"in"===$||"not-in"===$);return fi.create(O,$,fe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Rv extends iE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:ts.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let d=i;const _=o.getFlattenedFilters();for(const C of _)xb(d,C),d=Pg(d,C)}(e._query,t),new Iu(e.firestore,e.converter,Pg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oE extends jy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new oE(e,t)}_apply(e){const t=function(i,o,d){if(null!==i.startAt)throw new Jt(Mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Jt(Mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new Mf(o,d);return function(C,O){if(null===rh(C)){const $=Rg(C);null!==$&&ET(0,$,O.field)}}(i,_),_}(e._query,this._field,this._direction);return new Iu(e.firestore,e.converter,function(i,o){const d=i.explicitOrderBy.concat([o]);return new uc(i.path,i.collectionGroup,d,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class aE extends jy{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new aE(e,t,i)}_apply(e){return new Iu(e.firestore,e.converter,Rf(e._query,this._limit,this._limitType))}}class uE extends jy{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new uE(e,t,i)}_apply(e){const t=Sb(e,this.type,this._docOrFields,this._inclusive);return new Iu(e.firestore,e.converter,(o=t,new uc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class Em extends jy{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Em(e,t,i)}_apply(e){const t=Sb(e,this.type,this._docOrFields,this._inclusive);return new Iu(e.firestore,e.converter,(o=t,new uc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function Sb(n,e,t,i){if(t[0]=(0,cr.m9)(t[0]),t[0]instanceof Hy)return function(o,d,_,C,O){if(!C)throw new Jt(Mt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const $=[];for(const Z of Qc(o))if(Z.field.isKeyField())$.push(Qd(d,C.key));else{const fe=C.data.field(Z.field);if(Sg(fe))throw new Jt(Mt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Z.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===fe){const xe=Z.field.canonicalString();throw new Jt(Mt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${xe}' (used as the orderBy) does not exist.`)}$.push(fe)}return new Xd($,O)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=ig(n.firestore);return function(d,_,C,O,$,Z){const fe=d.explicitOrderBy;if($.length>fe.length)throw new Jt(Mt.INVALID_ARGUMENT,`Too many arguments provided to ${O}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const xe=[];for(let We=0;We<$.length;We++){const ft=$[We];if(fe[We].field.isKeyField()){if("string"!=typeof ft)throw new Jt(Mt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${O}(), but got a ${typeof ft}`);if(!Tp(d)&&-1!==ft.indexOf("/"))throw new Jt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${O}() must be a plain document ID, but '${ft}' contains a slash.`);const kt=d.path.child(rs.fromString(ft));if(!Ln.isDocumentKey(kt))throw new Jt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${O}() must result in a valid document path, but '${kt}' is not because it contains an odd number of segments.`);const fn=new Ln(kt);xe.push(Qd(_,fn))}else{const kt=X0(C,O,ft);xe.push(kt)}}return new Xd(xe,Z)}(n._query,n.firestore._databaseId,o,e,t,i)}}function Ib(n,e,t){if("string"==typeof(t=(0,cr.m9)(t))){if(""===t)throw new Jt(Mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tp(e)&&-1!==t.indexOf("/"))throw new Jt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(rs.fromString(t));if(!Ln.isDocumentKey(i))throw new Jt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qd(n,new Ln(i))}if(t instanceof Na)return Qd(n,t._key);throw new Jt(Mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${V0(t)}.`)}function Ab(n,e){if(!Array.isArray(n)||0===n.length)throw new Jt(Mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Jt(Mt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function xb(n,e){if(e.isInequality()){const i=Rg(n),o=e.field;if(null!==i&&!i.isEqual(o))throw new Jt(Mt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${o.toString()}'`);const d=rh(n);null!==d&&ET(0,o,d)}const t=function(i,o){for(const d of i)for(const _ of d.getFlattenedFilters())if(o.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Jt(Mt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ET(n,e,t){if(!t.isEqual(e))throw new Jt(Mt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class lE{convertValue(e,t="none"){switch(ac(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ko(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ut()}}convertObject(e,t){const i={};return xc(e.fields,(o,d)=>{i[o]=this.convertValue(d,t)}),i}convertGeoPoint(e){return new K0(Ko(e.latitude),Ko(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=O_(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(mp(e));default:return null}}convertTimestamp(e){const t=Yc(e);return new js(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rs.fromString(e);Yt(Rl(i));const o=new Rr(i.get(1),i.get(3)),d=new Ln(i.popFirst(5));return o.isEqual(t)||he(`Document ${d} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Wy(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class E1 extends lE{constructor(e){super(),this.firestore=e}convertBytes(e){return new op(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Na(this.firestore,null,t)}}class v_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sg extends Hy{constructor(e,t,i,o,d,_){super(e,t,i,o,_),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new og(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Gy("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class og extends sg{data(e={}){return super.data(e)}}class bm{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new v_(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new og(this._firestore,this._userDataWriter,i.key,i,new v_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Jt(Mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new og(i._firestore,i._userDataWriter,_.doc.key,_.doc,new v_(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:d++}))}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>o||3!==_.type).map(_=>{const C=new og(i._firestore,i._userDataWriter,_.doc.key,_.doc,new v_(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let O=-1,$=-1;return 0!==_.type&&(O=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),1!==_.type&&(d=d.add(_.doc),$=d.indexOf(_.doc.key)),{type:Mb(_.type),doc:C,oldIndex:O,newIndex:$}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Mb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut()}}function cf(n,e){return n instanceof sg&&e instanceof sg?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bm&&e instanceof bm&&n._firestore===e._firestore&&H0(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ap extends lE{constructor(e){super(),this.firestore=e}convertBytes(e){return new op(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Na(this.firestore,null,t)}}function qy(n,e,t){n=Is(n,Na);const i=Is(n.firestore,Oa),o=Wy(n.converter,e,t);return y_(i,[J0(ig(i),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,vo.none())])}function bT(n,e,t,...i){n=Is(n,Na);const o=Is(n.firestore,Oa),d=ig(o);let _;return _="string"==typeof(e=(0,cr.m9)(e))||e instanceof lf?Cb(d,"updateDoc",n._key,e,t,i):Vy(d,"updateDoc",n._key,e),y_(o,[_.toMutation(n._key,vo.exists(!0))])}function Nb(n,...e){var t,i,o;n=(0,cr.m9)(n);let d={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||q0(e[_])||(d=e[_],_++);const C={includeMetadataChanges:d.includeMetadataChanges};if(q0(e[_])){const fe=e[_];e[_]=null===(t=fe.next)||void 0===t?void 0:t.bind(fe),e[_+1]=null===(i=fe.error)||void 0===i?void 0:i.bind(fe),e[_+2]=null===(o=fe.complete)||void 0===o?void 0:o.bind(fe)}let O,$,Z;if(n instanceof Na)$=Is(n.firestore,Oa),Z=Nf(n._key.path),O={next:fe=>{e[_]&&e[_](Ky($,n,fe))},error:e[_+1],complete:e[_+2]};else{const fe=Is(n,Iu);$=Is(fe.firestore,Oa),Z=fe._query;const xe=new ap($);O={next:We=>{e[_]&&e[_](new bm($,xe,fe,We))},error:e[_+1],complete:e[_+2]},h1(n._query)}return function(fe,xe,We,ft){const kt=new G0(ft),fn=new mm(xe,kt,We);return fe.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return Ev(yield Nv(fe),fn)})),()=>{kt.bc(),fe.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return gm(yield Nv(fe),fn)}))}}(Au($),Z,C,O)}function y_(n,e){return function(t,i){const o=new _o;return t.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return function B0(n,e,t){return Ry.apply(this,arguments)}(yield gb(t),i,o)})),o.promise}(Au(n),e)}function Ky(n,e,t){const i=t.docs.get(e._key),o=new ap(n);return new sg(n,o,e._key,i,new v_(t.hasPendingWrites,t.fromCache),e.converter)}const Rb={maxAttempts:5};class dE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ig(e)}set(e,t,i){this._verifyNotCommitted();const o=wm(e,this._firestore),d=Wy(o.converter,t,i),_=J0(this._dataReader,"WriteBatch.set",o._key,d,null!==o.converter,i);return this._mutations.push(_.toMutation(o._key,vo.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const d=wm(e,this._firestore);let _;return _="string"==typeof(t=(0,cr.m9)(t))||t instanceof lf?Cb(this._dataReader,"WriteBatch.update",d._key,t,i,o):Vy(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(_.toMutation(d._key,vo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wm(e,this._firestore);return this._mutations=this._mutations.concat(new ju(t._key,vo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Jt(Mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wm(n,e){if((n=(0,cr.m9)(n)).firestore!==e)throw new Jt(Mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class I1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ig(e)}get(e){const t=wm(e,this._firestore),i=new E1(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Ut();const d=o[0];if(d.isFoundDocument())return new Hy(this._firestore,i,d.key,d,t.converter);if(d.isNoDocument())return new Hy(this._firestore,i,t._key,null,t.converter);throw Ut()})}set(e,t,i){const o=wm(e,this._firestore),d=Wy(o.converter,t,i),_=J0(this._dataReader,"Transaction.set",o._key,d,null!==o.converter,i);return this._transaction.set(o._key,_),this}update(e,t,i,...o){const d=wm(e,this._firestore);let _;return _="string"==typeof(t=(0,cr.m9)(t))||t instanceof lf?Cb(this._dataReader,"Transaction.update",d._key,t,i,o):Vy(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,_),this}delete(e){const t=wm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wm(e,this._firestore),i=new ap(this._firestore);return super.get(e).then(o=>new sg(this._firestore,i,t._key,o._document,new v_(!1,!1),t.converter))}}function kb(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Jt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Fb(){if(typeof Uint8Array>"u")throw new Jt("unimplemented","Uint8Arrays are not available in this environment.")}function Lb(){if(!function wu(){return typeof atob<"u"}())throw new Jt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){N=$s.SDK_VERSION,(0,$s._registerComponent)(new za.wA("firestore",(t,{instanceIdentifier:i,options:o})=>{const d=t.getProvider("app").getImmediate(),_=new Oa(new bu(t.getProvider("auth-internal")),new Ph(t.getProvider("app-check-internal")),function(C,O){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new Jt(Mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rr(C.options.projectId,O)}(d,i),d);return o=Object.assign({useFetchStreams:e},o),_._setSettings(o),_},"PUBLIC").setMultipleInstances(!0)),(0,$s.registerVersion)(jd,"3.8.1",n),(0,$s.registerVersion)(jd,"3.8.1","esm2017")}();class gl{constructor(e){this._delegate=e}static fromBase64String(e){return Lb(),new gl(op.fromBase64String(e))}static fromUint8Array(e){return Fb(),new gl(op.fromUint8Array(e))}toBase64(){return Lb(),this._delegate.toBase64()}toUint8Array(){return Fb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Tm(n){return function O1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class R1{enableIndexedDbPersistence(e,t){return function n1(n,e){Eb(n=Is(n,Oa));const t=Au(n),i=n._freezeSettings(),o=new kd;return dT(t,o,new Ll(o,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function r1(n){Eb(n=Is(n,Oa));const e=Au(n),t=n._freezeSettings(),i=new kd;return dT(e,i,new sp(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function i1(n){if(n._initialized&&!n._terminated)throw new Jt(Mt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _o;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Gt.Z)(function*(){try{yield(t=(0,Gt.Z)(function*(i){if(!oc.C())return Promise.resolve();const o=i+"main";yield oc.delete(o)}),function(i){return t.apply(this,arguments)})(bh(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class P1{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Rr||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dt("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function lb(n,e,t,i={}){var o;const d=(n=Is(n,xv))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&dt("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let _,C;if("string"==typeof i.mockUserToken)_=i.mockUserToken,C=Lo.MOCK_USER;else{_=(0,cr.Sg)(i.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const O=i.mockUserToken.sub||i.mockUserToken.user_id;if(!O)throw new Jt(Mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Lo(O)}n._authCredentials=new Oh(new Dc(_,C))}}(this._delegate,e,t,i)}enableNetwork(){return function o1(n){return function Uy(n){return n.asyncQueue.enqueue((0,Gt.Z)(function*(){const e=yield nT(n),t=yield rT(n);return e.setNetworkEnabled(!0),function(i){const o=un(i);return o._u.delete(0),Ds(o)}(t)}))}(Au(n=Is(n,Oa)))}(this._delegate)}disableNetwork(){return function a1(n){return function QC(n){return n.asyncQueue.enqueue((0,Gt.Z)(function*(){const e=yield nT(n),t=yield rT(n);return e.setNetworkEnabled(!1),(i=(0,Gt.Z)(function*(o){const d=un(o);d._u.add(0),yield fl(d),d.gu.set("Offline")}),function(o){return i.apply(this,arguments)})(t);var i}))}(Au(n=Is(n,Oa)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Fd("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function s1(n){return function(e){const t=new _o;return e.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return function ab(n,e){return Sv.apply(this,arguments)}(yield gb(e),t)})),t.promise}(Au(n=Is(n,Oa)))}(this._delegate)}onSnapshotsInSync(e){return function Ob(n,e){return function uT(n,e){const t=new G0(e);return n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return i=yield Nv(n),o=t,un(i).Ru.add(o),void o.next();var i,o})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return i=yield Nv(n),o=t,void un(i).Ru.delete(o);var i,o}))}}(Au(n=Is(n,Oa)),q0(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Jt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ag(this,Xw(this._delegate,e))}catch(t){throw Fc(t,"collection()","Firestore.collection()")}}doc(e){try{return new ud(this,$0(this._delegate,e))}catch(t){throw Fc(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jl(this,function YC(n,e){if(n=Is(n,xv),uf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Jt(Mt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Iu(n,null,(t=e,new uc(rs.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Fc(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function A1(n,e,t){n=Is(n,Oa);const i=Object.assign(Object.assign({},Rb),t);return function(o){if(o.maxAttempts<1)throw new Jt(Mt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,d,_){const C=new _o;return o.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){const O=yield function mb(n){return W0(n).then(e=>e.datastore)}(o);new oS(o.asyncQueue,O,_,d,C).run()})),C.promise}(Au(n),o=>e(new I1(n,o)),i)}(this._delegate,t=>e(new Ub(this,t)))}batch(){return Au(this._delegate),new Pv(new dE(this._delegate,e=>y_(this._delegate,e)))}loadBundle(e){return function hT(n,e){const t=Au(n=Is(n,Oa)),i=new lT;return function XC(n,e,t,i){const o=function(d,_){let C;return C="string"==typeof d?(new TextEncoder).encode(d):d,O=function(O,$){if(O instanceof Uint8Array)return db(O,$);if(O instanceof ArrayBuffer)return db(new Uint8Array(O),$);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new eT(O,_);var O}(t,Vn(e));n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){!function Ma(n,e,t){const i=un(n);var o;(o=(0,Gt.Z)(function*(d,_,C){try{const O=yield _.getMetadata();if(yield function(xe,We){const ft=un(xe),kt=pa(We.createTime);return ft.persistence.runTransaction("hasNewerBundle","readonly",fn=>ft.Ns.getBundleMetadata(fn,We.id)).then(fn=>!!fn&&fn.createTime.compareTo(kt)>=0)}(d.localStore,O))return yield _.close(),C._completeWith({taskState:"Success",documentsLoaded:(xe=O).totalDocuments,bytesLoaded:xe.totalBytes,totalDocuments:xe.totalDocuments,totalBytes:xe.totalBytes}),Promise.resolve(new Set);C._updateProgress(Iy(O));const $=new F0(O,d.localStore,_.yt);let Z=yield _.mc();for(;Z;){const xe=yield $.Fu(Z);xe&&C._updateProgress(xe),Z=yield _.mc()}const fe=yield $.complete();return yield h(d,fe.Lu,void 0),yield function(xe,We){const ft=un(xe);return ft.persistence.runTransaction("Save bundle","readwrite",kt=>ft.Ns.saveBundleMetadata(kt,We))}(d.localStore,O),C._completeWith(fe.progress),Promise.resolve(fe.Bu)}catch(O){return dt("SyncEngine",`Loading bundle failed with ${O}`),C._failWith(O),Promise.resolve(new Set)}var xe}),function(d,_,C){return o.apply(this,arguments)})(i,e,t).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}(yield gb(n),o,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function fT(n,e){return function vb(n,e){return n.asyncQueue.enqueue((0,Gt.Z)(function*(){return function(t,i){const o=un(t);return o.persistence.runTransaction("Get named query","readonly",d=>o.Ns.getNamedQuery(d,i))}(yield z0(n),e)}))}(Au(n=Is(n,Oa)),e).then(t=>t?new Iu(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Jl(this,t):null)}}class Bb extends lE{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(new op(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ud.forKey(t,this.firestore,null)}}class Ub{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Bb(e)}get(e){const t=ug(e);return this._delegate.get(t).then(i=>new Zy(this._firestore,new sg(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const o=ug(e);return i?(kb("Transaction.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const d=ug(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,i,...o),this}delete(e){const t=ug(e);return this._delegate.delete(t),this}}class Pv{constructor(e){this._delegate=e}set(e,t,i){const o=ug(e);return i?(kb("WriteBatch.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const d=ug(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,i,...o),this}delete(e){const t=ug(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class E_{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new og(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Yy(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=E_.INSTANCES;let o=i.get(e);o||(o=new WeakMap,i.set(e,o));let d=o.get(t);return d||(d=new E_(e,new Bb(e),t),o.set(t,d)),d}}E_.INSTANCES=new WeakMap;class ud{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Bb(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Jt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ud(t,new Na(t._delegate,i,new Ln(e)))}static forKey(e,t,i){return new ud(t,new Na(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ag(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ag(this.firestore,Xw(this._delegate,e))}catch(t){throw Fc(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,cr.m9)(e))instanceof Na&&cb(this._delegate,e)}set(e,t){t=kb("DocumentReference.set",t);try{return t?qy(this._delegate,e,t):qy(this._delegate,e)}catch(i){throw Fc(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?bT(this._delegate,e):bT(this._delegate,e,t,...i)}catch(o){throw Fc(o,"updateDoc()","DocumentReference.update()")}}delete(){return function D1(n){return y_(Is(n.firestore,Oa),[new ju(n._key,vo.none())])}(this._delegate)}onSnapshot(...e){const t=Vb(e),i=NT(e,o=>new Zy(this.firestore,new sg(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return Nb(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function zy(n){n=Is(n,Na);const e=Is(n.firestore,Oa),t=Au(e),i=new ap(e);return function iT(n,e){const t=new _o;return n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return(i=(0,Gt.Z)(function*(o,d,_){try{const C=yield function(O,$){const Z=un(O);return Z.persistence.runTransaction("read document","readonly",fe=>Z.localDocuments.getDocument(fe,$))}(o,d);C.isFoundDocument()?_.resolve(C):C.isNoDocument()?_.resolve(null):_.reject(new Jt(Mt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const O=ng(C,`Failed to get document '${d} from cache`);_.reject(O)}}),function(o,d,_){return i.apply(this,arguments)})(yield z0(n),e,t);var i})),t.promise}(t,n._key).then(o=>new sg(e,i,n._key,o,new v_(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function w1(n){n=Is(n,Na);const e=Is(n.firestore,Oa);return sT(Au(e),n._key,{source:"server"}).then(t=>Ky(e,n,t))}(this._delegate):function b1(n){n=Is(n,Na);const e=Is(n.firestore,Oa);return sT(Au(e),n._key).then(t=>Ky(e,n,t))}(this._delegate),t.then(i=>new Zy(this.firestore,new sg(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ud(this.firestore,this._delegate.withConverter(e?E_.getInstance(this.firestore,e):null))}}function Fc(n,e,t){return n.message=n.message.replace(e,t),n}function Vb(n){for(const e of n)if("object"==typeof e&&!Tm(e))return e;return{}}function NT(n,e){var t,i;let o;return o=Tm(n[0])?n[0]:Tm(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{o.next&&o.next(e(d))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}class Zy{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ud(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cf(this._delegate,e._delegate)}}class Yy extends Zy{data(e){const t=this._delegate.data(e);return function $r(n,e){n||Ut()}(void 0!==t),t}}class Jl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Bb(e)}where(e,t,i){try{return new Jl(this.firestore,ym(this._delegate,function f1(n,e,t){const i=e,o=Gy("where",n);return sE._create(o,i,t)}(e,t,i)))}catch(o){throw Fc(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Jl(this.firestore,ym(this._delegate,function _T(n,e="asc"){const t=e,i=Gy("orderBy",n);return oE._create(i,t)}(e,t)))}catch(i){throw Fc(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Jl(this.firestore,ym(this._delegate,function g1(n){return Qw("limit",n),aE._create("limit",n,"F")}(e)))}catch(t){throw Fc(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Jl(this.firestore,ym(this._delegate,function m1(n){return Qw("limitToLast",n),aE._create("limitToLast",n,"L")}(e)))}catch(t){throw Fc(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Jl(this.firestore,ym(this._delegate,function _1(...n){return uE._create("startAt",n,!0)}(...e)))}catch(t){throw Fc(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Jl(this.firestore,ym(this._delegate,function v1(...n){return uE._create("startAfter",n,!1)}(...e)))}catch(t){throw Fc(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Jl(this.firestore,ym(this._delegate,function vT(...n){return Em._create("endBefore",n,!1)}(...e)))}catch(t){throw Fc(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Jl(this.firestore,ym(this._delegate,function yT(...n){return Em._create("endAt",n,!0)}(...e)))}catch(t){throw Fc(t,"endAt()","Query.endAt()")}}isEqual(e){return H0(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function C1(n){n=Is(n,Iu);const e=Is(n.firestore,Oa),t=Au(e),i=new ap(e);return function oT(n,e){const t=new _o;return n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return(i=(0,Gt.Z)(function*(o,d,_){try{const C=yield Jf(o,d,!0),O=new xy(d,C.Hi),$=O.Wu(C.documents),Z=O.applyChanges($,!1);_.resolve(Z.snapshot)}catch(C){const O=ng(C,`Failed to execute query '${d} against cache`);_.reject(O)}}),function(o,d,_){return i.apply(this,arguments)})(yield z0(n),e,t);var i})),t.promise}(t,n._query).then(o=>new bm(e,i,n,o))}(this._delegate):"server"===e?.source?function cE(n){n=Is(n,Iu);const e=Is(n.firestore,Oa),t=Au(e),i=new ap(e);return aT(t,n._query,{source:"server"}).then(o=>new bm(e,i,n,o))}(this._delegate):function T1(n){n=Is(n,Iu);const e=Is(n.firestore,Oa),t=Au(e),i=new ap(e);return h1(n._query),aT(t,n._query).then(o=>new bm(e,i,n,o))}(this._delegate),t.then(i=>new hE(this.firestore,new bm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Vb(e),i=NT(e,o=>new hE(this.firestore,new bm(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return Nb(this._delegate,t,i)}withConverter(e){return new Jl(this.firestore,this._delegate.withConverter(e?E_.getInstance(this.firestore,e):null))}}class OT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Yy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Jl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Yy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new OT(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Yy(this._firestore,i))})}isEqual(e){return cf(this._delegate,e._delegate)}}class ag extends Jl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ud(this.firestore,e):null}doc(e){try{return new ud(this.firestore,void 0===e?$0(this._delegate):$0(this._delegate,e))}catch(t){throw Fc(t,"doc()","CollectionReference.doc()")}}add(e){return function wT(n,e){const t=Is(n.firestore,Oa),i=$0(n),o=Wy(n.converter,e);return y_(t,[J0(ig(n.firestore),"addDoc",i._key,o,null!==n.converter,{}).toMutation(i._key,vo.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ud(this.firestore,t))}isEqual(e){return cb(this._delegate,e._delegate)}withConverter(e){return new ag(this.firestore,this._delegate.withConverter(e?E_.getInstance(this.firestore,e):null))}}function ug(n){return Is(n,Na)}class RT{constructor(...e){this._delegate=new lf(...e)}static documentId(){return new RT(Ws.keyField().canonicalString())}isEqual(e){return(e=(0,cr.m9)(e))instanceof lf&&this._delegate._internalPath.isEqual(e._internalPath)}}class Cm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CT(){return new Q0("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Cm(e)}static delete(){const e=function x1(){return new Ov("deleteField")}();return e._methodName="FieldValue.delete",new Cm(e)}static arrayUnion(...e){const t=function Pb(...n){return new c1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Cm(t)}static arrayRemove(...e){const t=function DT(...n){return new cS("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Cm(t)}static increment(e){const t=function ST(n){return new pT("increment",n)}(e);return t._methodName="FieldValue.increment",new Cm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const k1={Firestore:P1,GeoPoint:K0,Timestamp:js,Blob:gl,Transaction:Ub,WriteBatch:Pv,DocumentReference:ud,DocumentSnapshot:Zy,Query:Jl,QueryDocumentSnapshot:Yy,QuerySnapshot:hE,CollectionReference:ag,FieldPath:RT,FieldValue:Cm,setLogLevel:function MT(n){!function F(n){b.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function kv(n){(function PT(n,e){n.INTERNAL.registerComponent(new za.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(i,o)},"PUBLIC").setServiceProps(Object.assign({},k1)))})(n,(e,t)=>new P1(e,t,new R1)),n.registerVersion("@firebase/firestore-compat","0.3.1")}(lo.Z);var lg=L(1041),kT=L(6217),$b=L(9260);function FT(n,e){return function hS(n,e=ru.z){return new me.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function Hb(n,e){return FT(n,e).pipe((0,_e.U)(t=>({payload:t,type:"query"})))}function fE(n,e){return Hb(n,e).pipe((0,ia.O)(void 0),Eo(),(0,_e.U)(([t,i])=>{const o=i.payload.docChanges(),d=o.map(_=>({type:_.type,payload:_}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((_,C)=>{const O=o.find(Z=>Z.doc.ref.isEqual(_.ref)),$=t?.payload.docs.find(Z=>Z.ref.isEqual(_.ref));O&&JSON.stringify(O.doc.metadata)===JSON.stringify(_.metadata)||!O&&$&&JSON.stringify($.metadata)===JSON.stringify(_.metadata)||d.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:_}})}),d}))}function LT(n,e,t){return fE(n,t).pipe((0,Ea.R)((i,o)=>function BT(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function F1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return pE(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return pE(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pE(n,e.oldIndex,1)}return n}(n,i))}),n}(i,o.map(d=>d.payload),e),[]),(0,bo.x)(),(0,_e.U)(i=>i.map(o=>({type:o.type,payload:o}))))}function pE(n,e,t,...i){const o=n.slice();return o.splice(e,t,...i),o}function Gb(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class jb{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=fE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_e.U)(i=>i.filter(o=>e.indexOf(o.type)>-1)))),t.pipe((0,ia.O)(void 0),Eo(),(0,Ie.h)(([i,o])=>o.length>0||!i),(0,_e.U)(([i,o])=>o),Ti.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ea.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Gb(e);return LT(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ti.iC)}valueChanges(e={}){return Hb(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Ti.iC)}get(e){return(0,Ga.D)(this.query.get(e)).pipe(Ti.iC)}add(e){return this.ref.add(e)}doc(e){return new UT(this.ref.doc(e),this.afs)}}class UT{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:o,query:d}=zb(i,t);return new jb(o,d,this.afs)}snapshotChanges(){return function fS(n,e){return FT(n,e).pipe((0,ia.O)(void 0),Eo(),(0,_e.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ti.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_e.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ga.D)(this.ref.get(e)).pipe(Ti.iC)}}class L1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?fE(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Ie.h)(t=>t.length>0),Ti.iC):fE(this.query,this.afs.schedulers.outsideAngular).pipe(Ti.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ea.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Gb(e);return LT(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ti.iC)}valueChanges(e={}){return Hb(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(i=>i.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Ti.iC)}get(e){return(0,Ga.D)(this.query.get(e)).pipe(Ti.iC)}}const Wb=new l.OlP("angularfire2.enableFirestorePersistence"),VT=new l.OlP("angularfire2.firestore.persistenceSettings"),$T=new l.OlP("angularfire2.firestore.settings"),HT=new l.OlP("angularfire2.firestore.use-emulator");function zb(n,e=(t=>t)){return{query:e(n),ref:n}}let qb=(()=>{class n{constructor(t,i,o,d,_,C,O,$,Z,fe,xe,We,ft,kt,fn,Gn,ur){this.schedulers=O;const Lr=(0,$o.on)(t,C,i),jr=Z;fe&&(0,lg.nw)(Lr,C,xe,ft,kt,fn,We,Gn),[this.firestore,this.persistenceEnabled$]=(0,$o.cc)(`${Lr.name}.firestore`,"AngularFirestore",Lr.name,()=>{const vr=C.runOutsideAngular(()=>Lr.firestore());if(d&&vr.settings(d),jr&&vr.useEmulator(...jr),o&&!(0,M.PM)(_)){const Dr=()=>{try{return(0,Ga.D)(vr.enablePersistence($||void 0).then(()=>!0,()=>!1))}catch($i){return typeof console<"u"&&console.warn($i),(0,pe.of)(!1)}};return[vr,C.runOutsideAngular(Dr)]}return[vr,(0,pe.of)(!1)]},[d,jr,o])}collection(t,i){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:_}=zb(o,i),C=this.schedulers.ngZone.run(()=>d);return new jb(C,_,this)}collectionGroup(t,i){const o=i||(_=>_),d=this.firestore.collectionGroup(t);return new L1(o(d),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>i);return new UT(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($o.Dh),l.LFG($o.xv,8),l.LFG(Wb,8),l.LFG($T,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ti.HU),l.LFG(VT,8),l.LFG(HT,8),l.LFG(lg.zQ,8),l.LFG(lg.Qv,8),l.LFG(lg.L6,8),l.LFG(lg._Q,8),l.LFG(lg.rT,8),l.LFG(lg.lh,8),l.LFG(lg.f7,8),l.LFG(kT.nm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),B1=(()=>{class n{constructor(){$b.Z.registerVersion("angularfire",Ti.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Wb,useValue:!0},{provide:VT,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[qb]}),n})();var Jy=L(5574);class Qy{constructor(e,t){this.firestore=e,this.authService=t,this.firestoreCollection=e.collection("trips")}getTrips(){return this.firestore.collection("trips",e=>e.where("userId","==",this.authService.user.uid).orderBy("start_at")).valueChanges({idField:"id"})}addNewTrip(e){return this.firestoreCollection.add(e)}updateTrip(e){return this.firestoreCollection.doc(e.id).update({...e})}updatePlace(e){return this.firestoreCollection.doc(e.id).set({places:e.places},{merge:!0})}}Qy.\u0275fac=function(e){return new(e||Qy)(l.LFG(qb),l.LFG(Jy.e))},Qy.\u0275prov=l.Yz7({token:Qy,factory:Qy.\u0275fac,providedIn:"root"});class b_{constructor(e,t,i){this.actions$=e,this.tripService=t,this.store=i,this.getTrips$=oo(()=>this.actions$.pipe(Gi(Xs),(0,ji.M)(this.store.pipe((0,Zt.Ys)(Ou)),this.store.pipe((0,Zt.Ys)(gu))),(0,na.w)(([o,d,_])=>!0===d?this.tripService.getTrips().pipe((0,_e.U)(C=>ja({trips:C,tripsChanged:!1})),(0,Ht.K)(C=>(0,pe.of)(Ks({error:C.message})))):(0,pe.of)(ja({trips:_,tripsChanged:d}))))),this.newTrip$=oo(()=>this.actions$.pipe(Gi(Vo),(0,na.w)(o=>(0,Ga.D)(this.tripService.addNewTrip(o.trip)).pipe((0,_e.U)(d=>_c({trip:o.trip,id:d.id})),(0,Ht.K)(d=>(0,pe.of)(Ks({error:d.message}))))))),this.updateTrip$=oo(()=>this.actions$.pipe(Gi(_i),(0,ji.M)(this.store.pipe((0,Zt.Ys)(Wa))),(0,na.w)(([o,d])=>this.tripService.updateTrip(d).then(_=>el()).catch(_=>Ks({error:_.message}))))),this.updatePlace$=oo(()=>this.actions$.pipe(Gi(Ui),(0,ji.M)(this.store.pipe((0,Zt.Ys)(Wa))),(0,na.w)(([o,d])=>this.tripService.updatePlace(d).then(_=>el()).catch(_=>Ks({error:_.message})))))}}b_.\u0275fac=function(e){return new(e||b_)(l.LFG(hr),l.LFG(Qy),l.LFG(Zt.yh))},b_.\u0275prov=l.Yz7({token:b_,factory:b_.\u0275fac});const gS=(0,Zt.Lq)({isLoading:!1,trips:[],error:null,selectedTripId:null,tripsChanged:!0},(0,Zt.on)(Xs,n=>({...n,isLoading:!0})),(0,Zt.on)(ja,(n,e)=>({...n,isLoading:!1,trips:e.trips,tripsChanged:!1})),(0,Zt.on)(Vo,n=>({...n,isLoading:!0})),(0,Zt.on)(_c,(n,{trip:e,id:t})=>{let i=[...n.trips],o={...e,id:t};return i.unshift(o),{...n,isLoading:!1,trips:i,selectedTripId:t}}),(0,Zt.on)(Ks,(n,e)=>({...n,isLoading:!1,error:e.error})),(0,Zt.on)(_i,(n,e)=>({...n,trips:n.trips.map(t=>t.id===n.selectedTripId?{...t,...e.trip}:t),tripsChanged:!0})),(0,Zt.on)(Ui,(n,e)=>({...n,trips:n.trips.map(t=>{if(t.id===n.selectedTripId){const i=t.places.findIndex(o=>o.name===e.place.name);return{...t,places:[...t.places.slice(0,i),e.place,...t.places.slice(i+1)]}}return t}),tripsChanged:!0})),(0,Zt.on)(el,n=>n),(0,Zt.on)(Ul,(n,{tripId:e})=>({...n,selectedTripId:e})),(0,Zt.on)(ra,n=>n.selectedTripId?{...n,selectedTripId:null}:n));var cg=L(6159),U1=L(9770),mS=L(1144),_S=L(3268);const vS=["addListener","removeListener"],yS=["addEventListener","removeEventListener"],gE=["on","off"];function Qu(n,e,t,i){if((0,Dn.m)(t)&&(i=t,t=void 0),i)return Qu(n,e,t).pipe((0,_S.Z)(i));const[o,d]=function jT(n){return(0,Dn.m)(n.addEventListener)&&(0,Dn.m)(n.removeEventListener)}(n)?yS.map(_=>C=>n[_](e,C,t)):function mE(n){return(0,Dn.m)(n.addListener)&&(0,Dn.m)(n.removeListener)}(n)?vS.map(Kb(n,e)):function GT(n){return(0,Dn.m)(n.on)&&(0,Dn.m)(n.off)}(n)?gE.map(Kb(n,e)):[];if(!o&&(0,mS.z)(n))return(0,ii.z)(_=>Qu(_,e,t))((0,Xt.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new me.y(_=>{const C=(...O)=>_.next(1<O.length?O:O[0]);return o(C),()=>d(C)})}function Kb(n,e){return t=>i=>n[t](e,i)}var WT=L(7272);const df=new me.y(ue.Z);var $1=L(4033);const ES={connector:()=>new Se.x};function H1(n,e=ES){const{connector:t}=e;return(0,je.e)((i,o)=>{const d=t();(0,Xt.Xf)(n(function zT(n){return new me.y(e=>n.subscribe(e))}(d))).subscribe(o),o.add(i.subscribe(d))})}var w_=L(8505),W1=L(9718);function z1(n,e){return e?t=>(0,WT.z)(e.pipe((0,Ur.q)(1),Ae()),t.pipe(z1(n))):(0,ii.z)((t,i)=>n(t,i).pipe((0,Ur.q)(1),(0,W1.h)(t)))}var bS=L(3532),wS=L(1165);function Zb(n=0,e,t=ru.P){let i=-1;return null!=e&&((0,bS.K)(e)?t=e:i=e),new me.y(o=>{let d=(0,wS.q)(n)?+n-t.now():n;d<0&&(d=0);let _=0;return t.schedule(function(){o.closed||(o.next(_++),0<=i?this.schedule(void 0,i):o.complete())},d)})}function qT(n,e=ru.z){const t=Zb(n,e);return z1(()=>t)}const Xy="Service workers are disabled or not supported by this browser";class _E{constructor(e){if(this.serviceWorker=e,e){const i=Qu(e,"controllerchange").pipe((0,_e.U)(()=>e.controller)),o=(0,U1.P)(()=>(0,pe.of)(e.controller)),d=(0,WT.z)(o,i);this.worker=d.pipe((0,Ie.h)(Z=>!!Z)),this.registration=this.worker.pipe((0,na.w)(()=>e.getRegistration()));const $=Qu(e,"message").pipe((0,_e.U)(Z=>Z.data)).pipe((0,Ie.h)(Z=>Z&&Z.type)).pipe(function j1(n){return n?e=>H1(n)(e):e=>function G1(n,e){const t=(0,Dn.m)(n)?n:()=>n;return(0,Dn.m)(e)?H1(e,{connector:t}):i=>new $1.c(i,t)}(new Se.x)(e)}());$.connect(),this.events=$}else this.worker=this.events=this.registration=function TS(n){return(0,U1.P)(()=>(0,Kt._)(new Error(n)))}(Xy)}postMessage(e,t){return this.worker.pipe((0,Ur.q)(1),(0,w_.b)(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const o=this.waitForOperationCompleted(i),d=this.postMessage(e,t);return Promise.all([d,o]).then(([,_])=>_)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe((0,Ie.h)(t))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,Ur.q)(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ie.h)(t=>t.nonce===e),(0,Ur.q)(1),(0,_e.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let KT=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.subscriptionChanges=new Se.x,!t.isEnabled)return this.messages=df,this.notificationClicks=df,void(this.subscription=df);this.messages=this.sw.eventsOfType("PUSH").pipe((0,_e.U)(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,_e.U)(o=>o.data)),this.pushManager=this.sw.registration.pipe((0,_e.U)(o=>o.pushManager));const i=this.pushManager.pipe((0,na.w)(o=>o.getSubscription()));this.subscription=(0,Ue.T)(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Xy));const i={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),d=new Uint8Array(new ArrayBuffer(o.length));for(let _=0;_<o.length;_++)d[_]=o.charCodeAt(_);return i.applicationServerKey=d,this.pushManager.pipe((0,na.w)(_=>_.subscribe(i)),(0,Ur.q)(1)).toPromise().then(_=>(this.subscriptionChanges.next(_),_))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Ur.q)(1),(0,na.w)(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Xy))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_E))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ZT=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=df,this.available=df,this.activated=df,void(this.unrecoverable=df);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Ie.h)(i=>"VERSION_READY"===i.type),(0,_e.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xy));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xy));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_E))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class YT{}const Th=new l.OlP("NGSW_REGISTER_SCRIPT");function q1(n,e,t,i){return()=>{if(!(0,M.NF)(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[_,...C]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(_){case"registerImmediately":o=(0,pe.of)(null);break;case"registerWithDelay":o=vE(+C[0]||0);break;case"registerWhenStable":o=C[0]?(0,Ue.T)(JT(n),vE(+C[0])):JT(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>o.pipe((0,Ur.q)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(_=>console.error("Service worker registration failed with:",_))))}}function vE(n){return(0,pe.of)(null).pipe(qT(n))}function JT(n){return n.get(l.z2F).isStable.pipe((0,Ie.h)(t=>t))}function CS(n,e){return new _E((0,M.NF)(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Ch=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:Th,useValue:t},{provide:YT,useValue:i},{provide:_E,useFactory:CS,deps:[YT,l.Lbi]},{provide:l.ip1,useFactory:q1,deps:[l.zs3,Th,YT,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KT,ZT]}),n})();const{isArray:K1}=Array;function yE(n){return 1===n.length&&K1(n[0])?n[0]:n}var dg=L(1135),Yb=L(9841),XT=L(3269);function e0(...n){const e=(0,XT.jO)(n),t=yE(n);return t.length?new me.y(i=>{let o=t.map(()=>[]),d=t.map(()=>!1);i.add(()=>{o=d=null});for(let _=0;!i.closed&&_<t.length;_++)(0,Xt.Xf)(t[_]).subscribe((0,Ce.x)(i,C=>{if(o[_].push(C),o.every(O=>O.length)){const O=o.map($=>$.shift());i.next(e?e(...O):O),o.some(($,Z)=>!$.length&&d[Z])&&i.complete()}},()=>{d[_]=!0,!o[_].length&&i.complete()}));return()=>{o=d=null}}):vt.E}var _a=L(2722),Y1=L(5684),tC=L(8746),Bn=L(433),Jb={left:"right",right:"left",bottom:"top",top:"bottom"};function hf(n){return n.replace(/left|right|bottom|top/g,function(e){return Jb[e]})}function ff(n){return n.split("-")[0]}var Qb={start:"end",end:"start"};function up(n){return n.replace(/start|end/g,function(e){return Qb[e]})}var Lc="top",Dh="bottom",Ld="right",Bc="left",EE="auto",Fv=[Lc,Dh,Ld,Bc],Dm="start",Lv="end",J1="clippingParents",Xb="viewport",T_="popper",Q1="reference",t0=Fv.reduce(function(n,e){return n.concat([e+"-"+Dm,e+"-"+Lv])},[]),bE=[].concat(Fv,[EE]).reduce(function(n,e){return n.concat([e,e+"-"+Dm,e+"-"+Lv])},[]),ew="beforeRead",tw="read",nw="afterRead",rw="beforeMain",n0="main",r0="afterMain",iw="beforeWrite",nC="write",rC="afterWrite",iC=[ew,tw,nw,rw,n0,r0,iw,nC,rC];function pf(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Bv(n){return n instanceof pf(n).Element||n instanceof Element}function Bd(n){return n instanceof pf(n).HTMLElement||n instanceof HTMLElement}function sw(n){return!(typeof ShadowRoot>"u")&&(n instanceof pf(n).ShadowRoot||n instanceof ShadowRoot)}function Sm(n){return((Bv(n)?n.ownerDocument:n.document)||window.document).documentElement}var C_=Math.max,ow=Math.min,s0=Math.round;function sC(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function X1(){return!/^((?!chrome|android).)*safari/i.test(sC())}function o0(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=n.getBoundingClientRect(),o=1,d=1;e&&Bd(n)&&(o=n.offsetWidth>0&&s0(i.width)/n.offsetWidth||1,d=n.offsetHeight>0&&s0(i.height)/n.offsetHeight||1);var C=(Bv(n)?pf(n):window).visualViewport,O=!X1()&&t,$=(i.left+(O&&C?C.offsetLeft:0))/o,Z=(i.top+(O&&C?C.offsetTop:0))/d,fe=i.width/o,xe=i.height/d;return{width:fe,height:xe,top:Z,right:$+fe,bottom:Z+xe,left:$,x:$,y:Z}}function aw(n){var e=pf(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Uv(n){return o0(Sm(n)).left+aw(n).scrollLeft}function hg(n){return pf(n).getComputedStyle(n)}function mc(n){return n?(n.nodeName||"").toLowerCase():null}function a0(n){return"html"===mc(n)?n:n.assignedSlot||n.parentNode||(sw(n)?n.host:null)||Sm(n)}function u0(n){var e=hg(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function wE(n){return["html","body","#document"].indexOf(mc(n))>=0?n.ownerDocument.body:Bd(n)&&u0(n)?n:wE(a0(n))}function l0(n,e){var t;void 0===e&&(e=[]);var i=wE(n),o=i===(null==(t=n.ownerDocument)?void 0:t.body),d=pf(i),_=o?[d].concat(d.visualViewport||[],u0(i)?i:[]):i,C=e.concat(_);return o?C:C.concat(l0(a0(_)))}function uw(n){return["table","td","th"].indexOf(mc(n))>=0}function TE(n){return Bd(n)&&"fixed"!==hg(n).position?n.offsetParent:null}function DE(n){for(var e=pf(n),t=TE(n);t&&uw(t)&&"static"===hg(t).position;)t=TE(t);return t&&("html"===mc(t)||"body"===mc(t)&&"static"===hg(t).position)?e:t||function CE(n){var e=/firefox/i.test(sC());if(/Trident/i.test(sC())&&Bd(n)&&"fixed"===hg(n).position)return null;var o=a0(n);for(sw(o)&&(o=o.host);Bd(o)&&["html","body"].indexOf(mc(o))<0;){var d=hg(o);if("none"!==d.transform||"none"!==d.perspective||"paint"===d.contain||-1!==["transform","perspective"].indexOf(d.willChange)||e&&"filter"===d.willChange||e&&d.filter&&"none"!==d.filter)return o;o=o.parentNode}return null}(n)||e}function tD(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&sw(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function aC(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function lw(n,e,t){return e===Xb?aC(function eD(n,e){var t=pf(n),i=Sm(n),o=t.visualViewport,d=i.clientWidth,_=i.clientHeight,C=0,O=0;if(o){d=o.width,_=o.height;var $=X1();($||!$&&"fixed"===e)&&(C=o.offsetLeft,O=o.offsetTop)}return{width:d,height:_,x:C+Uv(n),y:O}}(n,t)):Bv(e)?function DS(n,e){var t=o0(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):aC(function oC(n){var e,t=Sm(n),i=aw(n),o=null==(e=n.ownerDocument)?void 0:e.body,d=C_(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),_=C_(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),C=-i.scrollLeft+Uv(n),O=-i.scrollTop;return"rtl"===hg(o||t).direction&&(C+=C_(t.clientWidth,o?o.clientWidth:0)-d),{width:d,height:_,x:C,y:O}}(Sm(n)))}function Vv(n){return n.split("-")[1]}function cw(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function dw(n){var O,e=n.reference,t=n.element,i=n.placement,o=i?ff(i):null,d=i?Vv(i):null,_=e.x+e.width/2-t.width/2,C=e.y+e.height/2-t.height/2;switch(o){case Lc:O={x:_,y:e.y-t.height};break;case Dh:O={x:_,y:e.y+e.height};break;case Ld:O={x:e.x+e.width,y:C};break;case Bc:O={x:e.x-t.width,y:C};break;default:O={x:e.x,y:e.y}}var $=o?cw(o):null;if(null!=$){var Z="y"===$?"height":"width";switch(d){case Dm:O[$]=O[$]-(e[Z]/2-t[Z]/2);break;case Lv:O[$]=O[$]+(e[Z]/2-t[Z]/2)}}return O}function fw(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function uC(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}function $v(n,e){void 0===e&&(e={});var i=e.placement,o=void 0===i?n.placement:i,d=e.strategy,_=void 0===d?n.strategy:d,C=e.boundary,O=void 0===C?J1:C,$=e.rootBoundary,Z=void 0===$?Xb:$,fe=e.elementContext,xe=void 0===fe?T_:fe,We=e.altBoundary,ft=void 0!==We&&We,kt=e.padding,fn=void 0===kt?0:kt,Gn=fw("number"!=typeof fn?fn:uC(fn,Fv)),Lr=n.rects.popper,jr=n.elements[ft?xe===T_?Q1:T_:xe],vr=function rD(n,e,t,i){var o="clippingParents"===e?function nD(n){var e=l0(a0(n)),i=["absolute","fixed"].indexOf(hg(n).position)>=0&&Bd(n)?DE(n):n;return Bv(i)?e.filter(function(o){return Bv(o)&&tD(o,i)&&"body"!==mc(o)}):[]}(n):[].concat(e),d=[].concat(o,[t]),C=d.reduce(function(O,$){var Z=lw(n,$,i);return O.top=C_(Z.top,O.top),O.right=ow(Z.right,O.right),O.bottom=ow(Z.bottom,O.bottom),O.left=C_(Z.left,O.left),O},lw(n,d[0],i));return C.width=C.right-C.left,C.height=C.bottom-C.top,C.x=C.left,C.y=C.top,C}(Bv(jr)?jr:jr.contextElement||Sm(n.elements.popper),O,Z,_),Dr=o0(n.elements.reference),$i=dw({reference:Dr,element:Lr,strategy:"absolute",placement:o}),Qs=aC(Object.assign({},Lr,$i)),Ql=xe===T_?Qs:Dr,Xl={top:vr.top-Ql.top+Gn.top,bottom:Ql.bottom-vr.bottom+Gn.bottom,left:vr.left-Ql.left+Gn.left,right:Ql.right-vr.right+Gn.right},ml=n.modifiersData.offset;if(xe===T_&&ml){var _g=ml[o];Object.keys(Xl).forEach(function(Ud){var T0=[Ld,Dh].indexOf(Ud)>=0?1:-1,C0=[Lc,Dh].indexOf(Ud)>=0?"y":"x";Xl[Ud]+=_g[C0]*T0})}return Xl}const SE={name:"flip",enabled:!0,phase:"main",fn:function SS(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var o=t.mainAxis,d=void 0===o||o,_=t.altAxis,C=void 0===_||_,O=t.fallbackPlacements,$=t.padding,Z=t.boundary,fe=t.rootBoundary,xe=t.altBoundary,We=t.flipVariations,ft=void 0===We||We,kt=t.allowedAutoPlacements,fn=e.options.placement,Gn=ff(fn),Lr=O||(Gn!==fn&&ft?function pw(n){if(ff(n)===EE)return[];var e=hf(n);return[up(n),e,up(e)]}(fn):[hf(fn)]),jr=[fn].concat(Lr).reduce(function(zE,Qv){return zE.concat(ff(Qv)===EE?function lC(n,e){void 0===e&&(e={});var o=e.boundary,d=e.rootBoundary,_=e.padding,C=e.flipVariations,O=e.allowedAutoPlacements,$=void 0===O?bE:O,Z=Vv(e.placement),fe=Z?C?t0:t0.filter(function(ft){return Vv(ft)===Z}):Fv,xe=fe.filter(function(ft){return $.indexOf(ft)>=0});0===xe.length&&(xe=fe);var We=xe.reduce(function(ft,kt){return ft[kt]=$v(n,{placement:kt,boundary:o,rootBoundary:d,padding:_})[ff(kt)],ft},{});return Object.keys(We).sort(function(ft,kt){return We[ft]-We[kt]})}(e,{placement:Qv,boundary:Z,rootBoundary:fe,padding:$,flipVariations:ft,allowedAutoPlacements:kt}):Qv)},[]),vr=e.rects.reference,Dr=e.rects.popper,$i=new Map,Qs=!0,Ql=jr[0],Xl=0;Xl<jr.length;Xl++){var ml=jr[Xl],_g=ff(ml),Ud=Vv(ml)===Dm,T0=[Lc,Dh].indexOf(_g)>=0,C0=T0?"width":"height",gf=$v(e,{placement:ml,boundary:Z,rootBoundary:fe,altBoundary:xe,padding:$}),vg=T0?Ud?Ld:Bc:Ud?Dh:Lc;vr[C0]>Dr[C0]&&(vg=hf(vg));var WC=hf(vg),D0=[];if(d&&D0.push(gf[_g]<=0),C&&D0.push(gf[vg]<=0,gf[WC]<=0),D0.every(function(zE){return zE})){Ql=ml,Qs=!1;break}$i.set(ml,D0)}if(Qs)for(var XD=function(Qv){var Zw=jr.find(function(KC){var S0=$i.get(KC);if(S0)return S0.slice(0,Qv).every(function(eS){return eS})});if(Zw)return Ql=Zw,"break"},Kw=ft?3:1;Kw>0&&"break"!==XD(Kw);Kw--);e.placement!==Ql&&(e.modifiersData[i]._skip=!0,e.placement=Ql,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function c0(n,e,t){return C_(n,ow(e,t))}function cC(n){var e=o0(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}const dC={name:"preventOverflow",enabled:!0,phase:"main",fn:function IS(n){var e=n.state,t=n.options,i=n.name,o=t.mainAxis,d=void 0===o||o,_=t.altAxis,C=void 0!==_&&_,xe=t.tether,We=void 0===xe||xe,ft=t.tetherOffset,kt=void 0===ft?0:ft,fn=$v(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),Gn=ff(e.placement),ur=Vv(e.placement),Lr=!ur,jr=cw(Gn),vr=function gw(n){return"x"===n?"y":"x"}(jr),Dr=e.modifiersData.popperOffsets,$i=e.rects.reference,Qs=e.rects.popper,Ql="function"==typeof kt?kt(Object.assign({},e.rects,{placement:e.placement})):kt,Xl="number"==typeof Ql?{mainAxis:Ql,altAxis:Ql}:Object.assign({mainAxis:0,altAxis:0},Ql),ml=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,_g={x:0,y:0};if(Dr){if(d){var Ud,T0="y"===jr?Lc:Bc,C0="y"===jr?Dh:Ld,gf="y"===jr?"height":"width",vg=Dr[jr],WC=vg+fn[T0],D0=vg-fn[C0],zC=We?-Qs[gf]/2:0,XD=ur===Dm?$i[gf]:Qs[gf],Kw=ur===Dm?-Qs[gf]:-$i[gf],qC=e.elements.arrow,zE=We&&qC?cC(qC):{width:0,height:0},Qv=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Zw=Qv[T0],KC=Qv[C0],S0=c0(0,$i[gf],zE[gf]),eS=Lr?$i[gf]/2-zC-S0-Zw-Xl.mainAxis:XD-S0-Zw-Xl.mainAxis,tL=Lr?-$i[gf]/2+zC+S0+KC+Xl.mainAxis:Kw+S0+KC+Xl.mainAxis,tS=e.elements.arrow&&DE(e.elements.arrow),JA=null!=(Ud=ml?.[jr])?Ud:0,iL=vg+tL-JA,QA=c0(We?ow(WC,vg+eS-JA-(tS?"y"===jr?tS.clientTop||0:tS.clientLeft||0:0)):WC,vg,We?C_(D0,iL):D0);Dr[jr]=QA,_g[jr]=QA-vg}if(C){var XA,I0=Dr[vr],ZC="y"===vr?"height":"width",ex=I0+fn["x"===jr?Lc:Bc],tx=I0-fn["x"===jr?Dh:Ld],nS=-1!==[Lc,Bc].indexOf(Gn),nx=null!=(XA=ml?.[vr])?XA:0,rx=nS?ex:I0-$i[ZC]-Qs[ZC]-nx+Xl.altAxis,ix=nS?I0+$i[ZC]+Qs[ZC]-nx-Xl.altAxis:tx,sx=We&&nS?function iD(n,e,t){var i=c0(n,e,t);return i>t?t:i}(rx,I0,ix):c0(We?rx:ex,I0,We?ix:tx);Dr[vr]=sx,_g[vr]=sx-I0}e.modifiersData[i]=_g}},requiresIfExists:["offset"]},hC={name:"arrow",enabled:!0,phase:"main",fn:function sD(n){var e,t=n.state,i=n.name,o=n.options,d=t.elements.arrow,_=t.modifiersData.popperOffsets,C=ff(t.placement),O=cw(C),Z=[Bc,Ld].indexOf(C)>=0?"height":"width";if(d&&_){var fe=function(e,t){return fw("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:uC(e,Fv))}(o.padding,t),xe=cC(d),We="y"===O?Lc:Bc,ft="y"===O?Dh:Ld,kt=t.rects.reference[Z]+t.rects.reference[O]-_[O]-t.rects.popper[Z],fn=_[O]-t.rects.reference[O],Gn=DE(d),ur=Gn?"y"===O?Gn.clientHeight||0:Gn.clientWidth||0:0,Dr=ur/2-xe[Z]/2+(kt/2-fn/2),$i=c0(fe[We],Dr,ur-xe[Z]-fe[ft]);t.modifiersData[i]=((e={})[O]=$i,e.centerOffset=$i-Dr,e)}},effect:function xS(n){var e=n.state,i=n.options.element,o=void 0===i?"[data-popper-arrow]":i;null!=o&&("string"==typeof o&&!(o=e.elements.popper.querySelector(o))||tD(e.elements.popper,o)&&(e.elements.arrow=o))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oD(n,e,t){void 0===t&&(t=!1);var i=Bd(e),o=Bd(e)&&function OS(n){var e=n.getBoundingClientRect(),t=s0(e.width)/n.offsetWidth||1,i=s0(e.height)/n.offsetHeight||1;return 1!==t||1!==i}(e),d=Sm(e),_=o0(n,o,t),C={scrollLeft:0,scrollTop:0},O={x:0,y:0};return(i||!i&&!t)&&(("body"!==mc(e)||u0(d))&&(C=function NS(n){return n!==pf(n)&&Bd(n)?function MS(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):aw(n)}(e)),Bd(e)?((O=o0(e,!0)).x+=e.clientLeft,O.y+=e.clientTop):d&&(O.x=Uv(d))),{x:_.left+C.scrollLeft-O.x,y:_.top+C.scrollTop-O.y,width:_.width,height:_.height}}function RS(n){var e=new Map,t=new Set,i=[];function o(d){t.add(d.name),[].concat(d.requires||[],d.requiresIfExists||[]).forEach(function(C){if(!t.has(C)){var O=e.get(C);O&&o(O)}}),i.push(d)}return n.forEach(function(d){e.set(d.name,d)}),n.forEach(function(d){t.has(d.name)||o(d)}),i}function kS(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var s={placement:"bottom",modifiers:[],strategy:"absolute"};function a(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function c(n){void 0===n&&(n={});var t=n.defaultModifiers,i=void 0===t?[]:t,o=n.defaultOptions,d=void 0===o?s:o;return function(C,O,$){void 0===$&&($=d);var Z={placement:"bottom",orderedModifiers:[],options:Object.assign({},s,d),modifiersData:{},elements:{reference:C,popper:O},attributes:{},styles:{}},fe=[],xe=!1,We={state:Z,setOptions:function(Gn){var ur="function"==typeof Gn?Gn(Z.options):Gn;kt(),Z.options=Object.assign({},d,Z.options,ur),Z.scrollParents={reference:Bv(C)?l0(C):C.contextElement?l0(C.contextElement):[],popper:l0(O)};var Lr=function PS(n){var e=RS(n);return iC.reduce(function(t,i){return t.concat(e.filter(function(o){return o.phase===i}))},[])}(function FS(n){var e=n.reduce(function(t,i){var o=t[i.name];return t[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,Z.options.modifiers)));return Z.orderedModifiers=Lr.filter(function(ml){return ml.enabled}),function ft(){Z.orderedModifiers.forEach(function(fn){var ur=fn.options,jr=fn.effect;if("function"==typeof jr){var vr=jr({state:Z,name:fn.name,instance:We,options:void 0===ur?{}:ur});fe.push(vr||function(){})}})}(),We.update()},forceUpdate:function(){if(!xe){var Gn=Z.elements,ur=Gn.reference,Lr=Gn.popper;if(a(ur,Lr)){Z.rects={reference:oD(ur,DE(Lr),"fixed"===Z.options.strategy),popper:cC(Lr)},Z.reset=!1,Z.placement=Z.options.placement,Z.orderedModifiers.forEach(function(ml){return Z.modifiersData[ml.name]=Object.assign({},ml.data)});for(var vr=0;vr<Z.orderedModifiers.length;vr++)if(!0!==Z.reset){var Dr=Z.orderedModifiers[vr],$i=Dr.fn,Qs=Dr.options;"function"==typeof $i&&(Z=$i({state:Z,options:void 0===Qs?{}:Qs,name:Dr.name,instance:We})||Z)}else Z.reset=!1,vr=-1}}},update:kS(function(){return new Promise(function(fn){We.forceUpdate(),fn(Z)})}),destroy:function(){kt(),xe=!0}};if(!a(C,O))return We;function kt(){fe.forEach(function(fn){return fn()}),fe=[]}return We.setOptions($).then(function(fn){!xe&&$.onFirstUpdate&&$.onFirstUpdate(fn)}),We}}var g=c(),m={passive:!0};const A={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function E(n){var e=n.state,t=n.instance,i=n.options,o=i.scroll,d=void 0===o||o,_=i.resize,C=void 0===_||_,O=pf(e.elements.popper),$=[].concat(e.scrollParents.reference,e.scrollParents.popper);return d&&$.forEach(function(Z){Z.addEventListener("scroll",t.update,m)}),C&&O.addEventListener("resize",t.update,m),function(){d&&$.forEach(function(Z){Z.removeEventListener("scroll",t.update,m)}),C&&O.removeEventListener("resize",t.update,m)}},data:{}},j={name:"popperOffsets",enabled:!0,phase:"read",fn:function k(n){var e=n.state;e.modifiersData[n.name]=dw({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var X={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Re(n){var e,t=n.popper,i=n.popperRect,o=n.placement,d=n.variation,_=n.offsets,C=n.position,O=n.gpuAcceleration,$=n.adaptive,Z=n.roundOffsets,fe=n.isFixed,xe=_.x,We=void 0===xe?0:xe,ft=_.y,kt=void 0===ft?0:ft,fn="function"==typeof Z?Z({x:We,y:kt}):{x:We,y:kt};We=fn.x,kt=fn.y;var Gn=_.hasOwnProperty("x"),ur=_.hasOwnProperty("y"),Lr=Bc,jr=Lc,vr=window;if($){var Dr=DE(t),$i="clientHeight",Qs="clientWidth";Dr===pf(t)&&"static"!==hg(Dr=Sm(t)).position&&"absolute"===C&&($i="scrollHeight",Qs="scrollWidth"),(o===Lc||(o===Bc||o===Ld)&&d===Lv)&&(jr=Dh,kt-=(fe&&Dr===vr&&vr.visualViewport?vr.visualViewport.height:Dr[$i])-i.height,kt*=O?1:-1),o!==Bc&&(o!==Lc&&o!==Dh||d!==Lv)||(Lr=Ld,We-=(fe&&Dr===vr&&vr.visualViewport?vr.visualViewport.width:Dr[Qs])-i.width,We*=O?1:-1)}var Ud,ml=Object.assign({position:C},$&&X),_g=!0===Z?function le(n){var t=n.y,o=window.devicePixelRatio||1;return{x:s0(n.x*o)/o||0,y:s0(t*o)/o||0}}({x:We,y:kt}):{x:We,y:kt};return We=_g.x,kt=_g.y,Object.assign({},ml,O?((Ud={})[jr]=ur?"0":"",Ud[Lr]=Gn?"0":"",Ud.transform=(vr.devicePixelRatio||1)<=1?"translate("+We+"px, "+kt+"px)":"translate3d("+We+"px, "+kt+"px, 0)",Ud):((e={})[jr]=ur?kt+"px":"",e[Lr]=Gn?We+"px":"",e.transform="",e))}const Tt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Xe(n){var e=n.state,t=n.options,i=t.gpuAcceleration,o=void 0===i||i,d=t.adaptive,_=void 0===d||d,C=t.roundOffsets,O=void 0===C||C,Z={placement:ff(e.placement),variation:Vv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Re(Object.assign({},Z,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:_,roundOffsets:O})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Re(Object.assign({},Z,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:O})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},Yn={name:"applyStyles",enabled:!0,phase:"write",fn:function tn(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},o=e.attributes[t]||{},d=e.elements[t];!Bd(d)||!mc(d)||(Object.assign(d.style,i),Object.keys(o).forEach(function(_){var C=o[_];!1===C?d.removeAttribute(_):d.setAttribute(_,!0===C?"":C)}))})},effect:function Rn(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],d=e.attributes[i]||{},C=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(O,$){return O[$]="",O},{});!Bd(o)||!mc(o)||(Object.assign(o.style,C),Object.keys(d).forEach(function(O){o.removeAttribute(O)}))})}},requires:["computeStyles"]};var ei=c({defaultModifiers:[A,j,Tt,Yn]});const va={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ki(n){var e=n.state,i=n.name,o=n.options.offset,d=void 0===o?[0,0]:o,_=bE.reduce(function(Z,fe){return Z[fe]=function bn(n,e,t){var i=ff(n),o=[Bc,Lc].indexOf(i)>=0?-1:1,d="function"==typeof t?t(Object.assign({},e,{placement:n})):t,_=d[0],C=d[1];return _=_||0,C=(C||0)*o,[Bc,Ld].indexOf(i)>=0?{x:C,y:_}:{x:_,y:C}}(fe,e.rects,d),Z},{}),C=_[e.placement],$=C.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=C.x,e.modifiersData.popperOffsets.y+=$),e.modifiersData[i]=_}};function xu(n,e){}function BS(n,e){if(1&n&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,xu,0,0,"ng-template",4),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngbPanelToggle",t),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function ax(n,e){}function ux(n,e){}function lx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(o){l.CHM(t);const d=l.oxw().$implicit;return l.KtG(d.panelDiv=o)}),l.TgZ(1,"div",9),l.YNc(2,ux,0,0,"ng-template",4),l.qZA()()}if(2&n){const t=l.oxw().$implicit;l.s9C("id",t.id),l.uIk("aria-labelledby",t.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}const cx=function(n,e){return{$implicit:n,opened:e}};function dx(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,ax,0,0,"ng-template",6),l.qZA(),l.YNc(3,lx,3,3,"div",7),l.qZA()),2&n){const t=e.$implicit,i=l.oxw(),o=l.MAs(1);l.Tol("accordion-item "+(t.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(t.type?"bg-"+t.type:i.type?"bg-"+i.type:"")),l.MGl("id","",t.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||o)("ngTemplateOutletContext",l.WLB(8,cx,t,t.isOpen)),l.xp6(1),l.Q6J("ngIf",!i.destroyOnHide||t.isOpen||t.transitionRunning)}}function hx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.close())}),l.qZA()}}const mw=["*"];function fx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return _.focus(),l.KtG(_.select(d.id,_.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&n){const t=e.$implicit,i=l.oxw();l.ekj("active",t.id===i.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===i.activeId)}}function px(n,e){}function gx(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,px,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,i=e.index,o=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(i+1)(o),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function mx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function _x(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const vx=["ngbDatepickerDayView",""],yx=["month"],Ex=["year"];function bx(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("value",t),l.uIk("aria-label",i.i18n.getMonthFullName(t,i.date.year)),l.xp6(1),l.Oqu(i.i18n.getMonthShortName(t,i.date.year))}}function wx(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(i.i18n.getYearNumerals(t))}}function Tx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(o){l.CHM(t);const d=l.oxw();return l.KtG(d.select.emit(o))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function Cx(n,e){1&n&&l._UZ(0,"div",0)}function Dx(n,e){1&n&&l._UZ(0,"div",0)}function Sx(n,e){if(1&n&&(l.YNc(0,Cx,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,Dx,1,0,"div",9)),2&n){const t=e.$implicit,i=e.index,o=l.oxw(2);l.Q6J("ngIf",i>0),l.xp6(2),l.hij(" ",o.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",i!==o.months.length-1)}}function Ix(n,e){if(1&n&&l.YNc(0,Sx,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}function Ax(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function xx(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function Mx(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,Ax,2,1,"div",3),l.YNc(2,xx,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function Nx(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,i=l.oxw();l.xp6(1),l.Oqu(i.i18n.getWeekNumerals(t.number))}}function Ox(n,e){}function Rx(n,e){if(1&n&&l.YNc(0,Ox,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,i=l.oxw(3);l.Q6J("ngTemplateOutlet",i.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function Px(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(o){const _=l.CHM(t).$implicit;return l.oxw(3).doSelect(_),l.KtG(o.preventDefault())}),l.YNc(1,Rx,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function kx(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,Nx,2,1,"div",9),l.YNc(2,Px,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw();l.xp6(1),l.Q6J("ngIf",i.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function Fx(n,e){1&n&&l.YNc(0,kx,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const Lx=["defaultDayTemplate"],Bx=["content"];function Ux(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const i=e.currentMonth,o=e.selected,d=e.disabled,_=e.focused;l.Q6J("date",e.date)("currentMonth",i)("selected",o)("disabled",d)("focused",_)}}function Vx(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw(2);l.xp6(1),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," ")}}function $x(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,Vx,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,i=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===i.navigation||i.displayMonths>1&&"select"===i.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function Hx(n,e){if(1&n&&l.YNc(0,$x,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function Gx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(o){l.CHM(t);const d=l.oxw();return l.KtG(d.onNavigateEvent(o))})("select",function(o){l.CHM(t);const d=l.oxw();return l.KtG(d.onNavigateDateSelect(o))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function jx(n,e){}function Wx(n,e){}const zx=["dialog"],qx=["ngbNavOutlet",""];function Kx(n,e){}const Zx=function(n){return{$implicit:n}};function Yx(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,Kx,0,0,"ng-template",3),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw();l.Q6J("item",t)("nav",i.nav)("role",i.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,Zx,t.active||i.isPanelTransitioning(t)))}}function Jx(n,e){if(1&n&&l.YNc(0,Yx,2,7,"div",1),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngIf",t.isPanelInDom()||i.isPanelTransitioning(t))}}function Qx(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function Xx(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function eM(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function tM(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function nM(n,e){1&n&&l._uU(0,"...")}function rM(n,e){1&n&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function iM(n,e){if(1&n&&(l._uU(0),l.YNc(1,rM,2,0,"span",14)),2&n){const t=e.$implicit,i=e.currentPage;l.hij(" ",t," "),l.xp6(1),l.Q6J("ngIf",t===i)}}function sM(n,e){}const oM=function(n){return{disabled:!0,currentPage:n}};function aM(n,e){if(1&n&&(l.TgZ(0,"a",20),l.YNc(1,sM,0,0,"ng-template",8),l.qZA()),2&n){const t=l.oxw(2).$implicit,i=l.oxw(),o=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||o)("ngTemplateOutletContext",l.VKq(2,oM,t))}}function uM(n,e){}const lM=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function cM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(o){l.CHM(t);const d=l.oxw().$implicit;return l.oxw(2).selectPage(d),l.KtG(o.preventDefault())}),l.YNc(1,uM,0,0,"ng-template",8),l.qZA()}if(2&n){const t=l.oxw().$implicit,i=l.oxw(),o=i.disabled,d=i.$implicit,_=l.oxw(),C=l.MAs(11);l.uIk("tabindex",o?"-1":null)("aria-disabled",o?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==_.tplNumber?null:_.tplNumber.templateRef)||C)("ngTemplateOutletContext",l.kEZ(4,lM,o,t,d))}}function dM(n,e){if(1&n&&(l.TgZ(0,"li",17),l.YNc(1,aM,2,4,"a",18),l.YNc(2,cM,2,8,"a",19),l.qZA()),2&n){const t=e.$implicit,i=l.oxw(),o=i.$implicit,d=i.disabled,_=l.oxw();l.ekj("active",t===o)("disabled",_.isEllipsis(t)||d),l.uIk("aria-current",t===o?"page":null),l.xp6(1),l.Q6J("ngIf",_.isEllipsis(t)),l.xp6(1),l.Q6J("ngIf",!_.isEllipsis(t))}}function hM(n,e){1&n&&l.YNc(0,dM,3,7,"li",16),2&n&&l.Q6J("ngForOf",e.pages)}function fM(n,e){}const aD=function(n,e){return{disabled:n,currentPage:e}};function pM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(o){return l.CHM(t),l.oxw().selectPage(1),l.KtG(o.preventDefault())}),l.YNc(2,fM,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),i=l.MAs(1);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,aD,t.previousDisabled(),t.page))}}function gM(n,e){}const mM=function(n){return{disabled:n}};function _M(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(o){l.CHM(t);const d=l.oxw();return d.selectPage(d.page-1),l.KtG(o.preventDefault())}),l.YNc(2,gM,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),i=l.MAs(3);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||i)("ngTemplateOutletContext",l.VKq(6,mM,t.previousDisabled()))}}function vM(n,e){}function yM(n,e){}function EM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(o){l.CHM(t);const d=l.oxw();return d.selectPage(d.page+1),l.KtG(o.preventDefault())}),l.YNc(2,yM,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),i=l.MAs(5);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,aD,t.nextDisabled(),t.page))}}function bM(n,e){}function wM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(o){l.CHM(t);const d=l.oxw();return d.selectPage(d.pageCount),l.KtG(o.preventDefault())}),l.YNc(2,bM,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),i=l.MAs(7);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,aD,t.nextDisabled(),t.page))}}const TM=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function SM(n,e){if(1&n&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,t.getValue()/t.max)),l.QtT(1)}}function IM(n,e){1&n&&l._uU(0),2&n&&l.Oqu(100===e.fill?"\u2605":"\u2606")}function AM(n,e){}function xM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const d=l.CHM(t).index,_=l.oxw();return l.KtG(_.enter(d+1))})("click",function(){const d=l.CHM(t).index,_=l.oxw();return l.KtG(_.handleClick(d+1))}),l.YNc(3,AM,0,0,"ng-template",4),l.qZA()}if(2&n){const t=e.index,i=l.oxw(),o=l.MAs(1);l.xp6(1),l.hij("(",t<i.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",i.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||o)("ngTemplateOutletContext",i.contexts[t])}}function MM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.changeHour(o.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function NM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.changeHour(-o.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function OM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.changeMinute(o.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function RM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.changeMinute(-o.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function PM(n,e){1&n&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function kM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const o=l.oxw(2);return l.KtG(o.changeSecond(o.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function FM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const o=l.oxw(2);return l.KtG(o.changeSecond(-o.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function LM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.YNc(1,kM,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(o){l.CHM(t);const d=l.oxw();return l.KtG(d.updateSecond(o.target.value))})("blur",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.handleBlur())})("input",function(o){l.CHM(t);const d=l.oxw();return l.KtG(d.formatInput(o.target))})("keydown.ArrowUp",function(o){l.CHM(t);const d=l.oxw();return d.changeSecond(d.secondStep),l.KtG(o.preventDefault())})("keydown.ArrowDown",function(o){l.CHM(t);const d=l.oxw();return d.changeSecond(-d.secondStep),l.KtG(o.preventDefault())}),l.qZA(),l.YNc(3,FM,4,7,"button",3),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.spinners),l.xp6(1),l.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),l.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),l.xp6(1),l.Q6J("ngIf",t.spinners)}}function BM(n,e){1&n&&l._UZ(0,"div",5)}function UM(n,e){if(1&n&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.i18n.getAfternoonPeriod()),l.QtT(1)}}function VM(n,e){if(1&n&&l.SDv(0,28),2&n){const t=l.oxw(2);l.pQV(t.i18n.getMorningPeriod()),l.QtT(0)}}function $M(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.toggleMeridian())}),l.YNc(2,UM,2,1,"ng-container",25),l.YNc(3,VM,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&n){const t=l.MAs(4),i=l.oxw();l.xp6(1),l.ekj("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),l.Q6J("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.model&&i.model.hour>=12)("ngIfElse",t)}}function HM(n,e){if(1&n&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.header)}}function GM(n,e){}function jM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.YNc(1,GM,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.hide())}),l.qZA()()}if(2&n){const t=l.oxw(),i=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentHeaderTpl||i)}}function WM(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw();l.Tol(i.highlightClass),l.xp6(1),l.Oqu(t)}}function zM(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t)}}function qM(n,e){if(1&n&&(l.YNc(0,WM,2,3,"span",1),l.YNc(1,zM,1,1,"ng-template",null,2,l.W1O)),2&n){const t=e.odd,i=l.MAs(2);l.Q6J("ngIf",t)("ngIfElse",i)}}function Uc(n){return parseInt(`${n}`,10)}function US(n){return null!=n?`${n}`:""}function fC(n,e,t=0){return Math.max(Math.min(n,e),t)}function IE(n){return"string"==typeof n}function Xu(n){return!isNaN(Uc(n))}function Mu(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Im(n){return null!=n}function VS(n){return n&&n.then}function AE(n){return Xu(n)?`0${n}`.slice(-2):""}function $S(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function Hv(n){return(n||document.body).getBoundingClientRect()}function HS(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const GS={animation:!0,transitionTimerDelayMs:5},eN=()=>{},{transitionTimerDelayMs:tN}=GS,_w=new Map,Nu=(n,e,t,i)=>{let o=i.context||{};const d=_w.get(e);if(d)switch(i.runningTransition){case"continue":return vt.E;case"stop":n.run(()=>d.transition$.complete()),o=Object.assign(d.context,o),_w.delete(e)}const _=t(e,i.animation,o)||eN;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>_()),(0,pe.of)(void 0).pipe(function QM(n){return e=>new me.y(t=>e.subscribe({next:_=>n.run(()=>t.next(_)),error:_=>n.run(()=>t.error(_)),complete:()=>n.run(()=>t.complete())}))}(n));const C=new Se.x,O=new Se.x,$=C.pipe(function eC(...n){return e=>(0,WT.z)(e,(0,pe.of)(...n))}(!0));_w.set(e,{transition$:C,complete:()=>{O.next(),O.complete()},context:o});const Z=function XM(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const fe=Qu(e,"transitionend").pipe((0,_a.R)($),(0,Ie.h)(({target:We})=>We===e));(function QT(...n){return 1===(n=yE(n)).length?(0,Xt.Xf)(n[0]):new me.y(function Z1(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Xt.Xf)(n[i]).subscribe((0,Ce.x)(e,o=>{if(t){for(let d=0;d<t.length;d++)d!==i&&t[d].unsubscribe();t=null}e.next(o)})))}}(n))})(Zb(Z+tN).pipe((0,_a.R)($)),fe,O).pipe((0,_a.R)($)).subscribe(()=>{_w.delete(e),n.run(()=>{_(),C.next(),C.complete()})})}),C.asObservable()},uD=(n,e,t)=>{let{direction:i,maxSize:o,dimension:d}=t;const{classList:_}=n;function C(){_.add("collapse"),"show"===i?_.add("show"):_.remove("show")}if(e)return o||(o=function rN(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,i=t.contains("show");i||t.add("show"),n.style[e]="";const o=n.getBoundingClientRect()[e]+"px";return i||t.remove("show"),o}(n,d),t.maxSize=o,n.style[d]="show"!==i?o:"0px",_.remove("collapse"),_.remove("collapsing"),_.remove("show"),Hv(n),_.add("collapsing")),n.style[d]="show"===i?o:"0px",()=>{C(),_.remove("collapsing"),n.style[d]=""};C()};let Gv=(()=>{class n{constructor(){this.animation=GS.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iN=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sN=0,lD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),cD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),dD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),pC=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+sN++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,i,o){if(1&t&&(l.Suo(o,cD,4),l.Suo(o,lD,4),l.Suo(o,dD,4)),2&t){let d;l.iGM(d=l.CRH())&&(i.titleTpls=d),l.iGM(d=l.CRH())&&(i.headerTpls=d),l.iGM(d=l.CRH())&&(i.contentTpls=d)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),oN=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),jS=(()=>{class n{constructor(t,i){this.accordion=t,this.panel=i}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>gC)),l.Y36(pC,9))},n.\u0275dir=l.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&t&&(l.Ikx("disabled",i.panel.disabled),l.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),l.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),gC=(()=>{class n{constructor(t,i,o){this._ngZone=i,this._changeDetector=o,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const i=this._findPanelById(t);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){IE(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,Ur.q)(1)).subscribe(()=>{this.panels.forEach(t=>{const i=t.panelDiv;i?t.initClassDone||(t.initClassDone=!0,Nu(this._ngZone,i,uD,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,i){if(null!=t&&!t.disabled&&t.isOpen!==i){let o=!1;this.panelChange.emit({panelId:t.id,nextState:i,preventDefault:()=>{o=!0}}),o||(t.isOpen=i,t.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,i=!0){this.panels.forEach(o=>{o.id!==t&&o.isOpen&&(o.isOpen=!1,o.transitionRunning=i)})}_findPanelById(t){return this.panels.find(i=>i.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Nu(this._ngZone,i.panelDiv,uD,{animation:t,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{i.transitionRunning=!1;const{id:d}=i;i.isOpen?(i.shown.emit(),this.shown.emit(d)):(i.hidden.emit(),this.hidden.emit(d))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iN),l.Y36(l.R0b),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,i,o){if(1&t&&l.Suo(o,pC,4),2&t){let d;l.iGM(d=l.CRH())&&(i.panels=d)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,i){1&t&&(l.YNc(0,BS,3,3,"ng-template",0,1,l.W1O),l.YNc(2,dx,4,11,"ng-template",2)),2&t&&(l.xp6(2),l.Q6J("ngForOf",i.panels))},dependencies:[M.ax,M.tP,jS,oN,lD,M.O5],encapsulation:2}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gC]}),n})();const aN=({classList:n})=>{n.remove("show")};let uN=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lN=(()=>{class n{constructor(t,i,o,d){this._renderer=i,this._element=o,this._zone=d,this.closed=new l.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Nu(this._zone,this._element.nativeElement,aN,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const i=t.type;i&&!i.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${i.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${i.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uN),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("fade",i.animation)("alert-dismissible",i.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:mw,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,i){1&t&&(l.F$t(),l.Hsn(0),l.YNc(1,hx,1,0,"button",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",i.dismissible))},dependencies:[M.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),WS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[lN]}),n})();var jv=(()=>(function(n){n.START="start",n.END="end"}(jv||(jv={})),jv))();const zS=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),vw=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},mC=n=>{vw(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},cN=(n,e,{direction:t})=>{const{classList:i}=n;return e?(zS(n)?vw(i):(i.add("carousel-item-"+(t===jv.START?"next":"prev")),Hv(n),i.add("carousel-item-"+t)),()=>{mC(i),i.add("active")}):(vw(i),mC(i),void i.add("active"))},dN=(n,e,{direction:t})=>{const{classList:i}=n;return e?(zS(n)?vw(i):i.add("carousel-item-"+t),()=>{mC(i),i.remove("active")}):(vw(i),mC(i),void i.remove("active"))};let hN=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fN=0,qS=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+fN++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),KS=(()=>{class n{constructor(t,i,o,d,_){this._platformId=i,this._ngZone=o,this._cd=d,this._container=_,this.NgbSlideEventSource=d0,this._destroy$=new Se.x,this._interval$=new dg.X(0),this._mouseHover$=new dg.X(!1),this._focused$=new dg.X(!1),this._pauseOnHover$=new dg.X(!1),this._pauseOnFocus$=new dg.X(!1),this._pause$=new dg.X(!1),this._wrap$=new dg.X(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(d0.ARROW_LEFT)}arrowRight(){this.focus(),this.next(d0.ARROW_RIGHT)}ngAfterContentInit(){(0,M.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=(0,Yb.a)([this.slide.pipe((0,_e.U)(i=>i.current),(0,ia.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,ia.O)(null))]).pipe((0,_e.U)(([i,o])=>{const d=this.slides.toArray(),_=this._getSlideIdxById(i);return o?d.length>1:_<d.length-1}),(0,bo.x)());(0,Yb.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,_e.U)(([i,o,d,_,C,O,$])=>i||o&&d||_&&C||!$?0:O),(0,bo.x)(),(0,na.w)(i=>i>0?Zb(i,i):df),(0,_a.R)(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(d0.TIMER)))}),this.slides.changes.pipe((0,_a.R)(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{_w.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Ur.q)(1)).subscribe(()=>{for(const{id:t}of this.slides){const i=this._getSlideElement(t);t===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,i){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),i)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),jv.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),jv.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,i,o){const d=this._transitionIds;if(d&&(d[0]!==t||d[1]!==this.activeId))return;let _=this._getSlideById(t);if(_&&_.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:_.id,direction:i,paused:this._pause$.value,source:o});const C={animation:this.animation,runningTransition:"stop",context:{direction:i}},O=[],$=this._getSlideById(this.activeId);if($){const We=Nu(this._ngZone,this._getSlideElement($.id),dN,C);We.subscribe(()=>{$.slid.emit({isShown:!1,direction:i,source:o})}),O.push(We)}const Z=this.activeId;this.activeId=_.id;const fe=this._getSlideById(this.activeId),xe=Nu(this._ngZone,this._getSlideElement(_.id),cN,C);xe.subscribe(()=>{fe?.slid.emit({isShown:!0,direction:i,source:o})}),O.push(xe),e0(...O).pipe((0,Ur.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:Z,current:_.id,direction:i,paused:this._pause$.value,source:o})})}this._cd.markForCheck()}_getSlideEventDirection(t,i){return this._getSlideIdxById(t)>this._getSlideIdxById(i)?jv.END:jv.START}_getSlideById(t){return this.slides.find(i=>i.id===t)||null}_getSlideIdxById(t){const i=this._getSlideById(t);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(t){const i=this.slides.toArray(),o=this._getSlideIdxById(t);return o===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[o+1].id}_getPrevSlide(t){const i=this.slides.toArray(),o=this._getSlideIdxById(t);return 0===o?this.wrap?i[i.length-1].id:i[0].id:i[o-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(hN),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,i,o){if(1&t&&l.Suo(o,qS,4),2&t){let d;l.iGM(d=l.CRH())&&(i.slides=d)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,i){1&t&&l.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+i.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let e,t,i;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,fx,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,gx,4,4,"div",3),l.qZA(),l.YNc(4,mx,4,0,"button",4),l.YNc(5,_x,4,0,"button",5)),2&t&&(l.ekj("visually-hidden",!i.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",i.slides),l.xp6(2),l.Q6J("ngForOf",i.slides),l.xp6(1),l.Q6J("ngIf",i.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",i.showNavigationArrows))},dependencies:[M.ax,M.tP,M.O5],encapsulation:2,changeDetection:0}),n})();var d0=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(d0||(d0={})),d0))();let fD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[KS]}),n})(),pN=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZS=(()=>{class n{constructor(t,i,o){this._element=t,this._zone=o,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=i.animation,this.horizontal=i.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,i){return Nu(this._zone,this._element.nativeElement,uD,{animation:i,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,i){this._runTransition(t,i).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(pN),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("collapse-horizontal",i.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),n})(),_C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class ea{constructor(e,t,i){this.year=Mu(e)?e:null,this.month=Mu(t)?t:null,this.day=Mu(i)?i:null}static from(e){return e instanceof ea?e:e?new ea(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function xE(n,e){return!function gN(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function YS(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function vC(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function pD(n,e){const{minDate:t,maxDate:i,disabled:o,markDisabled:d}=e;return!(null==n||o||d&&d(n,{year:n.year,month:n.month})||t&&n.before(t)||i&&n.after(i))}function JS(n){return new ea(n.getFullYear(),n.getMonth()+1,n.getDate())}function yC(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let ME=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function CN(){return new DN}()},providedIn:"root"}),n})(),DN=(()=>{class n extends ME{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,i="d",o=1){let d=yC(t),_=!0,C=d.getMonth();switch(i){case"y":d.setFullYear(d.getFullYear()+o);break;case"m":C+=o,d.setMonth(C),C%=12,C<0&&(C+=12);break;case"d":d.setDate(d.getDate()+o),_=!1;break;default:return t}return _&&d.getMonth()!==C&&d.setDate(0),JS(d)}getPrev(t,i="d",o=1){return this.getNext(t,i,-o)}getWeekday(t){let o=yC(t).getDay();return 0===o?7:o}getWeekNumber(t,i){7===i&&(i=0);const _=yC(t[(11-i)%7]);_.setDate(_.getDate()+4-(_.getDay()||7));const C=_.getTime();return _.setMonth(0),_.setDate(1),Math.floor(Math.round((C-_.getTime())/864e5)/7)+1}getToday(){return JS(new Date)}isValid(t){if(!(t&&Mu(t.year)&&Mu(t.month)&&Mu(t.day)&&0!==t.year))return!1;const i=yC(t);return!isNaN(i.getTime())&&i.getFullYear()===t.year&&i.getMonth()+1===t.month&&i.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),h0=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function SN(n){return new IN(n)}(l.LFG(l.soG)),i},providedIn:"root"}),n})(),IN=(()=>{class n extends h0{constructor(t){super(),this._locale=t,this._monthsShort=(0,M.UT)(t,M.x.Standalone,M.Tn.Abbreviated),this._monthsFull=(0,M.UT)(t,M.x.Standalone,M.Tn.Wide)}getWeekdayLabel(t,i){const o=(0,M.Mn)(this._locale,M.x.Standalone,void 0===i?M.Tn.Short:i);return o.map((_,C)=>o[(C+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){const i=new Date(t.year,t.month-1,t.day);return(0,M.p6)(i,"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),gD=(()=>{class n{constructor(t,i){this._calendar=t,this._i18n=i,this._VALIDATORS={dayTemplateData:o=>{if(this._state.dayTemplateData!==o)return{dayTemplateData:o}},displayMonths:o=>{if(Mu(o=Uc(o))&&o>0&&this._state.displayMonths!==o)return{displayMonths:o}},disabled:o=>{if(this._state.disabled!==o)return{disabled:o}},firstDayOfWeek:o=>{if(Mu(o=Uc(o))&&o>=0&&this._state.firstDayOfWeek!==o)return{firstDayOfWeek:o}},focusVisible:o=>{if(this._state.focusVisible!==o&&!this._state.disabled)return{focusVisible:o}},markDisabled:o=>{if(this._state.markDisabled!==o)return{markDisabled:o}},maxDate:o=>{const d=this.toValidDate(o,null);if(xE(this._state.maxDate,d))return{maxDate:d}},minDate:o=>{const d=this.toValidDate(o,null);if(xE(this._state.minDate,d))return{minDate:d}},navigation:o=>{if(this._state.navigation!==o)return{navigation:o}},outsideDays:o=>{if(this._state.outsideDays!==o)return{outsideDays:o}},weekdays:o=>{const d=!0===o||!1===o?M.Tn.Short:o,_=!0!==o&&!1!==o||o;if(this._state.weekdayWidth!==d||this._state.weekdaysVisible!==_)return{weekdayWidth:d,weekdaysVisible:_}}},this._model$=new Se.x,this._dateSelect$=new Se.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:M.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,Ie.h)(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,Ie.h)(t=>null!==t))}set(t){let i=Object.keys(t).map(o=>this._VALIDATORS[o](t[o])).reduce((o,d)=>({...o,...d}),{});Object.keys(i).length>0&&this._nextState(i)}focus(t){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&xE(this._state.focusDate,i)&&this._nextState({focusDate:t})}focusSelect(){pD(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const i=this.toValidDate(t,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||YS(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(t,i={}){const o=this.toValidDate(t,null);null!=o&&!this._state.disabled&&(xE(this._state.selectedDate,o)&&this._nextState({selectedDate:o}),i.emitEvent&&pD(o,this._state)&&this._dateSelect$.next(o))}toValidDate(t,i){const o=ea.from(t);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(o)?o:i}getMonth(t){for(let i of this._state.months)if(t.month===i.number&&t.year===i.year)return i;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const i=this._updateState(t);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(t){const{months:i,displayMonths:o,selectedDate:d,focusDate:_,focusVisible:C,disabled:O,outsideDays:$}=t;t.months.forEach(Z=>{Z.weeks.forEach(fe=>{fe.days.forEach(xe=>{_&&(xe.context.focused=_.equals(xe.date)&&C),xe.tabindex=!O&&_&&xe.date.equals(_)&&_.month===Z.number?0:-1,!0===O&&(xe.context.disabled=!0),void 0!==d&&(xe.context.selected=null!==d&&d.equals(xe.date)),Z.number!==xe.date.month&&(xe.hidden="hidden"===$||"collapsed"===$||o>1&&xe.date.after(i[0].firstDate)&&xe.date.before(i[o-1].lastDate))})})})}_updateState(t){const i=Object.assign({},this._state,t);let o=i.firstDate;if(("minDate"in t||"maxDate"in t)&&(function mN(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(i.minDate,i.maxDate),i.focusDate=vC(i.focusDate,i.minDate,i.maxDate),i.firstDate=vC(i.firstDate,i.minDate,i.maxDate),o=i.focusDate),"disabled"in t&&(i.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(o=i.selectedDate),"focusVisible"in t||"focusDate"in t&&(i.focusDate=vC(i.focusDate,i.minDate,i.maxDate),o=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in t&&(i.firstDate=vC(i.firstDate,i.minDate,i.maxDate),o=i.firstDate),o){const _=function bN(n,e,t,i,o){const{displayMonths:d,months:_}=t,C=_.splice(0,_.length);return Array.from({length:d},($,Z)=>{const fe=Object.assign(n.getNext(e,"m",Z),{day:1});if(_[Z]=null,!o){const xe=C.findIndex(We=>We.firstDate.equals(fe));-1!==xe&&(_[Z]=C.splice(xe,1)[0])}return fe}).forEach(($,Z)=>{null===_[Z]&&(_[Z]=function wN(n,e,t,i,o={}){const{dayTemplateData:d,minDate:_,maxDate:C,firstDayOfWeek:O,markDisabled:$,outsideDays:Z,weekdayWidth:fe,weekdaysVisible:xe}=t,We=n.getToday();o.firstDate=null,o.lastDate=null,o.number=e.month,o.year=e.year,o.weeks=o.weeks||[],o.weekdays=o.weekdays||[],e=function TN(n,e,t){const i=n.getDaysPerWeek(),o=new ea(e.year,e.month,1),d=n.getWeekday(o)%i;return n.getPrev(o,"d",(i+d-t)%i)}(n,e,O),xe||(o.weekdays.length=0);for(let ft=0;ft<n.getWeeksPerMonth();ft++){let kt=o.weeks[ft];kt||(kt=o.weeks[ft]={number:0,days:[],collapsed:!0});const fn=kt.days;for(let Gn=0;Gn<n.getDaysPerWeek();Gn++){0===ft&&xe&&(o.weekdays[Gn]=i.getWeekdayLabel(n.getWeekday(e),fe));const ur=new ea(e.year,e.month,e.day),Lr=n.getNext(ur),jr=i.getDayAriaLabel(ur);let vr=!!(_&&ur.before(_)||C&&ur.after(C));!vr&&$&&(vr=$(ur,{month:o.number,year:o.year}));let Dr=ur.equals(We),$i=d?d(ur,{month:o.number,year:o.year}):void 0;null===o.firstDate&&ur.month===o.number&&(o.firstDate=ur),ur.month===o.number&&Lr.month!==o.number&&(o.lastDate=ur);let Qs=fn[Gn];Qs||(Qs=fn[Gn]={}),Qs.date=ur,Qs.context=Object.assign(Qs.context||{},{$implicit:ur,date:ur,data:$i,currentMonth:o.number,currentYear:o.year,disabled:vr,focused:!1,selected:!1,today:Dr}),Qs.tabindex=-1,Qs.ariaLabel=jr,Qs.hidden=!1,e=Lr}kt.number=n.getWeekNumber(fn.map(Gn=>Gn.date),O),kt.collapsed="collapsed"===Z&&fn[0].date.month!==o.number&&fn[fn.length-1].date.month!==o.number}return o}(n,$,t,i,C.shift()||{}))}),_}(this._calendar,o,i,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);i.months=_,i.firstDate=_[0].firstDate,i.lastDate=_[_.length-1].lastDate,"selectedDate"in t&&!pD(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in t&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=o);const C=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,O=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in t||"maxDate"in t||0===i.selectBoxes.years.length||C)&&(i.selectBoxes.years=function vN(n,e,t){if(!n)return[];const i=e?Math.max(e.year,n.year-500):n.year-10,d=(t?Math.min(t.year,n.year+500):n.year+10)-i+1,_=Array(d);for(let C=0;C<d;C++)_[C]=i+C;return _}(i.firstDate,i.minDate,i.maxDate)),("minDate"in t||"maxDate"in t||0===i.selectBoxes.months.length||C)&&(i.selectBoxes.months=function _N(n,e,t,i){if(!e)return[];let o=n.getMonths(e.year);if(t&&e.year===t.year){const d=o.findIndex(_=>_===t.month);o=o.slice(d)}if(i&&e.year===i.year){const d=o.findIndex(_=>_===i.month);o=o.slice(0,d+1)}return o}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(O||C||"minDate"in t||"maxDate"in t||"disabled"in t)&&(i.prevDisabled=i.disabled||function EN(n,e,t){const i=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(i.year===t.year&&i.month<t.month||i.year<t.year&&1===t.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function yN(n,e,t){const i=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&i.after(t)}(this._calendar,i.lastDate,i.maxDate))}return i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ME),l.LFG(h0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var NE=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(NE||(NE={})),NE))();let AN=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(h0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,i){2&t&&l.ekj("bg-primary",i.selected)("text-white",i.selected)("text-muted",i.isMuted())("outside",i.isMuted())("active",i.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:vx,decls:1,vars:1,template:function(t,i){1&t&&l._uU(0),2&t&&l.Oqu(i.i18n.getDayNumerals(i.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),xN=(()=>{class n{constructor(t,i){this.i18n=t,this._renderer=i,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new ea(this.date.year,Uc(t),1))}changeYear(t){this.select.emit(new ea(Uc(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(h0),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,i){if(1&t&&(l.Gf(yx,7,l.SBq),l.Gf(Ex,7,l.SBq)),2&t){let o;l.iGM(o=l.CRH())&&(i.monthSelect=o.first),l.iGM(o=l.CRH())&&(i.yearSelect=o.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let e,t,i,o;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,i=$localize`:@@ngb.datepicker.select-year:Select year`,o=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",i,"title",o,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,i){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(d){return i.changeMonth(d.target.value)}),l.YNc(2,bx,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(d){return i.changeYear(d.target.value)}),l.YNc(5,wx,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",i.disabled),l.xp6(2),l.Q6J("ngForOf",i.months),l.xp6(1),l.Q6J("disabled",i.disabled),l.xp6(2),l.Q6J("ngForOf",i.years))},dependencies:[M.ax],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),MN=(()=>{class n{constructor(t){this.i18n=t,this.navigation=NE,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(h0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let e,t,i,o;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,o=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",i,"title",o,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(d){return i.onClickPrev(d)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,Tx,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,Ix,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(d){return i.onClickNext(d)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",i.prevDisabled),l.xp6(2),l.Q6J("ngIf",i.showSelect),l.xp6(1),l.Q6J("ngIf",!i.showSelect),l.xp6(2),l.Q6J("disabled",i.nextDisabled))},dependencies:[M.O5,M.ax,xN],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Vs=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Vs||(Vs={})),Vs))();let NN=(()=>{class n{processKey(t,i){const{state:o,calendar:d}=i;switch(t.which){case Vs.PageUp:i.focusDate(d.getPrev(o.focusedDate,t.shiftKey?"y":"m",1));break;case Vs.PageDown:i.focusDate(d.getNext(o.focusedDate,t.shiftKey?"y":"m",1));break;case Vs.End:i.focusDate(t.shiftKey?o.maxDate:o.lastDate);break;case Vs.Home:i.focusDate(t.shiftKey?o.minDate:o.firstDate);break;case Vs.ArrowLeft:i.focusDate(d.getPrev(o.focusedDate,"d",1));break;case Vs.ArrowUp:i.focusDate(d.getPrev(o.focusedDate,"d",d.getDaysPerWeek()));break;case Vs.ArrowRight:i.focusDate(d.getNext(o.focusedDate,"d",1));break;case Vs.ArrowDown:i.focusDate(d.getNext(o.focusedDate,"d",d.getDaysPerWeek()));break;case Vs.Enter:case Vs.Space:i.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mD=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=M.Tn.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ON(){return new RN}()},providedIn:"root"}),n})(),RN=(()=>{class n extends _D{fromModel(t){return t&&Mu(t.year)&&Mu(t.month)&&Mu(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Mu(t.year)&&Mu(t.month)&&Mu(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),QS=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),vD=(()=>{class n{constructor(t,i,o,d){this.i18n=t,this.datepicker=i,this._keyboardService=o,this._service=d}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(h0),l.Y36((0,l.Gpc)(()=>f0)),l.Y36(NN),l.Y36(gD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(d){return i.onKeyDown(d)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(l.YNc(0,Mx,3,2,"div",0),l.YNc(1,Fx,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",i.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",i.viewModel.weeks))},dependencies:[M.O5,M.ax,M.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),f0=(()=>{class n{constructor(t,i,o,d,_,C,O,$){this._service=t,this._calendar=i,this.i18n=o,this._elementRef=C,this._ngbDateAdapter=O,this._ngZone=$,this._controlValue=null,this._destroyed$=new Se.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=Z=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(Z=>this[Z]=d[Z]),t.dateSelect$.pipe((0,_a.R)(this._destroyed$)).subscribe(Z=>{this.dateSelect.emit(Z)}),t.model$.pipe((0,_a.R)(this._destroyed$)).subscribe(Z=>{const fe=Z.firstDate,xe=this.model?this.model.firstDate:null;this._publicState={maxDate:Z.maxDate,minDate:Z.minDate,firstDate:Z.firstDate,lastDate:Z.lastDate,focusedDate:Z.focusDate,months:Z.months.map(Gn=>Gn.firstDate)};let We=!1;if(!fe.equals(xe)&&(this.navigate.emit({current:xe?{year:xe.year,month:xe.month}:null,next:{year:fe.year,month:fe.month},preventDefault:()=>We=!0}),We&&null!==xe))return void this._service.open(xe);const ft=Z.selectedDate,kt=Z.focusDate,fn=this.model?this.model.focusDate:null;this.model=Z,xE(ft,this._controlValue)&&(this._controlValue=ft,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(ft))),xE(kt,fn)&&fn&&Z.focusVisible&&this.focus(),_.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(ea.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,Ur.q)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(ea.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Qu(this._contentEl.nativeElement,"focusin"),i=Qu(this._contentEl.nativeElement,"focusout"),{nativeElement:o}=this._elementRef;(0,Ue.T)(t,i).pipe((0,Ie.h)(({target:d,relatedTarget:_})=>!($S(d,"ngb-dp-day")&&$S(_,"ngb-dp-day")&&o.contains(d)&&o.contains(_))),(0,_a.R)(this._destroyed$)).subscribe(({type:d})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===d})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>t[i]=this[i]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(o=>o in t).forEach(o=>i[o]=this[o]),this._service.set(i),"startDate"in t){const{currentValue:o,previousValue:d}=t.startDate;YS(d,o)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case NE.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case NE.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=ea.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gD),l.Y36(ME),l.Y36(h0),l.Y36(mD),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(_D),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,i,o){if(1&t&&l.Suo(o,QS,7),2&t){let d;l.iGM(d=l.CRH())&&(i.contentTemplate=d.first)}},viewQuery:function(t,i){if(1&t&&(l.Gf(Lx,7),l.Gf(Bx,7)),2&t){let o;l.iGM(o=l.CRH())&&(i._defaultDayTemplate=o.first),l.iGM(o=l.CRH())&&(i._contentEl=o.first)}},hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("disabled",i.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:Bn.JU,useExisting:(0,l.Gpc)(()=>n),multi:!0},gD]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,i){if(1&t&&(l.YNc(0,Ux,1,5,"ng-template",null,0,l.W1O),l.YNc(2,Hx,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,Gx,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,jx,0,0,"ng-template",6),l.qZA(),l.YNc(9,Wx,0,0,"ng-template",6)),2&t){const o=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==i.navigation),l.xp6(1),l.ekj("ngb-dp-months",!i.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==i.contentTemplate?null:i.contentTemplate.templateRef)||o),l.xp6(1),l.Q6J("ngTemplateOutlet",i.footerTemplate)}},dependencies:[M.O5,M.ax,M.tP,AN,vD,MN],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const tI=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function yD(n){const e=Array.from(n.querySelectorAll(tI)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const ED=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{const o=Qu(e,"focusin").pipe((0,_a.R)(t),(0,_e.U)(d=>d.target));Qu(e,"keydown").pipe((0,_a.R)(t),(0,Ie.h)(d=>d.which===Vs.Tab),(0,ji.M)(o)).subscribe(([d,_])=>{const[C,O]=yD(e);(_===C||_===e)&&d.shiftKey&&(O.focus(),d.preventDefault()),_===O&&!d.shiftKey&&(C.focus(),d.preventDefault())}),i&&Qu(e,"click").pipe((0,_a.R)(t),(0,ji.M)(o),(0,_e.U)(d=>d[1])).subscribe(d=>d.focus())})};let bC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function zN(){return new qN}()},providedIn:"root"}),n})(),qN=(()=>{class n extends bC{parse(t){if(null!=t){const i=t.trim().split("-");if(1===i.length&&Xu(i[0]))return{year:Uc(i[0]),month:null,day:null};if(2===i.length&&Xu(i[0])&&Xu(i[1]))return{year:Uc(i[0]),month:Uc(i[1]),day:null};if(3===i.length&&Xu(i[0])&&Xu(i[1])&&Xu(i[2]))return{year:Uc(i[0]),month:Uc(i[1]),day:Uc(i[2])}}return null}format(t){return t?`${t.year}-${Xu(t.month)?AE(t.month):""}-${Xu(t.day)?AE(t.day):""}`:""}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();new Date(1882,10,12),new Date(2174,10,25);let DC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[f0,vD]}),n})(),gI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class pg{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let iO=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ur.q)(1)).subscribe(()=>{Nu(this._zone,this._el.nativeElement,(t,i)=>{i&&Hv(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Nu(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class mI{close(e){}dismiss(e){}}class sO{constructor(e,t,i,o){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Se.x,this._dismissed=new Se.x,this._hidden=new Se.x,e.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,_)=>{this._resolve=d,this._reject=_}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,_a.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,_a.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();VS(t)?t.then(i=>{!1!==i&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,pe.of)(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),e0(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var bw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(bw||(bw={})),bw))();let oO=(()=>{class n{constructor(t,i,o){this._document=t,this._elRef=i,this._zone=o,this._closed$=new Se.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Se.x,this.hidden=new Se.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":IE(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ur.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},_=e0(Nu(this._zone,t,()=>t.classList.remove("show"),i),Nu(this._zone,this._dialogEl.nativeElement,()=>{},i));return _.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),_}_show(){const t={animation:this.animation,runningTransition:"continue"};e0(Nu(this._zone,this._elRef.nativeElement,(d,_)=>{_&&Hv(d),d.classList.add("show")},t),Nu(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Qu(t,"keydown").pipe((0,_a.R)(this._closed$),(0,Ie.h)(o=>o.which===Vs.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(bw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Qu(this._dialogEl.nativeElement,"mousedown").pipe((0,_a.R)(this._closed$),(0,w_.b)(()=>i=!1),(0,na.w)(()=>Qu(t,"mouseup").pipe((0,_a.R)(this._closed$),(0,Ur.q)(1))),(0,Ie.h)(({target:o})=>t===o)).subscribe(()=>{i=!0}),Qu(t,"click").pipe((0,_a.R)(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(bw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),o=yD(t)[0];(i||o||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Nu(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(M.K0),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&l.Gf(zx,7),2&t){let o;l.iGM(o=l.CRH())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:mw,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),_I=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:d,paddingRight:_}=o;if(t>0){const C=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${C+t}px`}return o.overflow="hidden",()=>{t>0&&(o.paddingRight=_),o.overflow=d}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(M.K0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aO=(()=>{class n{constructor(t,i,o,d,_,C,O){this._applicationRef=t,this._injector=i,this._environmentInjector=o,this._document=d,this._scrollBar=_,this._rendererFactory=C,this._ngZone=O,this._activeWindowCmptHasChanged=new Se.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const $=this._windowCmpts[this._windowCmpts.length-1];ED(this._ngZone,$.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden($.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,o){const d=o.container instanceof HTMLElement?o.container:Im(o.container)?this._document.querySelector(o.container):this._document.body,_=this._rendererFactory.createRenderer(null,null);if(!d)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const C=new mI,O=(t=o.injector||t).get(l.lqb,null)||this._environmentInjector,$=this._getContentRef(t,O,i,C,o);let Z=!1!==o.backdrop?this._attachBackdrop(d):void 0,fe=this._attachWindowComponent(d,$.nodes),xe=new sO(fe,$,Z,o.beforeDismiss);return this._registerModalRef(xe),this._registerWindowCmpt(fe),xe.hidden.pipe((0,Ur.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(_.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),C.close=We=>{xe.close(We)},C.dismiss=We=>{xe.dismiss(We)},this._applyWindowOptions(fe.instance,o),1===this._modalRefs.length&&_.addClass(this._document.body,"modal-open"),Z&&Z.instance&&(this._applyBackdropOptions(Z.instance,o),Z.changeDetectorRef.detectChanges()),fe.changeDetectorRef.detectChanges(),xe}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,l.LMc)(iO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let o=(0,l.LMc)(oO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_applyWindowOptions(t,i){this._windowAttributes.forEach(o=>{Im(i[o])&&(t[o]=i[o])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(o=>{Im(i[o])&&(t[o]=i[o])})}_getContentRef(t,i,o,d,_){return o?o instanceof l.Rgc?this._createFromTemplateRef(o,d):IE(o)?this._createFromString(o):this._createFromComponent(t,i,o,d,_):new pg([])}_createFromTemplateRef(t,i){const d=t.createEmbeddedView({$implicit:i,close(_){i.close(_)},dismiss(_){i.dismiss(_)}});return this._applicationRef.attachView(d),new pg([d.rootNodes],d)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new pg([[i]])}_createFromComponent(t,i,o,d,_){const C=l.zs3.create({providers:[{provide:mI,useValue:d}],parent:t}),O=(0,l.LMc)(o,{environmentInjector:i,elementInjector:C}),$=O.location.nativeElement;return _.scrollable&&$.classList.add("component-host-scrollable"),this._applicationRef.attachView(O.hostView),new pg([[$]],O.hostView,O)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(M.K0),l.LFG(_I),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vI=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yI=(()=>{class n{constructor(t,i,o){this._injector=t,this._modalStack=i,this._config=o}open(t,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(aO),l.LFG(vI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[yI]}),n})(),uO=(()=>{class n{constructor(t){this._ngbConfig=t,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bI=n=>Im(n)&&""!==n;let lO=0,CD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbNavContent",""]],standalone:!0}),n})(),AC=(()=>{class n{constructor(t,i){this._nav=t,this.elementRef=i,this.disabled=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Im(this.domId)||(this.domId="ngb-nav-"+lO++)}get active(){return this._nav.activeId===this.id}get id(){return bI(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Im(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>xC)),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavItem",""]],contentQueries:function(t,i,o){if(1&t&&l.Suo(o,CD,4),2&t){let d;l.iGM(d=l.CRH())&&(i.contentTpls=d)}},hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0}),n})(),xC=(()=>{class n{constructor(t,i,o,d){this.role=t,this._cd=o,this._document=d,this.activeIdChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.destroy$=new Se.x,this.navItemChange$=new Se.x,this.navChange=new l.vpe,this.animation=i.animation,this.destroyOnHide=i.destroyOnHide,this.orientation=i.orientation,this.roles=i.roles,this.keyboard=i.keyboard}click(t){t.disabled||this._updateActiveId(t.id)}onKeyDown(t){if("tablist"!==this.roles||!this.keyboard)return;const i=t.which,o=this.links.filter(C=>!C.navItem.disabled),{length:d}=o;let _=-1;if(o.forEach((C,O)=>{C.elRef.nativeElement===this._document.activeElement&&(_=O)}),d){switch(i){case Vs.ArrowLeft:if("vertical"===this.orientation)return;_=(_-1+d)%d;break;case Vs.ArrowRight:if("vertical"===this.orientation)return;_=(_+1)%d;break;case Vs.ArrowDown:if("horizontal"===this.orientation)return;_=(_+1)%d;break;case Vs.ArrowUp:if("horizontal"===this.orientation)return;_=(_-1+d)%d;break;case Vs.Home:_=0;break;case Vs.End:_=d-1}"changeWithArrows"===this.keyboard&&this.select(o[_].navItem.id),o[_].elRef.nativeElement.focus(),t.preventDefault()}}select(t){this._updateActiveId(t,!1)}ngAfterContentInit(){if(!Im(this.activeId)){const t=this.items.first?this.items.first.id:null;bI(t)&&(this._updateActiveId(t,!1),this._cd.detectChanges())}this.items.changes.pipe((0,_a.R)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:t}){t&&!t.firstChange&&this._notifyItemChanged(t.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(t,i=!0){if(this.activeId!==t){let o=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:t,preventDefault:()=>{o=!0}}),o||(this.activeId=t,this.activeIdChange.emit(t),this._notifyItemChanged(t))}}_notifyItemChanged(t){this.navItemChange$.next(this._getItemById(t))}_getItemById(t){return this.items&&this.items.find(i=>i.id===t)||null}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("role"),l.Y36(uO),l.Y36(l.sBO),l.Y36(M.K0))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNav",""]],contentQueries:function(t,i,o){if(1&t&&(l.Suo(o,AC,4),l.Suo(o,DD,5)),2&t){let d;l.iGM(d=l.CRH())&&(i.items=d),l.iGM(d=l.CRH())&&(i.links=d)}},hostVars:6,hostBindings:function(t,i){1&t&&l.NdJ("keydown.arrowLeft",function(d){return i.onKeyDown(d)})("keydown.arrowRight",function(d){return i.onKeyDown(d)})("keydown.arrowDown",function(d){return i.onKeyDown(d)})("keydown.arrowUp",function(d){return i.onKeyDown(d)})("keydown.Home",function(d){return i.onKeyDown(d)})("keydown.End",function(d){return i.onKeyDown(d)}),2&t&&(l.uIk("aria-orientation","vertical"===i.orientation&&"tablist"===i.roles?"vertical":void 0)("role",i.role?i.role:i.roles?"tablist":void 0),l.ekj("nav",!0)("flex-column","vertical"===i.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[l.TTD]}),n})(),DD=(()=>{class n{constructor(t,i,o,d){this.role=t,this.navItem=i,this.nav=o,this.elRef=d}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("role"),l.Y36(AC),l.Y36(xC),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(t,i){1&t&&l.NdJ("click",function(d){return i.nav.click(i.navItem),d.preventDefault()}),2&t&&(l.Ikx("id",i.navItem.domId),l.uIk("role",i.role?i.role:i.nav.roles?"tab":void 0)("tabindex",i.navItem.disabled?-1:void 0)("aria-controls",i.navItem.isPanelInDom()?i.navItem.panelDomId:null)("aria-selected",i.navItem.active)("aria-disabled",i.navItem.disabled),l.ekj("nav-link",!0)("nav-item",i.hasNavItemClass())("active",i.navItem.active)("disabled",i.navItem.disabled))},standalone:!0}),n})();const cO=({classList:n})=>(n.remove("show"),()=>n.remove("active")),dO=(n,e)=>{e&&Hv(n),n.classList.add("show")};let SD=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,i){2&t&&(l.Ikx("id",i.item.panelDomId),l.uIk("role",i.role?i.role:i.nav.roles?"tabpanel":void 0)("aria-labelledby",i.item.domId),l.ekj("fade",i.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),ID=(()=>{class n{constructor(t,i){this._cd=t,this._ngZone=i,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,_a.R)(this.nav.destroy$),(0,ia.O)(this._activePane?.item||null),(0,bo.x)(),(0,Y1.T)(1)).subscribe(t=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Nu(this._ngZone,this._activePane.elRef.nativeElement,cO,i).subscribe(()=>{const o=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Nu(this._ngZone,this._activePane.elRef.nativeElement,dO,i).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),o&&(o.hidden.emit(),this.nav.hidden.emit(o.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(i=>i.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,i){if(1&t&&l.Gf(SD,5),2&t){let o;l.iGM(o=l.CRH())&&(i._panes=o)}},hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:qx,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&l.YNc(0,Jx,1,1,"ng-template",0),2&t&&l.Q6J("ngForOf",i.nav.items)},dependencies:[SD,M.ax,M.O5,M.tP],encapsulation:2,changeDetection:0}),n})(),AD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ID]}),n})(),hO=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),TI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),CI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),DI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),SI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),II=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),AI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),xI=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,i){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,i=this.pageCount,o=Math.floor(this.maxSize/2);return this.page<=o?i=this.maxSize:this.pageCount-this.page<o?t=this.pageCount-this.maxSize:(t=this.page-o-1,i=this.page+(this.maxSize%2==0?o-1:o)),[t,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(t){const i=this.page;this.page=fC(t,this.pageCount,1),this.page!==i&&Xu(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Xu(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,o=this.pageCount;[i,o]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,o),this._applyEllipses(i,o)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(hO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,i,o){if(1&t&&(l.Suo(o,wI,5),l.Suo(o,TI,5),l.Suo(o,CI,5),l.Suo(o,DI,5),l.Suo(o,SI,5),l.Suo(o,II,5),l.Suo(o,AI,5)),2&t){let d;l.iGM(d=l.CRH())&&(i.tplEllipsis=d.first),l.iGM(d=l.CRH())&&(i.tplFirst=d.first),l.iGM(d=l.CRH())&&(i.tplLast=d.first),l.iGM(d=l.CRH())&&(i.tplNext=d.first),l.iGM(d=l.CRH())&&(i.tplNumber=d.first),l.iGM(d=l.CRH())&&(i.tplPrevious=d.first),l.iGM(d=l.CRH())&&(i.tplPages=d.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let e,t,i,o,d,_,C,O;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,i=$localize`:@@ngb.pagination.next:»`,o=$localize`:@@ngb.pagination.last:»»`,d=$localize`:@@ngb.pagination.first-aria:First`,_=$localize`:@@ngb.pagination.previous-aria:Previous`,C=$localize`:@@ngb.pagination.next-aria:Next`,O=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,i,o,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",d,"href","",1,"page-link",3,"click"],["aria-label",_,"href","",1,"page-link",3,"click"],["aria-label",C,"href","",1,"page-link",3,"click"],["aria-label",O,"href","",1,"page-link",3,"click"]]},template:function(t,i){if(1&t&&(l.YNc(0,Qx,2,0,"ng-template",null,0,l.W1O),l.YNc(2,Xx,2,0,"ng-template",null,1,l.W1O),l.YNc(4,eM,2,0,"ng-template",null,2,l.W1O),l.YNc(6,tM,2,0,"ng-template",null,3,l.W1O),l.YNc(8,nM,1,0,"ng-template",null,4,l.W1O),l.YNc(10,iM,2,2,"ng-template",null,5,l.W1O),l.YNc(12,hM,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,pM,3,9,"li",7),l.YNc(16,_M,3,8,"li",7),l.YNc(17,vM,0,0,"ng-template",8),l.YNc(18,EM,3,9,"li",7),l.YNc(19,wM,3,9,"li",7),l.qZA()),2&t){const o=l.MAs(13);l.xp6(14),l.Tol("pagination"+(i.size?" pagination-"+i.size:"")),l.xp6(1),l.Q6J("ngIf",i.boundaryLinks),l.xp6(1),l.Q6J("ngIf",i.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||o)("ngTemplateOutletContext",l.kEZ(8,TM,i.page,i.pages,i.disabled)),l.xp6(1),l.Q6J("ngIf",i.directionLinks),l.xp6(1),l.Q6J("ngIf",i.boundaryLinks)}},dependencies:[M.O5,M.ax,M.tP],encapsulation:2,changeDetection:0}),n})(),MI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[xI]}),n})(),OI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),vO=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yO=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!Xu(t)||t<=0?100:t}get max(){return this._max}getValue(){return fC(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("aria-valuenow",i.getValue())("aria-valuemax",i.max)("aria-label",i.ariaLabel),l.Udp("height",i.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:mw,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,SM,3,3,"span",0),l.Hsn(2),l.qZA()),2&t&&(l.MT6("progress-bar",i.type?i.textType?" bg-"+i.type:" text-bg-"+i.type:"","",i.textType?" text-"+i.textType:"",""),l.Udp("width",i.getPercentValue(),"%"),l.ekj("progress-bar-animated",i.animated)("progress-bar-striped",i.striped),l.xp6(1),l.Q6J("ngIf",i.showValue))},dependencies:[M.O5,M.Zx],encapsulation:2,changeDetection:0}),n})(),RI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[yO]}),n})(),EO=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bO=(()=>{class n{constructor(t,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=o=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Vs.ArrowDown:case Vs.ArrowLeft:this.update(this.rate-1);break;case Vs.ArrowUp:case Vs.ArrowRight:this.update(this.rate+1);break;case Vs.Home:this.update(0);break;case Vs.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,i=!0){const o=fC(t,this.max,0);this.isInteractive()&&this.rate!==o&&(this.rate=o,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((i,o)=>i.fill=Math.round(100*fC(t-o,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,i)=>({fill:0,index:i}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(EO),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,i,o){if(1&t&&l.Suo(o,l.Rgc,5),2&t){let d;l.iGM(d=l.CRH())&&(i.starTemplateFromContent=d.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,i){1&t&&l.NdJ("blur",function(){return i.handleBlur()})("keydown",function(d){return i.handleKeyDown(d)})("mouseleave",function(){return i.reset()}),2&t&&(l.Ikx("tabindex",i.disabled?-1:i.tabindex),l.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:Bn.JU,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(l.YNc(0,IM,1,1,"ng-template",null,0,l.W1O),l.YNc(2,xM,4,5,"ng-template",1)),2&t&&(l.xp6(2),l.Q6J("ngForOf",i.contexts))},dependencies:[M.ax,M.tP],encapsulation:2,changeDetection:0}),n})(),PI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[bO]}),n})();class kI{constructor(e,t,i){this.hour=Uc(e),this.minute=Uc(t),this.second=Uc(i)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=Xu(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){Xu(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){Xu(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return Xu(this.hour)&&Xu(this.minute)&&(!e||Xu(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let wO=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function TO(){return new CO}()},providedIn:"root"}),n})(),CO=(()=>{class n extends FI{fromModel(t){return t&&Mu(t.hour)&&Mu(t.minute)?{hour:t.hour,minute:t.minute,second:Mu(t.second)?t.second:null}:null}toModel(t){return t&&Mu(t.hour)&&Mu(t.minute)?{hour:t.hour,minute:t.minute,second:Mu(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),LI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function DO(n){return new SO(n)}(l.LFG(l.soG)),i},providedIn:"root"}),n})(),SO=(()=>{class n extends LI{constructor(t){super(),this._periods=(0,M.ol)(t,M.x.Standalone,M.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const IO=/[^0-9]/g;let AO=(()=>{class n{constructor(t,i,o,d){this._config=t,this._ngbTimeAdapter=i,this._cd=o,this.i18n=d,this.onChange=_=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=Mu(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=Mu(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=Mu(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const i=this._ngbTimeAdapter.fromModel(t);this.model=i?new kI(i.hour,i.minute,i.second):new kI,!this.seconds&&(!i||!Xu(i.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const i=!!this.model&&this.model.hour>=12,o=Uc(t);this.model?.updateHour(this.meridian&&(i&&o<12||!i&&12===o)?o+12:o),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(Uc(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(Uc(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(IO,"")}formatHour(t){return Xu(t)?AE(this.meridian?t%12==0?12:t%12:t%24):AE(NaN)}formatMinSec(t){return AE(Xu(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!Xu(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wO),l.Y36(FI),l.Y36(l.sBO),l.Y36(LI))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:Bn.JU,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let e,t,i,o,d,_,C,O,$,Z,fe,xe,We,ft;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,i=$localize`:@@ngb.timepicker.MM:MM`,o=$localize`:@@ngb.timepicker.minutes:Minutes`,d=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,_=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,C=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,O=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,$=$localize`:@@ngb.timepicker.SS:SS`,Z=$localize`:@@ngb.timepicker.seconds:Seconds`,fe=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,xe=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,We=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,ft=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",i,"aria-label",o,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],d,[1,"chevron","ngb-tp-chevron","bottom"],_,C,O,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",$,"aria-label",Z,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],fe,xe,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],We,ft]},template:function(t,i){1&t&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,MM,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(d){return i.updateHour(d.target.value)})("blur",function(){return i.handleBlur()})("input",function(d){return i.formatInput(d.target)})("keydown.ArrowUp",function(d){return i.changeHour(i.hourStep),d.preventDefault()})("keydown.ArrowDown",function(d){return i.changeHour(-i.hourStep),d.preventDefault()}),l.qZA(),l.YNc(5,NM,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,OM,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(d){return i.updateMinute(d.target.value)})("blur",function(){return i.handleBlur()})("input",function(d){return i.formatInput(d.target)})("keydown.ArrowUp",function(d){return i.changeMinute(i.minuteStep),d.preventDefault()})("keydown.ArrowDown",function(d){return i.changeMinute(-i.minuteStep),d.preventDefault()}),l.qZA(),l.YNc(11,RM,4,7,"button",3),l.qZA(),l.YNc(12,PM,2,0,"div",8),l.YNc(13,LM,4,9,"div",9),l.YNc(14,BM,1,0,"div",8),l.YNc(15,$M,5,9,"div",10),l.qZA()()),2&t&&(l.ekj("disabled",i.disabled),l.Q6J("disabled",i.disabled),l.xp6(3),l.Q6J("ngIf",i.spinners),l.xp6(1),l.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),l.Q6J("value",i.formatHour(null==i.model?null:i.model.hour))("readOnly",i.readonlyInputs)("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.spinners),l.xp6(4),l.Q6J("ngIf",i.spinners),l.xp6(1),l.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),l.Q6J("value",i.formatMinSec(null==i.model?null:i.model.minute))("readOnly",i.readonlyInputs)("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.spinners),l.xp6(1),l.Q6J("ngIf",i.seconds),l.xp6(1),l.Q6J("ngIf",i.seconds),l.xp6(1),l.Q6J("ngIf",i.meridian),l.xp6(1),l.Q6J("ngIf",i.meridian))},dependencies:[M.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),BI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[AO]}),n})();const xO=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),Hv(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},MO=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let NO=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),RO=(()=>{class n{constructor(t,i,o,d){this.ariaLive=t,this._zone=o,this._element=d,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,Ur.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Nu(this._zone,this._element.nativeElement,MO,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Nu(this._zone,this._element.nativeElement,xO,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(NO),l.Y36(l.R0b),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,i,o){if(1&t&&l.Suo(o,OO,7,l.Rgc),2&t){let d;l.iGM(d=l.CRH())&&(i.contentHeaderTpl=d.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,i){2&t&&(l.uIk("aria-live",i.ariaLive),l.ekj("fade",i.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:mw,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,i){1&t&&(l.F$t(),l.YNc(0,HM,2,1,"ng-template",null,0,l.W1O),l.YNc(2,jM,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",i.contentHeaderTpl||i.header))},dependencies:[M.O5,M.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),UI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[RO]}),n})(),VI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),PO=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=US(this.result),o=Array.isArray(this.term)?this.term:[this.term],d=$=>this.accentSensitive?$:HS($),_=o.map($=>function YM(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(d(US($)))).filter($=>$),C=this.accentSensitive?i:HS(i),O=_.length?C.split(new RegExp(`(${_.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=O;else{let $=0;this.parts=O.map(Z=>i.substring($,$+=Z.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,i){1&t&&l.YNc(0,qM,3,2,"ng-template",0),2&t&&l.Q6J("ngForOf",i.parts)},dependencies:[M.O5,M.ax],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function kO(){return 100}});let $I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[PO]}),n})();class xD{close(e){}dismiss(e){}}class FO{constructor(e,t,i,o){this._panelCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Se.x,this._dismissed=new Se.x,this._hidden=new Se.x,e.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),i&&i.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,_)=>{this._resolve=d,this._reject=_}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,_a.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,_a.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._panelCmptRef.instance.shown.asObservable()}close(e){this._panelCmptRef&&(this._closed.next(e),this._resolve(e),this._removeOffcanvasElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeOffcanvasElements()}dismiss(e){if(this._panelCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();VS(t)?t.then(i=>{!1!==i&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeOffcanvasElements(){const e=this._panelCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,pe.of)(void 0);e.subscribe(()=>{const{nativeElement:i}=this._panelCmptRef.location;i.parentNode.removeChild(i),this._panelCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._panelCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),e0(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ww=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(ww||(ww={})),ww))();let LO=(()=>{class n{constructor(t,i){this._el=t,this._zone=i,this.dismissEvent=new l.vpe}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ur.q)(1)).subscribe(()=>{Nu(this._zone,this._el.nativeElement,(t,i)=>{i&&Hv(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Nu(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}dismiss(){this.static||this.dismissEvent.emit(ww.BACKDROP_CLICK)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-offcanvas-backdrop"]],hostVars:6,hostBindings:function(t,i){1&t&&l.NdJ("mousedown",function(){return i.dismiss()}),2&t&&(l.Tol("offcanvas-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass",static:"static"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),BO=(()=>{class n{constructor(t,i,o){this._document=t,this._elRef=i,this._zone=o,this._closed$=new Se.x,this._elWithFocus=null,this.keyboard=!0,this.position="start",this.dismissEvent=new l.vpe,this.shown=new Se.x,this.hidden=new Se.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ur.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,o=Nu(this._zone,this._elRef.nativeElement,d=>(t.classList.remove("showing"),t.classList.add("hiding"),()=>t.classList.remove("show","hiding")),{animation:this.animation,runningTransition:"stop"});return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){Nu(this._zone,this._elRef.nativeElement,(o,d)=>(d&&Hv(o),o.classList.add("show","showing"),()=>o.classList.remove("showing")),{animation:this.animation,runningTransition:"continue"}).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Qu(t,"keydown").pipe((0,_a.R)(this._closed$),(0,Ie.h)(i=>i.which===Vs.Escape)).subscribe(i=>{this.keyboard&&requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(ww.ESC))})})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),o=yD(t)[0];(i||o||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(M.K0),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-offcanvas-panel"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("offcanvas offcanvas-"+i.position+(i.panelClass?" "+i.panelClass:"")))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",keyboard:"keyboard",panelClass:"panelClass",position:"position"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:mw,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2}),n})(),UO=(()=>{class n{constructor(t,i,o,d,_){this._applicationRef=t,this._injector=i,this._document=o,this._scrollBar=d,this._ngZone=_,this._activePanelCmptHasChanged=new Se.x,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._panelAttributes=["animation","ariaDescribedBy","ariaLabelledBy","keyboard","panelClass","position"],this._activeInstance=new l.vpe,this._activePanelCmptHasChanged.subscribe(()=>{this._panelCmpt&&ED(this._ngZone,this._panelCmpt.location.nativeElement,this._activePanelCmptHasChanged)})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,o){const d=o.container instanceof HTMLElement?o.container:Im(o.container)?this._document.querySelector(o.container):this._document.body;if(!d)throw new Error(`The specified offcanvas container "${o.container||"body"}" was not found in the DOM.`);o.scroll||this._hideScrollBar();const _=new xD,C=this._getContentRef(o.injector||t,i,_);let O=!1!==o.backdrop?this._attachBackdrop(d):void 0,$=this._attachWindowComponent(d,C.nodes),Z=new FO($,C,O,o.beforeDismiss);return this._registerOffcanvasRef(Z),this._registerPanelCmpt($),Z.hidden.pipe((0,tC.x)(()=>this._restoreScrollBar())).subscribe(),_.close=fe=>{Z.close(fe)},_.dismiss=fe=>{Z.dismiss(fe)},this._applyPanelOptions($.instance,o),O&&O.instance&&(this._applyBackdropOptions(O.instance,o),O.changeDetectorRef.detectChanges()),$.changeDetectorRef.detectChanges(),Z}get activeInstance(){return this._activeInstance}dismiss(t){this._offcanvasRef?.dismiss(t)}hasOpenOffcanvas(){return!!this._offcanvasRef}_attachBackdrop(t){let i=(0,l.LMc)(LO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let o=(0,l.LMc)(BO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_applyPanelOptions(t,i){this._panelAttributes.forEach(o=>{Im(i[o])&&(t[o]=i[o])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(o=>{Im(i[o])&&(t[o]=i[o])}),t.static="static"===i.backdrop}_getContentRef(t,i,o){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,o):IE(i)?this._createFromString(i):this._createFromComponent(t,i,o):new pg([])}_createFromTemplateRef(t,i){const d=t.createEmbeddedView({$implicit:i,close(_){i.close(_)},dismiss(_){i.dismiss(_)}});return this._applicationRef.attachView(d),new pg([d.rootNodes],d)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new pg([[i]])}_createFromComponent(t,i,o){const d=l.zs3.create({providers:[{provide:xD,useValue:o}],parent:t}),_=(0,l.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:d}),C=_.location.nativeElement;return this._applicationRef.attachView(_.hostView),new pg([[C]],_.hostView,_)}_registerOffcanvasRef(t){const i=()=>{this._offcanvasRef=void 0,this._activeInstance.emit(this._offcanvasRef)};this._offcanvasRef=t,this._activeInstance.emit(this._offcanvasRef),t.result.then(i,i)}_registerPanelCmpt(t){this._panelCmpt=t,this._activePanelCmptHasChanged.next(),t.onDestroy(()=>{this._panelCmpt=void 0,this._activePanelCmptHasChanged.next()})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(M.K0),l.LFG(_I),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VO=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0,this.position="start",this.scroll=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$O=(()=>{class n{constructor(t,i,o){this._injector=t,this._offcanvasStack=i,this._config=o}open(t,i={}){const o={...this._config,animation:this._config.animation,...i};return this._offcanvasStack.open(this._injector,t,o)}get activeInstance(){return this._offcanvasStack.activeInstance}dismiss(t){this._offcanvasStack.dismiss(t)}hasOpenOffcanvas(){return this._offcanvasStack.hasOpenOffcanvas()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(UO),l.LFG(VO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const HO=[hD,WS,fD,_C,DC,gI,EI,AD,HI,MI,OI,RI,PI,BI,UI,VI,$I];let GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[HO,hD,WS,fD,_C,DC,gI,EI,AD,HI,MI,OI,RI,PI,BI,UI,VI,$I]}),n})();class Tw{constructor(){}ngOnInit(){}}Tw.\u0275fac=function(e){return new(e||Tw)},Tw.\u0275cmp=l.Xpm({type:Tw,selectors:[["app-carousel"]],standalone:!0,features:[l.jDz],decls:27,vars:0,consts:[["id","carouselCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","1","aria-label","Slide 2"],[1,"carousel-inner",2,"width","100%","height","400px !important"],[1,"carousel-item","active"],["src","assets/Planning.jpg",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block",2,"top","0","bottom","auto"],[1,"carousel-item"],["src","assets/Prepare.jpg",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"button",2)(3,"button",3),l.qZA(),l.TgZ(4,"div",4)(5,"div",5),l._UZ(6,"img",6),l.TgZ(7,"div",7)(8,"h3"),l._uU(9,"Plan your travel"),l.qZA(),l.TgZ(10,"p"),l._uU(11,"Plan by capturing where, when, with whom."),l.qZA()()(),l.TgZ(12,"div",8),l._UZ(13,"img",9),l.TgZ(14,"div",10)(15,"h3"),l._uU(16,"Prepare your travel"),l.qZA(),l.TgZ(17,"p"),l._uU(18,"Checklist to track the booking and packing."),l.qZA()()()(),l.TgZ(19,"button",11),l._UZ(20,"span",12),l.TgZ(21,"span",13),l._uU(22,"Previous"),l.qZA()(),l.TgZ(23,"button",14),l._UZ(24,"span",15),l.TgZ(25,"span",13),l._uU(26,"Next"),l.qZA()()())},dependencies:[M.ez],styles:[".carousel-caption[_ngcontent-%COMP%]{position:absolute;z-index:10;top:0;bottom:auto;color:#e40808;text-align:center;font-weight:700;font-size:x-large}"]});class m0{constructor(){}ngOnInit(){}}function jO(n,e){1&n&&(l.TgZ(0,"div",12)(1,"span"),l._uU(2,"Please enter a valid email address"),l.qZA()())}function WO(n,e){1&n&&(l.TgZ(0,"div",12)(1,"span"),l._uU(2,"Please enter the Password"),l.qZA()())}m0.\u0275fac=function(e){return new(e||m0)},m0.\u0275cmp=l.Xpm({type:m0,selectors:[["app-home"]],standalone:!0,features:[l.jDz],decls:6,vars:0,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-4","pull-md-left"],[1,"col-md-8","pull-md-right"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"router-outlet"),l.qZA(),l.TgZ(4,"div",3),l._UZ(5,"app-carousel"),l.qZA()()())},dependencies:[M.ez,cg.Bz,cg.lC,Tw]});class RE{constructor(e){this.authService=e}ngOnInit(){this.reactiveForm=new Bn.cw({email:new Bn.NI(null,[Bn.kI.required,Bn.kI.email]),password:new Bn.NI(null,[Bn.kI.required])})}login(){this.reactiveForm.valid&&this.authService.SignIn(this.reactiveForm.value.email,this.reactiveForm.value.password)}}RE.\u0275fac=function(e){return new(e||RE)(l.Y36(Jy.e))},RE.\u0275cmp=l.Xpm({type:RE,selectors:[["app-login"]],standalone:!0,features:[l.jDz],decls:24,vars:4,consts:[[1,"mb-3"],[3,"formGroup","ngSubmit"],["for","emailInput",1,"form-label"],["type","email","id","emailInput","formControlName","email",1,"form-control"],["class","showValidation",4,"ngIf"],["for","passwordInput",1,"form-label"],["type","password","id","passwordInput","formControlName","password",1,"form-control"],[1,"col","text-center"],["type","submit",1,"btn","btn-primary","text-center","mt-4",3,"disabled"],[1,"text-center","mt-3"],["routerLink","/signup",1,"button"],["routerLink","/forgot",1,"button"],[1,"showValidation"]],template:function(e,t){1&e&&(l.TgZ(0,"h4",0),l._uU(1,"Login"),l.qZA(),l.TgZ(2,"form",1),l.NdJ("ngSubmit",function(){return t.login()}),l.TgZ(3,"div",0)(4,"label",2),l._uU(5,"Email address"),l.qZA(),l._UZ(6,"input",3),l.YNc(7,jO,3,0,"div",4),l.qZA(),l.TgZ(8,"div",0)(9,"label",5),l._uU(10,"Password"),l.qZA(),l._UZ(11,"input",6),l.YNc(12,WO,3,0,"div",4),l.qZA(),l.TgZ(13,"div",7)(14,"button",8),l._uU(15,"Go"),l.qZA()()(),l.TgZ(16,"div",9)(17,"a",10)(18,"strong"),l._uU(19,"Register"),l.qZA()()(),l.TgZ(20,"div",9)(21,"a",11)(22,"strong"),l._uU(23,"Forgot Password?"),l.qZA()()()),2&e&&(l.xp6(2),l.Q6J("formGroup",t.reactiveForm),l.xp6(5),l.Q6J("ngIf",!t.reactiveForm.get("email").valid&&t.reactiveForm.get("email").touched),l.xp6(5),l.Q6J("ngIf",!t.reactiveForm.get("password").valid&&t.reactiveForm.get("password").touched),l.xp6(2),l.Q6J("disabled",!t.reactiveForm.valid))},dependencies:[M.ez,M.O5,Bn.UX,Bn._Y,Bn.Fj,Bn.JJ,Bn.JL,Bn.sg,Bn.u,cg.Bz,cg.rH],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}.showValidation[_ngcontent-%COMP%]{color:red}"]});class Cw{constructor(){}ngOnInit(){}}Cw.\u0275fac=function(e){return new(e||Cw)},Cw.\u0275cmp=l.Xpm({type:Cw,selectors:[["app-flow"]],standalone:!0,features:[l.jDz],decls:37,vars:0,consts:[[1,"text-center"],[1,"container","mt-3"],[1,"row","g-0","b-1"],[1,"col-lg-4"],[1,"card","text-black","bg-plan","rounded-0"],[1,"card-body"],[1,"card-text","text-start"],[1,"card","text-black","bg-prepare","rounded-0"],[1,"card","text-black","bg-tripon","rounded-0"]],template:function(e,t){1&e&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4"),l._uU(7,"Travel Plan"),l.qZA(),l.TgZ(8,"ul",6)(9,"li"),l._uU(10,"Capture where, when and with whom planning to travel"),l.qZA(),l.TgZ(11,"li"),l._uU(12,"Capture visiting places, transport, activities to do, food and stay"),l.qZA()()()()(),l.TgZ(13,"div",3)(14,"div",7)(15,"div",5)(16,"h4"),l._uU(17,"Prepare"),l.qZA(),l.TgZ(18,"ul",6)(19,"li"),l._uU(20,"Track your bookings for leave, transport, stay, activities"),l.qZA(),l.TgZ(21,"li"),l._uU(22,"Track your bag items using checklist"),l.qZA(),l.TgZ(23,"li"),l._uU(24,"Track your preparation status"),l.qZA()()()()(),l.TgZ(25,"div",3)(26,"div",8)(27,"div",5)(28,"h4"),l._uU(29,"Travel On"),l.qZA(),l.TgZ(30,"ul",6)(31,"li"),l._uU(32,"During travel, track your expenses against transport, food, shopping etc."),l.qZA(),l.TgZ(33,"li"),l._uU(34,"Add interesting notes"),l.qZA(),l.TgZ(35,"li"),l._uU(36,"Shared expenses are tracked with report"),l.qZA()()()()()()()())},dependencies:[M.ez],styles:[".container[_ngcontent-%COMP%]   .bg-plan[_ngcontent-%COMP%]{background-color:#639be4}.container[_ngcontent-%COMP%]   .bg-prepare[_ngcontent-%COMP%]{background-color:#ebe97e}.container[_ngcontent-%COMP%]   .bg-tripon[_ngcontent-%COMP%]{background-color:#addd9f}"]});const zO=[{text:"Own Car",value:"Own Car"},{text:"Hiring",value:"Hiring"},{text:"Cab/Public",value:"Cab/Public"},{text:"Flight",value:"Flight"},{text:"Ferry",value:"Ferry"},{text:"Walking",value:"Walking"}];class Dw{constructor(e,t){this.store=e,this.authService=t,this.isLoading$=this.store.pipe((0,Zt.Ys)(Vl)),this.error$=this.store.pipe((0,Zt.Ys)(Mo))}}const qO=["checkInput"];function KO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8)(1,"input",9,10),l.NdJ("change",function(o){l.CHM(t);const d=l.oxw();return l.KtG(d.onSelectAllChange(o))}),l.qZA(),l.TgZ(3,"label",11),l._uU(4,"All"),l.qZA()()}}function ZO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"option",12),l.NdJ("ngValue",function(){const d=l.CHM(t).$implicit;return l.KtG(d.value)}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t.text)}}function YO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",15),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw(2);return l.KtG(_.openDetails(d))}),l._uU(1),l.TgZ(2,"span",16),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw(2);return l.KtG(_.removeTag(d))}),l._uU(3,"X"),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}function JO(n,e){if(1&n&&(l.TgZ(0,"div",13),l.YNc(1,YO,4,1,"span",14),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.tags)}}function QO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",18)(2,"div",19)(3,"span",20),l.NdJ("dblclick",function(){const d=l.CHM(t).$implicit,_=l.oxw(2);return l.KtG(_.removeTag(d))}),l._uU(4),l.TgZ(5,"span",21),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw(2);return l.KtG(_.removeTag(d))}),l._uU(6,"X"),l.qZA()()()()()}if(2&n){const t=e.$implicit;l.xp6(4),l.Oqu(t)}}function XO(n,e){if(1&n&&(l.TgZ(0,"div",13),l.YNc(1,QO,7,1,"div",17),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.tags)}}class Wv{constructor(){this.showDetails=!0,this.showSelectAll=!1,this.allowEmptyTags=!1,this.isCollapsed=!0,this.value="-1",this.isSelectAll=!1,this.onTagClick=new l.vpe,this.touched=!1,this.disabled=!1,this.onChange=e=>{},this.onTouched=()=>{}}onOptionsSelected(e){this.value=e.target.value,this.addtoTags(),e.target.value="-1",this.isCollapsed=!0}onSelectAllChange(e){e.target.checked?(this.tags=[],this.tags=this.items.map(t=>t.text)):this.tags=[],this.onChange(this.tags),this.isCollapsed=!0}addtoTags(){this.markAsTouched(),"-1"!==this.value&&!this.tags.includes(this.value)&&(this.tags=[...this.tags,this.value],this.onChange(this.tags))}removeTag(e){this.markAsTouched(),this.tags=this.tags?.filter(t=>t!=e),0===this.tags.length&&this.checkInput?.nativeElement?.checked&&(this.checkInput.nativeElement.checked=!1),this.onChange(this.tags)}openDetails(e){this.onTagClick.emit(e)}writeValue(e){this.tags=e??[]}registerOnChange(e){this.onChange=e}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}validate(e){return this.allowEmptyTags||0!==this.tags?.length?null:{tagsAreEmpty:!0}}registerOnValidatorChange(e){}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}function eR(n,e){1&n&&(l.TgZ(0,"div",18)(1,"span"),l._uU(2,"Number required. "),l.qZA()())}function tR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19)(1,"div",20)(2,"button",21),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.save())}),l._uU(3,"Set"),l.qZA(),l.TgZ(4,"button",22),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.cancel())}),l._uU(5,"Cancel"),l.qZA()()()}}function nR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",23),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.closeOffCanvas())}),l._uU(1,"Close"),l.qZA()}}Wv.\u0275fac=function(e){return new(e||Wv)},Wv.\u0275cmp=l.Xpm({type:Wv,selectors:[["app-selectformtag"]],viewQuery:function(e,t){if(1&e&&l.Gf(qO,5),2&e){let i;l.iGM(i=l.CRH())&&(t.checkInput=i.first)}},inputs:{toggleLabel:"toggleLabel",items:"items",showDetails:"showDetails",showSelectAll:"showSelectAll",allowEmptyTags:"allowEmptyTags"},outputs:{onTagClick:"onTagClick"},standalone:!0,features:[l._Bn([{provide:Bn.JU,multi:!0,useExisting:(0,l.Gpc)(()=>Wv)},{provide:Bn.Cf,multi:!0,useExisting:(0,l.Gpc)(()=>Wv)}]),l.jDz],decls:13,vars:8,consts:[["role","button","aria-controls","toggleLabelLink",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mt-2","mb-2",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],["class","form-control form-check form-switch",4,"ngIf"],["aria-label",".form-select example",1,"form-control","form-select",3,"ngModel","ngModelChange","change"],["value","-1"],[3,"ngValue",4,"ngFor","ngForOf"],["class","itag-container",4,"ngIf"],[1,"form-control","form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"change"],["checkInput",""],["for","flexSwitchCheckDefault",1,"form-check-label"],[3,"ngValue"],[1,"itag-container"],["class","btn btn-outline-secondary btn-sm position-relative mt-2 itag-tag btn-block",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary","btn-sm","position-relative","mt-2","itag-tag","btn-block",3,"click"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-secondary",3,"click"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[1,"itag-tag-2",3,"dblclick"],[1,"close",3,"click"]],template:function(e,t){if(1&e){const i=l.EpF();l.TgZ(0,"div")(1,"div",0),l.NdJ("click",function(){l.CHM(i);const d=l.MAs(5);return l.KtG(d.toggle())}),l.TgZ(2,"strong"),l._uU(3),l.qZA()(),l.TgZ(4,"div",1,2),l.NdJ("ngbCollapseChange",function(d){return t.isCollapsed=d}),l.YNc(6,KO,5,0,"div",3),l.TgZ(7,"select",4),l.NdJ("ngModelChange",function(d){return t.value=d})("change",function(d){return t.onOptionsSelected(d)}),l.TgZ(8,"option",5),l._uU(9,"Choose"),l.qZA(),l.YNc(10,ZO,2,1,"option",6),l.qZA()(),l.YNc(11,JO,2,1,"div",7),l.YNc(12,XO,2,1,"div",7),l.qZA()}2&e&&(l.xp6(1),l.uIk("aria-expanded",t.isCollapsed),l.xp6(2),l.Oqu(t.toggleLabel),l.xp6(1),l.Q6J("ngbCollapse",t.isCollapsed),l.xp6(2),l.Q6J("ngIf",t.showSelectAll),l.xp6(1),l.Q6J("ngModel",t.value),l.xp6(3),l.Q6J("ngForOf",t.items),l.xp6(1),l.Q6J("ngIf",t.showDetails),l.xp6(1),l.Q6J("ngIf",!t.showDetails))},dependencies:[M.ez,M.sg,M.O5,Bn.u5,Bn.YN,Bn.Kr,Bn.EJ,Bn.JJ,Bn.On,_C,ZS],styles:[".itag-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itag-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#00f}.itag-tag[_ngcontent-%COMP%]{margin-right:15px;word-break:break-all}.itag-tag-2[_ngcontent-%COMP%]{margin-right:10px;padding:6px;border:1px solid rgb(190,185,185);border-radius:5px;line-height:50px;cursor:pointer;word-break:break-all}.itag-tag-2[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:.55rem;color:#504e4e}"]});const rR=function(n){return{show:n}};class PE{constructor(e){this.fb=e,this.isOpen=!1,this.data={},this.formValid=!1,this.formDirty=!1,this.onSave=new l.vpe,this.title="",this.reactiveForm=this.fb.group({comments:new Bn.NI(""),cost:new Bn.NI("",[Bn.kI.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$")]),paidBy:new Bn.NI(null),sharedWith:new Bn.NI([])}),this.reactiveForm.get("comments").valueChanges.subscribe(t=>{t&&(this.data={...this.data,tag:{...this.data.tag,comments:t}},this.setFormState())}),this.reactiveForm.get("cost").valueChanges.subscribe(t=>{t&&(this.data={...this.data,tag:{...this.data.tag,expense:{...this.data.tag.expense,cost:t}}},this.setFormState())}),this.reactiveForm.get("paidBy").valueChanges.subscribe(t=>{t&&(this.data={...this.data,tag:{...this.data.tag,expense:{...this.data.tag.expense,paidBy:t}}},this.setFormState())}),this.reactiveForm.get("sharedWith").valueChanges.subscribe(t=>{if(t){const i=t?.filter(d=>!this.data.tag.expense?.sharedWith?.find(_=>_===d))??[],o=this.data.tag.expense?.sharedWith?.filter(d=>t.includes(d))??[];this.data={...this.data,tag:{...this.data.tag,expense:{...this.data.tag.expense,sharedWith:o.concat(i)}}},this.setFormState()}})}ngOnChanges(){this.data&&(this.reactiveForm.patchValue({comments:this.data.tag?.comments??null,cost:this.data.tag?.expense?.cost??null,paidBy:this.data.tag?.expense?.paidBy??null,sharedWith:this.data?.tag?.expense?.sharedWith??null}),this.title=`${this.data?.tag?.name}`)}setFormState(){this.formValid=this.reactiveForm.valid,this.formDirty=this.reactiveForm.dirty}toggleOffcanvas(){this.isOpen=!this.isOpen}showOffCanvas(){this.isOpen=!0}closeOffCanvas(){this.isOpen=!1}onHidden(){this.reactiveForm.reset(),this.setFormState()}save(){this.formValid&&this.formDirty&&(this.onSave.emit(this.data),this.reactiveForm.markAsPristine(),this.setFormState())}cancel(){this.reactiveForm.reset(),this.setFormState()}}PE.\u0275fac=function(e){return new(e||PE)(l.Y36(Bn.qu))},PE.\u0275cmp=l.Xpm({type:PE,selectors:[["app-offcanvasdetails"]],inputs:{data:"data"},outputs:{onSave:"onSave"},standalone:!0,features:[l.TTD,l.jDz],decls:23,vars:15,consts:[["tabindex","-1","id","myOffcanvas","aria-labelledby","offcanvasLabel",1,"offcanvas","offcanvas-end",3,"ngClass","hidden"],[1,"offcanvas-header"],["type","button","aria-label","Close",1,"btn-close","text-reset",3,"click"],["id","offcanvasLabel",1,"offcanvas-title"],[1,"offcanvas-body"],[1,"form-group",3,"formGroup"],[1,"mb-3","form-floating"],["placeholder","Comments","id","floatingTextareaComments","formControlName","comments",1,"form-control"],["for","floatingTextareaComments"],["type","text","placeholder","Cost","id","floatingInputCost","name","name","formControlName","cost",1,"form-control"],["for","floatingInputCost"],["class","showValidation",4,"ngIf"],[1,"mb-3"],["id","paidBySelect","toggleLabel","Paid By","formControlName","paidBy",3,"allowEmptyTags","items","showDetails"],["id","sharedWithSelect","toggleLabel","Share expense with","formControlName","sharedWith",3,"allowEmptyTags","items","showDetails","showSelectAll"],[1,"col","text-center","mt-5"],["class","row",4,"ngIf"],["type","submit","class","btn btn-primary btn-sm text-center",3,"click",4,"ngIf"],[1,"showValidation"],[1,"row"],["col-sm-6","","text-center",""],["type","submit",1,"btn","btn-primary","text-center","btn-sm","me-2",3,"click"],["type","submit",1,"btn","btn-primary","text-center","btn-sm","ms-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-sm","text-center",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.NdJ("hidden",function(){return t.onHidden()}),l.TgZ(1,"div",1)(2,"button",2),l.NdJ("click",function(){return t.closeOffCanvas()}),l.qZA(),l.TgZ(3,"h5",3),l._uU(4),l.qZA()(),l.TgZ(5,"div",4)(6,"form",5)(7,"div",6),l._UZ(8,"textarea",7),l.TgZ(9,"label",8),l._uU(10,"Comments"),l.qZA()(),l.TgZ(11,"div",6),l._UZ(12,"input",9),l.TgZ(13,"label",10),l._uU(14,"Cost (xxx.xx)"),l.qZA(),l.YNc(15,eR,3,0,"div",11),l.qZA(),l.TgZ(16,"div",12),l._UZ(17,"app-selectformtag",13),l.qZA(),l.TgZ(18,"div",12),l._UZ(19,"app-selectformtag",14),l.qZA(),l.TgZ(20,"div",15),l.YNc(21,tR,6,0,"div",16),l.YNc(22,nR,2,0,"button",17),l.qZA()()()()),2&e&&(l.Q6J("ngClass",l.VKq(13,rR,t.isOpen)),l.xp6(4),l.hij("",t.title," Details"),l.xp6(2),l.Q6J("formGroup",t.reactiveForm),l.xp6(9),l.Q6J("ngIf",!t.reactiveForm.get("cost").valid&&t.reactiveForm.get("cost").touched&&t.reactiveForm.get("cost").dirty),l.xp6(2),l.Q6J("allowEmptyTags",!0)("items",null==t.data?null:t.data.people)("showDetails",!1),l.xp6(2),l.Q6J("allowEmptyTags",!0)("items",null==t.data?null:t.data.people)("showDetails",!1)("showSelectAll",!0),l.xp6(2),l.Q6J("ngIf",t.formValid&&t.formDirty),l.xp6(1),l.Q6J("ngIf",!t.formDirty&&t.formValid))},dependencies:[M.ez,M.mk,M.O5,Bn.UX,Bn._Y,Bn.Fj,Bn.JJ,Bn.JL,Bn.sg,Bn.u,Wv],styles:[".offcanvas-end[_ngcontent-%COMP%]{right:0;transform:translate(100%);max-width:80%;top:2%;bottom:2%}.offcanvas.show[_ngcontent-%COMP%]{transform:translate(0)}.showValidation[_ngcontent-%COMP%]{color:red}"],changeDetection:0});var GI=L(7489);function iR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",6),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.openDetails(d))}),l._uU(1),l.TgZ(2,"span",7),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.removeTag(d))}),l._uU(3,"X"),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}class _0{constructor(){this.allowEmptyTags=!1,this.onTagClick=new l.vpe,this.isCollapsed=!0,this.userInput="",this.tags=[],this.touched=!1,this.disabled=!1,this.onChange=e=>{},this.onTouched=()=>{}}ngOnInit(){}addtoTags(){if(this.markAsTouched(),this.userInput.length>0&&this.tags?.indexOf(this.userInput)<0){let e=this.userInput.replace(/\w+/g,GI.startCase);this.tags=[...this.tags,e],this.onChange(this.tags),this.userInput=""}this.isCollapsed=!0}removeTag(e){this.markAsTouched(),this.tags=this.tags?.filter(t=>t!=e),this.onChange(this.tags)}openDetails(e){this.onTagClick.emit(e)}writeValue(e){this.tags=e}registerOnChange(e){this.onChange=e}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}validate(e){return this.allowEmptyTags||0!==this.tags?.length?null:{tagsAreEmpty:!0}}registerOnValidatorChange(e){}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}function sR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",17),l.NdJ("mouseenter",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.hoveredDate=d)})("mouseleave",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.hoveredDate=null)}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.focused,o=l.oxw();l.ekj("disable",o.isDisabled(t))("focused",i)("range",o.isRange(t))("faded",o.isHovered(t)||o.isInside(t)),l.xp6(1),l.hij(" ",t.day," ")}}function oR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",18)(1,"button",19),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.onPrevious())}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("disabled",t.formDirty),l.xp6(1),l.Oqu("< Previous")}}function aR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",14)(1,"button",19),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.onPrevious())}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("disabled",t.formDirty),l.xp6(1),l.Oqu("< Previous")}}function uR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",18)(1,"button",20),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.saveTrip())}),l._uU(2,"Save"),l.qZA(),l.TgZ(3,"button",21),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.cancelChanges())}),l._uU(4,"Cancel"),l.qZA()()}}function lR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",19),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.saveTrip())}),l._uU(1,"Save"),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("disabled",!t.formValid&&t.formDirty)}}function cR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",22),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.cancelChanges())}),l._uU(1,"Cancel"),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("disabled",!t.formValid&&t.formDirty)}}function dR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",19),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.onNext())}),l._uU(1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("disabled",t.formDirty),l.xp6(1),l.Oqu("Next >")}}_0.\u0275fac=function(e){return new(e||_0)},_0.\u0275cmp=l.Xpm({type:_0,selectors:[["app-textformtag"]],inputs:{toggleLabel:"toggleLabel",placeholderText:"placeholderText",allowEmptyTags:"allowEmptyTags"},outputs:{onTagClick:"onTagClick"},standalone:!0,features:[l._Bn([{provide:Bn.JU,multi:!0,useExisting:(0,l.Gpc)(()=>_0)},{provide:Bn.Cf,multi:!0,useExisting:(0,l.Gpc)(()=>_0)}]),l.jDz],decls:9,vars:6,consts:[["role","button","aria-controls","toggleLabelLink",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mt-2","mb-2",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],["type","text","id","nameInput",1,"form-control","itag-input",3,"placeholder","ngModel","ngModelChange","keydown.enter","focusout"],[1,"itag-container"],["class","btn btn-outline-secondary btn-sm position-relative mt-2 itag-tag",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary","btn-sm","position-relative","mt-2","itag-tag",3,"click"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-secondary",3,"click"]],template:function(e,t){if(1&e){const i=l.EpF();l.TgZ(0,"div")(1,"div",0),l.NdJ("click",function(){l.CHM(i);const d=l.MAs(5);return l.KtG(d.toggle())}),l.TgZ(2,"strong"),l._uU(3),l.qZA()(),l.TgZ(4,"div",1,2),l.NdJ("ngbCollapseChange",function(d){return t.isCollapsed=d}),l.TgZ(6,"input",3),l.NdJ("ngModelChange",function(d){return t.userInput=d})("keydown.enter",function(){return t.addtoTags()})("focusout",function(){return t.addtoTags()}),l.qZA()(),l.TgZ(7,"div",4),l.YNc(8,iR,4,1,"span",5),l.qZA()()}2&e&&(l.xp6(1),l.uIk("aria-expanded",t.isCollapsed),l.xp6(2),l.Oqu(t.toggleLabel),l.xp6(1),l.Q6J("ngbCollapse",t.isCollapsed),l.xp6(2),l.s9C("placeholder",t.placeholderText),l.Q6J("ngModel",t.userInput),l.xp6(2),l.Q6J("ngForOf",t.tags))},dependencies:[M.ez,M.sg,Bn.u5,Bn.Fj,Bn.JJ,Bn.On,_C,ZS],styles:[".itag-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itag-tag[_ngcontent-%COMP%]{margin-right:10px;padding:6px;border:1px solid rgb(190,185,185);border-radius:5px;cursor:pointer;word-break:break-all;color:#00f}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:.55rem;color:#504e4e}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-weight:700}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:red}"]});const hR=function(n,e,t){return{year:n,month:e,day:t}};class Sw extends Dw{constructor(e,t,i,o){super(i),this.fb=e,this.parserFormatter=o,this.onNavigate=new l.vpe,this.formValid=!1,this.formDirty=!1,this.nextSlideExists=!1,this.offCanvasData={},this.hoveredDate=null,this.current=new Date,this.minDate={year:this.current.getFullYear(),month:this.current.getMonth()+1,day:this.current.getDate()},this.maxDate=this.minDate,this.isDisabled=d=>{const _=new Date(d.year,d.month-1,d.day);return _<new Date(this.minDate.year,this.minDate.month-1,this.minDate.day)||_>new Date(this.maxDate.year,this.maxDate.month-1,this.maxDate.day)},this.transportOptions=zO}ngOnInit(){if(this.trip){this.currentPlace=this.trip.places[this.slideIndex],this.nextSlideExists=!!this.trip.places[this.slideIndex+1];let e=new Date(this.trip.start_at),t=new Date(this.trip.end_at);this.minDate=new ea(e.getFullYear(),e.getMonth()+1,e.getDate()),this.maxDate=new ea(t.getFullYear(),t.getMonth()+1,t.getDate());const{start_at:i,end_at:o}=this.currentPlace;let d=i?new Date(i):e,_=o?new Date(o):t,C=this.currentPlace.transports?.map(Z=>Z.name)??[],O=this.currentPlace.stays?.map(Z=>Z.name)??[],$=this.currentPlace.activities?.map(Z=>Z.name)??[];this.reactiveForm=this.fb.group({fromDate:new Bn.NI(new ea(d.getFullYear(),d.getMonth()+1,d.getDate())),toDate:new Bn.NI(new ea(_.getFullYear(),_.getMonth()+1,_.getDate())),transports:new Bn.NI(C),stays:new Bn.NI(O),activities:new Bn.NI($)})}this.reactiveForm.get("fromDate").valueChanges.subscribe(e=>{this.currentPlace={...this.currentPlace,start_at:this.parserFormatter.format(e)},this.setFormState()}),this.reactiveForm.get("toDate").valueChanges.subscribe(e=>{this.currentPlace={...this.currentPlace,end_at:this.parserFormatter.format(e)},this.setFormState()}),this.reactiveForm.get("transports").valueChanges.subscribe(e=>{const i=(e.filter(d=>!this.currentPlace.transports?.find(_=>_.name===d))??[]).map(d=>({name:d})),o=this.currentPlace.transports?.filter(d=>e.includes(d.name))??[];this.currentPlace={...this.currentPlace,transports:o.concat(i)},this.setFormState()}),this.reactiveForm.get("stays").valueChanges.subscribe(e=>{const i=(e.filter(d=>!this.currentPlace.stays?.find(_=>_.name===d))??[]).map(d=>({name:d})),o=this.currentPlace.stays?.filter(d=>e.includes(d.name))??[];this.currentPlace={...this.currentPlace,stays:o.concat(i)},this.setFormState()}),this.reactiveForm.get("activities").valueChanges.subscribe(e=>{const i=(e.filter(d=>!this.currentPlace.activities?.find(_=>_.name===d))??[]).map(d=>({name:d})),o=this.currentPlace.activities?.filter(d=>e.includes(d.name))??[];this.currentPlace={...this.currentPlace,activities:o.concat(i)},this.setFormState()})}setFormState(){this.formValid=this.reactiveForm.valid,this.formDirty=this.reactiveForm.dirty}ngOnChanges(e){let t=e.trip;if(t&&t.previousValue&&t.currentValue&&t.previousValue!==t.currentValue){if(t.previousValue.start_at!==t.currentValue.start_at){const i=new Date(t.currentValue.start_at);this.minDate=new ea(i.getFullYear(),i.getMonth()+1,i.getDate()),this.reactiveForm.patchValue({fromDate:this.minDate})}if(t.previousValue.end_at!==t.currentValue.end_at){const i=new Date(t.currentValue.end_at);this.maxDate=new ea(i.getFullYear(),i.getMonth()+1,i.getDate()),this.reactiveForm.patchValue({toDate:this.maxDate})}t.previousValue.places.length!==t.currentValue.places.length&&(this.nextSlideExists=!!this.trip.places[this.slideIndex+1])}}ngAfterViewInit(){}tagClicked(e,t){let i={};switch(i.type=e,e){case"transport":i.tag=this.currentPlace.transports.find(o=>o.name===t);break;case"stay":i.tag=this.currentPlace.stays.find(o=>o.name===t);break;case"activity":i.tag=this.currentPlace.activities.find(o=>o.name===t)}i.people=this.trip.people.map(o=>({text:o.name,value:o.name})),this.offCanvasData=i,this.offcanvasdetailsComponent.showOffCanvas()}saveTagData(e){switch(e.type){case"transport":const t=this.currentPlace.transports.findIndex(fe=>fe.name===e.tag.name),i={...this.currentPlace.transports[t],comments:e.tag.comments,expense:e.tag.expense},o=[...this.currentPlace.transports.slice(0,t),i,...this.currentPlace.transports.slice(t+1)];this.currentPlace={...this.currentPlace,transports:o},this.reactiveForm.get("transports").markAsDirty();break;case"stay":const d=this.currentPlace.stays.findIndex(fe=>fe.name===e.tag.name),_={...this.currentPlace.stays[d],comments:e.tag.comments,expense:e.tag.expense},C=[...this.currentPlace.stays.slice(0,d),_,...this.currentPlace.stays.slice(d+1)];this.currentPlace={...this.currentPlace,stays:C},this.reactiveForm.get("stays").markAsDirty();break;case"activity":const O=this.currentPlace.activities.findIndex(fe=>fe.name===e.tag.name),$={...this.currentPlace.activities[O],comments:e.tag.comments,expense:e.tag.expense},Z=[...this.currentPlace.activities.slice(0,O),$,...this.currentPlace.activities.slice(O+1)];this.currentPlace={...this.currentPlace,activities:Z},this.reactiveForm.get("activities").markAsDirty()}this.setFormState()}onNext(){this.onNavigate.emit(!0)}onPrevious(){this.onNavigate.emit(!1)}saveTrip(){if(this.reactiveForm.valid&&this.reactiveForm.dirty){const{fromDate:e,toDate:t}=this.reactiveForm.value;let i={name:this.currentPlace.name,start_at:this.parserFormatter.format(e),end_at:this.parserFormatter.format(t),transports:this.currentPlace.transports??null,stays:this.currentPlace.stays??null,activities:this.currentPlace.activities??null};this.store.dispatch(Ui({place:{...i}})),this.reactiveForm.markAsPristine(),this.setFormState()}}cancelChanges(){}onDateSelection(e){this.reactiveForm.value.fromDate||this.reactiveForm.value.toDate?this.reactiveForm.value.fromDate&&!this.reactiveForm.value.toDate&&e.after(this.reactiveForm.value.fromDate)?this.reactiveForm.patchValue({toDate:e}):(this.reactiveForm.patchValue({toDate:null}),this.reactiveForm.patchValue({fromDate:e})):this.reactiveForm.patchValue({fromDate:e}),this.reactiveForm.get("fromDate").markAsDirty(),this.reactiveForm.get("toDate").markAsDirty()}isHovered(e){return this.reactiveForm.value.fromDate&&!this.reactiveForm.value.toDate&&this.hoveredDate&&e.after(this.reactiveForm.value.fromDate)&&e.before(this.hoveredDate)}isInside(e){return this.reactiveForm.value.toDate&&e.after(this.reactiveForm.value.fromDate)&&e.before(this.reactiveForm.value.toDate)}isRange(e){return e.equals(this.reactiveForm.value.fromDate)||this.reactiveForm.value.toDate&&e.equals(this.reactiveForm.value.toDate)||this.isInside(e)||this.isHovered(e)}}function fR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"span",5),l.NdJ("dblclick",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.removeTag(d))}),l._uU(4),l.TgZ(5,"span",6),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.removeTag(d))}),l._uU(6,"X"),l.qZA()()()()()}if(2&n){const t=e.$implicit;l.xp6(4),l.Oqu(t)}}Sw.\u0275fac=function(e){return new(e||Sw)(l.Y36(Bn.qu),l.Y36(ME),l.Y36(Zt.yh),l.Y36(bC))},Sw.\u0275cmp=l.Xpm({type:Sw,selectors:[["app-place"]],viewQuery:function(e,t){if(1&e&&(l.Gf(f0,5,l.SBq),l.Gf(PE,5)),2&e){let i;l.iGM(i=l.CRH())&&(t.datePicker=i.first),l.iGM(i=l.CRH())&&(t.offcanvasdetailsComponent=i.first)}},inputs:{slideIndex:"slideIndex",trip:"trip"},outputs:{onNavigate:"onNavigate"},standalone:!0,features:[l.qOj,l.TTD,l.jDz],decls:26,vars:22,consts:[[1,"container"],[3,"data","onSave"],[1,"form-group",3,"formGroup"],[1,"mb-3"],["for","placeDatesInput",1,"form-label"],["outsideDays","hidden",1,"ngb-dp",3,"id","displayMonths","dayTemplate","minDate","markDisabled","dateSelect"],["dpPlace{{slideIndex}}",""],["t",""],["toggleLabel","Add Transport","formControlName","transports",3,"allowEmptyTags","items","onTagClick"],["toggleLabel","Add Stays","placeholderText","Ex: Airbnb at XXX","formControlName","stays",3,"allowEmptyTags","onTagClick"],["toggleLabel","Add Activities","placeholderText","Ex: Waitomo Caves on 11th Sunday","formControlName","activities",3,"allowEmptyTags","onTagClick"],[1,"row","mt-5"],["class","text-center",4,"ngIf"],["class","col-sm-4 text-center",4,"ngIf"],[1,"col-sm-4","text-center"],["type","button","class","btn btn-primary btn-sm me-5",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm ms-5",3,"disabled","click",4,"ngIf"],[1,"custom-day",3,"mouseenter","mouseleave"],[1,"text-center"],["type","button",1,"btn","btn-primary","btn-sm","me-5",3,"disabled","click"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","ms-3",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","ms-5",3,"disabled","click"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0)(1,"app-offcanvasdetails",1),l.NdJ("onSave",function(o){return t.saveTagData(o)}),l.qZA(),l.TgZ(2,"form",2)(3,"div",3)(4,"label",4),l._uU(5),l.qZA(),l._UZ(6,"br"),l.TgZ(7,"ngb-datepicker",5,6),l.NdJ("dateSelect",function(o){return t.onDateSelection(o)}),l.qZA(),l.YNc(9,sR,2,9,"ng-template",null,7,l.W1O),l.qZA(),l.TgZ(11,"div",3)(12,"app-selectformtag",8),l.NdJ("onTagClick",function(o){return t.tagClicked("transport",o)}),l.qZA()(),l.TgZ(13,"div",3)(14,"app-textformtag",9),l.NdJ("onTagClick",function(o){return t.tagClicked("stay",o)}),l.qZA()(),l.TgZ(15,"div",3)(16,"app-textformtag",10),l.NdJ("onTagClick",function(o){return t.tagClicked("activity",o)}),l.qZA()(),l.TgZ(17,"div",11),l.YNc(18,oR,3,2,"div",12),l.YNc(19,aR,3,2,"div",13),l.YNc(20,uR,5,0,"div",12),l.TgZ(21,"div",14),l.YNc(22,lR,2,1,"button",15),l.YNc(23,cR,2,1,"button",16),l.qZA(),l.TgZ(24,"div",14),l.YNc(25,dR,2,2,"button",15),l.qZA()()()()),2&e){const i=l.MAs(10);l.xp6(1),l.Q6J("data",t.offCanvasData),l.xp6(1),l.Q6J("formGroup",t.reactiveForm),l.xp6(3),l.hij("Start & End Dates at ",t.currentPlace.name,""),l.xp6(2),l.MGl("id","dpPlace",t.slideIndex,""),l.Q6J("displayMonths",1)("dayTemplate",i)("minDate",l.kEZ(18,hR,t.minDate.year,t.minDate.month,t.minDate.day))("markDisabled",t.isDisabled),l.xp6(5),l.Q6J("allowEmptyTags",!0)("items",t.transportOptions),l.xp6(2),l.Q6J("allowEmptyTags",!0),l.xp6(2),l.Q6J("allowEmptyTags",!0),l.xp6(2),l.Q6J("ngIf",!t.nextSlideExists&&!t.formDirty),l.xp6(1),l.Q6J("ngIf",t.nextSlideExists),l.xp6(1),l.Q6J("ngIf",t.formValid&&t.formDirty&&!t.nextSlideExists),l.xp6(2),l.Q6J("ngIf",t.formDirty&&t.nextSlideExists),l.xp6(1),l.Q6J("ngIf",t.formDirty&&t.nextSlideExists),l.xp6(2),l.Q6J("ngIf",t.nextSlideExists)}},dependencies:[M.ez,M.O5,Bn.UX,Bn._Y,Bn.JJ,Bn.JL,Bn.sg,Bn.u,DC,f0,_0,Wv,PE],styles:[".ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]{background-color:#e5e9ec80;text-decoration:line-through}.ngb-dp[_ngcontent-%COMP%]   .custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.ngb-dp[_ngcontent-%COMP%]   .custom-day.range[_ngcontent-%COMP%], .ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.ngb-dp[_ngcontent-%COMP%]   .custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}.ngb-dp[_ngcontent-%COMP%]   .custom-day.disable[_ngcontent-%COMP%]{opacity:.7;pointer-events:none;text-decoration:line-through;background-color:#e9e9e9}"],changeDetection:0});class v0{constructor(){this.userInput="",this.tags=[],this.onChange=e=>{},this.onTouched=()=>{},this.touched=!1,this.disabled=!1}writeValue(e){this.tags=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}setDisabledState(e){this.disabled=e}validate(e){return 0===this.tags?.length?{tagsAreEmpty:!0}:null}ngOnInit(){}addtoTags(){if(this.markAsTouched(),!this.disabled&&this.userInput.length>0){let e=this.userInput.replace(/\w+/g,GI.startCase);this.tags?.indexOf(e)<0&&(this.tags=[...this.tags,e],this.onChange(this.tags))}this.userInput=""}removeTag(e){this.markAsTouched(),this.tags=this.tags.filter(t=>t!=e),this.onChange(this.tags)}}v0.\u0275fac=function(e){return new(e||v0)},v0.\u0275cmp=l.Xpm({type:v0,selectors:[["app-inputformtag"]],inputs:{placeholderText:"placeholderText"},standalone:!0,features:[l._Bn([{provide:Bn.JU,multi:!0,useExisting:(0,l.Gpc)(()=>v0)},{provide:Bn.Cf,multi:!0,useExisting:(0,l.Gpc)(()=>v0)}]),l.jDz],decls:3,vars:3,consts:[[1,"itag-container"],["type","text","id","nameInput","name","name",1,"form-control","itag-input",3,"placeholder","ngModel","ngModelChange","focusout","keydown.enter"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[1,"itag-tag",3,"dblclick"],[1,"close",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"input",1),l.NdJ("ngModelChange",function(o){return t.userInput=o})("focusout",function(){return t.addtoTags()})("keydown.enter",function(){return t.addtoTags()}),l.qZA(),l.YNc(2,fR,7,1,"div",2),l.qZA()),2&e&&(l.xp6(1),l.s9C("placeholder",t.placeholderText),l.Q6J("ngModel",t.userInput),l.xp6(1),l.Q6J("ngForOf",t.tags))},dependencies:[M.ez,M.sg,Bn.u5,Bn.Fj,Bn.JJ,Bn.On],styles:[".itag-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itag-tag[_ngcontent-%COMP%]{margin-right:10px;padding:6px;border:1px solid rgb(190,185,185);border-radius:5px;line-height:50px;cursor:pointer;word-break:break-all;color:#00f}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:.55rem;color:#504e4e}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-weight:700}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:red}"]});var jI=L(4465);const pR=["dpTravel"];function gR(n,e){1&n&&(l.TgZ(0,"div",17)(1,"span"),l._uU(2,"Please add places"),l.qZA()())}function mR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",18),l.NdJ("mouseenter",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.hoveredDate=d)})("mouseleave",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.hoveredDate=null)}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.focused,o=l.oxw();l.ekj("disable",o.isDisabled(t))("focused",i)("range",o.isRange(t))("faded",o.isHovered(t)||o.isInside(t)),l.xp6(1),l.hij(" ",t.day," ")}}function _R(n,e){1&n&&(l.TgZ(0,"div",17)(1,"span"),l._uU(2,"Please add people"),l.qZA()())}function vR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",19),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.saveTrip())}),l._uU(1,"Save"),l.qZA()}}function yR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",20),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.cancelChanges())}),l._uU(1,"Cancel"),l.qZA()}}function ER(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.createTrip())}),l._uU(1,"Create"),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("disabled",!t.formValid)}}function bR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",19),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.onNext())}),l._uU(1),l.qZA()}2&n&&(l.xp6(1),l.Oqu("Next >"))}const wR=function(n,e,t){return{year:n,month:e,day:t}};class Iw extends Dw{constructor(e,t,i,o,d,_){super(e,t),this.fb=i,this.calendar=o,this.parserFormatter=d,this.toastService=_,this.onNavigate=new l.vpe,this.formValid=!1,this.formDirty=!1,this.hoveredDate=null,this.current=new Date,this.minDate={year:this.current.getFullYear(),month:this.current.getMonth()+1,day:this.current.getDate()},this.isDisabled=C=>new Date(C.year,C.month-1,C.day)<new Date(this.minDate.year,this.minDate.month-1,this.minDate.day)}ngOnInit(){if(this.trip){let e=this.trip.places.map(d=>d.name),t=this.trip.people.map(d=>d.name),i=new Date(this.trip.start_at),o=new Date(this.trip.end_at);this.reactiveForm=this.fb.group({places:new Bn.NI(e,[Bn.kI.required]),people:new Bn.NI(t,[Bn.kI.required]),fromDate:new Bn.NI(new ea(i.getFullYear(),i.getMonth()+1,i.getDate()),Bn.kI.required),toDate:new Bn.NI(new ea(o.getFullYear(),o.getMonth()+1,o.getDate()),Bn.kI.required)})}else this.reactiveForm=this.fb.group({places:new Bn.NI([],[Bn.kI.required]),people:new Bn.NI([],[Bn.kI.required]),fromDate:new Bn.NI(this.calendar.getToday(),Bn.kI.required),toDate:new Bn.NI(this.calendar.getNext(this.calendar.getToday(),"d",5),Bn.kI.required)});this.reactiveForm.valueChanges.subscribe(e=>{this.setFormState()})}setFormState(){this.formValid=this.reactiveForm.valid,this.formDirty=this.reactiveForm.dirty}ngAfterViewInit(){this.trip&&this.datepicker.navigateTo({year:this.reactiveForm.value.fromDate.year,month:this.reactiveForm.value.fromDate.month})}onDateSelection(e){this.reactiveForm.value.fromDate||this.reactiveForm.value.toDate?this.reactiveForm.value.fromDate&&!this.reactiveForm.value.toDate&&e.after(this.reactiveForm.value.fromDate)?this.reactiveForm.patchValue({toDate:e}):(this.reactiveForm.patchValue({toDate:null}),this.reactiveForm.patchValue({fromDate:e})):this.reactiveForm.patchValue({fromDate:e}),this.reactiveForm.get("fromDate").markAsDirty(),this.reactiveForm.get("toDate").markAsDirty()}isHovered(e){return this.reactiveForm.value.fromDate&&!this.reactiveForm.value.toDate&&this.hoveredDate&&e.after(this.reactiveForm.value.fromDate)&&e.before(this.hoveredDate)}isInside(e){return this.reactiveForm.value.toDate&&e.after(this.reactiveForm.value.fromDate)&&e.before(this.reactiveForm.value.toDate)}isRange(e){return e.equals(this.reactiveForm.value.fromDate)||this.reactiveForm.value.toDate&&e.equals(this.reactiveForm.value.toDate)||this.isInside(e)||this.isHovered(e)}saveTrip(){if(this.reactiveForm.valid&&this.reactiveForm.dirty){const{places:e,fromDate:t,toDate:i,people:o}=this.reactiveForm.value,d=this.trip.places.filter(Z=>e.includes(Z.name)),_=d.map(Z=>Z.name);e.forEach(Z=>{_.includes(Z)||d.push({name:Z})});const C=this.trip.people.filter(Z=>o.includes(Z.name)),O=C.map(Z=>Z.name);o.forEach(Z=>{O.includes(Z)||C.push({name:Z})});let $={places:d,start_at:this.parserFormatter.format(t),end_at:this.parserFormatter.format(i),people:C,userId:this.trip.userId,id:this.trip.id};this.store.dispatch(_i({trip:{...$}})),this.reactiveForm.markAsPristine(),this.setFormState()}}createTrip(){if(this.reactiveForm.valid&&this.reactiveForm.dirty){this.formDirty=!1;const{places:e,fromDate:t,toDate:i,people:o}=this.reactiveForm.value;let d={places:e.map(_=>({name:_})),start_at:this.parserFormatter.format(t),end_at:this.parserFormatter.format(i),people:o.map(_=>({name:_})),userId:this.authService.user.uid,id:null};this.store.dispatch(Vo({trip:{...d}})),this.error$?(this.toastService.showWarningToast("New trip created.","Please continue capture other information in the Inprogress tab."),this.reactiveForm.markAsPristine(),this.setFormState()):(this.toastService.showWarningToast("Failed to Save","Something went Wrong. Please report using feedback feature."),console.log(this.error$))}}onNext(){this.onNavigate.emit(!0)}cancelChanges(){const e=this.trip.places.map(d=>d.name),t=this.trip.people.map(d=>d.name),i=new Date(this.trip.start_at),o=new Date(this.trip.end_at);this.reactiveForm.reset({places:e,people:t,fromDate:new ea(i.getFullYear(),i.getMonth()+1,i.getDate()),toDate:new ea(o.getFullYear(),o.getMonth()+1,o.getDate())})}}function TR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",3)(1,"a",4),l.NdJ("click",function(){const d=l.CHM(t).index,_=l.oxw();return l.KtG(_.onClicked(d))}),l._uU(2),l.qZA()()}if(2&n){const t=e.$implicit,i=l.oxw();l.ekj("active",t===i.selection),l.uIk("aria-current",t===i.selection?"page":""),l.xp6(2),l.Oqu(t)}}Iw.\u0275fac=function(e){return new(e||Iw)(l.Y36(Zt.yh),l.Y36(Jy.e),l.Y36(Bn.qu),l.Y36(ME),l.Y36(bC),l.Y36(jI.k))},Iw.\u0275cmp=l.Xpm({type:Iw,selectors:[["app-new-trip"]],viewQuery:function(e,t){if(1&e&&l.Gf(pR,5),2&e){let i;l.iGM(i=l.CRH())&&(t.datepicker=i.first)}},inputs:{trip:"trip"},outputs:{onNavigate:"onNavigate"},standalone:!0,features:[l.qOj,l.jDz],decls:26,vars:15,consts:[[1,"container"],[1,"form-group","pt-3",3,"formGroup"],[1,"mb-3"],["for","placesInput",1,"form-label"],["id","placesInput","placeholderText","Ex: Queenstown","formControlName","places"],["class","showValidation",4,"ngIf"],["for","travelDatesInput",1,"form-label"],["id","dpTravel","outsideDays","hidden",1,"ngb-dp",3,"displayMonths","dayTemplate","minDate","markDisabled","dateSelect"],["dpTravel",""],["t",""],["for","peopleInput",1,"form-label"],["id","peopleInput","placeholderText","Ex: John","formControlName","people"],[1,"row","mt-5"],[1,"col-sm","text-center"],["type","button","class","btn btn-primary btn-sm me-5",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm ms-5",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm me-5",3,"disabled","click",4,"ngIf"],[1,"showValidation"],[1,"custom-day",3,"mouseenter","mouseleave"],["type","button",1,"btn","btn-primary","btn-sm","me-5",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","ms-5",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","me-5",3,"disabled","click"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),l._uU(4,"Travel places, Add places one after another by pressing [enter]"),l.qZA(),l._UZ(5,"app-inputformtag",4),l.YNc(6,gR,3,0,"div",5),l.qZA(),l.TgZ(7,"div",2)(8,"label",6),l._uU(9,"Travel Start - End Date"),l.qZA(),l._UZ(10,"br"),l.TgZ(11,"ngb-datepicker",7,8),l.NdJ("dateSelect",function(o){return t.onDateSelection(o)}),l.qZA(),l.YNc(13,mR,2,9,"ng-template",null,9,l.W1O),l.qZA(),l.TgZ(15,"div",2)(16,"label",10),l._uU(17,"Travelling with, Add people one after another by pressing [enter]. If group, enter comma seperated persons"),l.qZA(),l._UZ(18,"app-inputformtag",11),l.YNc(19,_R,3,0,"div",5),l.qZA(),l.TgZ(20,"div",12)(21,"div",13),l.YNc(22,vR,2,0,"button",14),l.YNc(23,yR,2,0,"button",15),l.YNc(24,ER,2,1,"button",16),l.YNc(25,bR,2,1,"button",14),l.qZA()()()()),2&e){const i=l.MAs(14);l.xp6(1),l.Q6J("formGroup",t.reactiveForm),l.xp6(5),l.Q6J("ngIf",!t.reactiveForm.get("places").valid&&t.reactiveForm.get("places").touched&&t.reactiveForm.get("places").dirty),l.xp6(5),l.Q6J("displayMonths",1)("dayTemplate",i)("minDate",l.kEZ(11,wR,t.minDate.year,t.minDate.month,t.minDate.day))("markDisabled",t.isDisabled),l.xp6(8),l.Q6J("ngIf",!t.reactiveForm.get("people").valid&&t.reactiveForm.get("people").touched&&t.reactiveForm.get("people").dirty),l.xp6(3),l.Q6J("ngIf",void 0!==t.trip&&t.formValid&&t.formDirty),l.xp6(1),l.Q6J("ngIf",void 0!==t.trip&&t.formValid&&t.formDirty),l.xp6(1),l.Q6J("ngIf",void 0===t.trip),l.xp6(1),l.Q6J("ngIf",void 0!==t.trip&&!t.formDirty)}},dependencies:[M.ez,M.O5,Bn.UX,Bn._Y,Bn.JJ,Bn.JL,Bn.sg,Bn.u,DC,f0,v0],styles:["label[_ngcontent-%COMP%]{font-weight:500}app-inputformtag.ng-invalid.ng-touched.ng-dirty[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border:red 1px solid}.showValidation[_ngcontent-%COMP%]{color:red}.ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]{background-color:#e5e9ec80;text-decoration:line-through}.ngb-dp[_ngcontent-%COMP%]   .custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.ngb-dp[_ngcontent-%COMP%]   .custom-day.range[_ngcontent-%COMP%], .ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.ngb-dp[_ngcontent-%COMP%]   .custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}.ngb-dp[_ngcontent-%COMP%]   .custom-day.disable[_ngcontent-%COMP%]{opacity:.7;pointer-events:none;text-decoration:line-through;background-color:#e9e9e9}"],changeDetection:0});class Aw{constructor(){this.onSelection=new l.vpe}onClicked(e){this.onSelection.emit(e)}}Aw.\u0275fac=function(e){return new(e||Aw)},Aw.\u0275cmp=l.Xpm({type:Aw,selectors:[["app-breadcrump"]],inputs:{items:"items",selection:"selection"},outputs:{onSelection:"onSelection"},standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],["class","breadcrumb-item",3,"active",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"nav",0)(1,"ol",1),l.YNc(2,TR,3,4,"li",2),l.qZA()()),2&e&&(l.xp6(2),l.Q6J("ngForOf",t.items))},dependencies:[M.ez,M.sg],styles:[".breadcrumb[_ngcontent-%COMP%]{color:#333}.breadcrumb[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#311de2;font-weight:bolder;font-size:large;border-bottom:2px}.breadcrumb[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{font-size:20px}"]});const CR=["ngcarousel"];function DR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",5)(1,"fieldset",6)(2,"div",7)(3,"app-new-trip",8,9),l.NdJ("onNavigate",function(o){l.CHM(t);const d=l.oxw();return l.KtG(d.navigate(o))}),l.qZA()()()()}if(2&n){const t=l.oxw();l.xp6(3),l.Q6J("trip",t.trip)}}function SR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",5)(1,"fieldset",6)(2,"div",11)(3,"app-breadcrump",12),l.NdJ("onSelection",function(o){l.CHM(t);const d=l.oxw(2);return l.KtG(d.navigateToSlide(o))}),l.qZA()(),l.TgZ(4,"div",7)(5,"app-place",13),l.NdJ("onNavigate",function(o){l.CHM(t);const d=l.oxw(2);return l.KtG(d.navigate(o))}),l.qZA()()()()}if(2&n){const t=l.oxw(),i=t.$implicit,o=t.index,d=l.oxw();l.xp6(3),l.Q6J("items",d.places)("selection",i),l.xp6(2),l.Q6J("trip",d.trip)("slideIndex",o)}}function IR(n,e){1&n&&l.YNc(0,SR,6,4,"ng-template",10),2&n&&l.MGl("id","slide-",e.index,"")}class xw extends Dw{constructor(e){super(e),this.places=[],this.store.pipe((0,Zt.Ys)(Wa),(0,bo.x)(),(0,w_.b)(t=>{t&&(this.trip=t,this.places=t?.places.map(i=>i.name))})).subscribe()}ngOnInit(){}navigateToSlide(e){this.ngCarousel.select("slide-"+e)}navigate(e){e?this.ngCarousel.next():this.ngCarousel.prev()}}function AR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"label",11),l._uU(4),l.qZA(),l._UZ(5,"input",12),l.qZA()(),l.TgZ(6,"div",9)(7,"button",13),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.removefromCheckList(d))}),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(4),l.Oqu(t)}}xw.\u0275fac=function(e){return new(e||xw)(l.Y36(Zt.yh))},xw.\u0275cmp=l.Xpm({type:xw,selectors:[["app-planning"]],viewQuery:function(e,t){if(1&e&&l.Gf(CR,7),2&e){let i;l.iGM(i=l.CRH())&&(t.ngCarousel=i.first)}},standalone:!0,features:[l.qOj,l.jDz],decls:5,vars:5,consts:[[1,"container"],[3,"showNavigationArrows","showNavigationIndicators","interval","keyboard"],["ngcarousel",""],["ngbSlide","","id","slide-main"],[4,"ngFor","ngForOf"],[1,"picsum-img-wrapper"],["id","step-1"],[1,"panel-body"],[3,"trip","onNavigate"],["newtrip",""],["ngbSlide","",3,"id"],[1,"place-heading","mb-3"],[3,"items","selection","onSelection"],[3,"trip","slideIndex","onNavigate"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"ngb-carousel",1,2),l.YNc(3,DR,5,1,"ng-template",3),l.YNc(4,IR,1,1,null,4),l.qZA()()),2&e&&(l.xp6(1),l.Q6J("showNavigationArrows",!1)("showNavigationIndicators",!1)("interval",0)("keyboard",!1),l.xp6(3),l.Q6J("ngForOf",t.places))},dependencies:[M.ez,M.sg,fD,KS,qS,Sw,Iw,Aw],styles:["label[_ngcontent-%COMP%]{font-weight:500}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}"],changeDetection:0});class Mw{constructor(e){this.activeOffcanvas=e,this.userInput="",this.bagItems=[]}ngOnInit(){}addtoCheckList(){this.userInput.length>0&&this.bagItems.indexOf(this.userInput)<0&&this.bagItems.push(this.userInput),this.userInput=""}removefromCheckList(e){this.bagItems=this.bagItems.filter(t=>t!=e)}}Mw.\u0275fac=function(e){return new(e||Mw)(l.Y36(xD))},Mw.\u0275cmp=l.Xpm({type:Mw,selectors:[["app-offcanvas-bag"]],standalone:!0,features:[l.jDz],decls:9,vars:2,consts:[[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close","text-reset",3,"click"],[1,"offcanvas-body"],["type","text","placeholder","Ex: Mobile Charger, press [Enter]","id","bagitemInput",1,"form-control","itag-input","mb-3",3,"ngModel","ngModelChange","keydown.enter"],[1,"container"],[1,"content"],["class","row mb-2",4,"ngFor","ngForOf"],[1,"row","mb-2"],[1,"col"],[1,"form-check","form-switch"],[1,"form-check-label"],["type","checkbox",1,"form-check-input"],["type","button","aria-label","Close",1,"btn-close","btn-sm",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"h5",1),l._uU(2,"Bag Checklist"),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return t.activeOffcanvas.dismiss("Cross click")}),l.qZA()(),l.TgZ(4,"div",3)(5,"input",4),l.NdJ("ngModelChange",function(o){return t.userInput=o})("keydown.enter",function(){return t.addtoCheckList()}),l.qZA(),l.TgZ(6,"div",5)(7,"div",6),l.YNc(8,AR,8,1,"div",7),l.qZA()()()),2&e&&(l.xp6(5),l.Q6J("ngModel",t.userInput),l.xp6(3),l.Q6J("ngForOf",t.bagItems))},dependencies:[M.ez,M.sg,Bn.u5,Bn.Fj,Bn.JJ,Bn.On],styles:[".container[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 150px)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:auto;overflow-x:hidden}"]});class Nw{constructor(e){this.offCanvasService=e}openBagCheckList(){this.offCanvasService.open(Mw,{position:"end"})}}function xR(n,e){1&n&&(l.TgZ(0,"strong"),l._uU(1,"Your Plan"),l.qZA())}function MR(n,e){1&n&&l._UZ(0,"app-planning")}function NR(n,e){1&n&&(l.TgZ(0,"strong"),l._uU(1,"Preparation"),l.qZA())}function OR(n,e){1&n&&l._UZ(0,"app-prepare")}function RR(n,e){1&n&&(l.TgZ(0,"strong"),l._uU(1,"Travel On"),l.qZA())}function PR(n,e){1&n&&l._uU(0," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS. ")}function kR(n,e){1&n&&(l.TgZ(0,"strong"),l._uU(1,"Summary and Expense Report"),l.qZA())}function FR(n,e){1&n&&l._uU(0," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS. ")}Nw.\u0275fac=function(e){return new(e||Nw)(l.Y36($O))},Nw.\u0275cmp=l.Xpm({type:Nw,selectors:[["app-prepare"]],standalone:!0,features:[l.jDz],decls:30,vars:0,consts:[[1,"container"],[1,"mb-3"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchChecLeave",1,"form-check-input"],["for","flexSwitchChecLeave",1,"form-check-label"],["type","checkbox","id","flexSwitchCheckTransport",1,"form-check-input"],["for","flexSwitchCheckTransport",1,"form-check-label"],["type","checkbox","id","flexSwitchCheckStay",1,"form-check-input"],["for","flexSwitchCheckStay",1,"form-check-label"],["type","checkbox","id","flexSwitchCheckActivities",1,"form-check-input"],["for","flexSwitchCheckActivities",1,"form-check-label"],["type","checkbox","id","flexSwitchCheckBag",1,"form-check-input"],["for","flexSwitchCheckBag",1,"form-check-label"],["role","button",1,"btn","btn-outline-primary","btn-sm",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"input",3),l.TgZ(4,"label",4),l._uU(5,"Leave requested at Office"),l.qZA()()(),l.TgZ(6,"div",1)(7,"div",2),l._UZ(8,"input",5),l.TgZ(9,"label",6),l._uU(10,"Transport booked"),l.qZA()()(),l.TgZ(11,"div",1)(12,"div",2),l._UZ(13,"input",7),l.TgZ(14,"label",8),l._uU(15,"Stay booked"),l.qZA()()(),l.TgZ(16,"div",1)(17,"div",2),l._UZ(18,"input",9),l.TgZ(19,"label",10),l._uU(20,"Activities booked"),l.qZA()()(),l.TgZ(21,"div",1)(22,"div",2),l._UZ(23,"input",11),l.TgZ(24,"label",12),l._uU(25,"Bag packed"),l.qZA()()(),l.TgZ(26,"div",1)(27,"div",13),l.NdJ("click",function(){return t.openBagCheckList()}),l.TgZ(28,"strong"),l._uU(29,"Bag Checklist"),l.qZA()()()())},dependencies:[M.ez]});class Ow extends Dw{constructor(e){super(e),this.activePanel="plan-panel"}ngOnInit(){}}Ow.\u0275fac=function(e){return new(e||Ow)(l.Y36(Zt.yh))},Ow.\u0275cmp=l.Xpm({type:Ow,selectors:[["app-tripdetail"]],inputs:{activePanel:"activePanel"},standalone:!0,features:[l.qOj,l.jDz],decls:16,vars:3,consts:[[1,"container"],[3,"activeIds","destroyOnHide","closeOthers"],["acc","ngbAccordion"],["id","plan-panel"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","preparation-panel"],["id","travelon-panel"],["id","summary-panel"]],template:function(e,t){1&e&&(l.TgZ(0,"section")(1,"div",0)(2,"ngb-accordion",1,2)(4,"ngb-panel",3),l.YNc(5,xR,2,0,"ng-template",4),l.YNc(6,MR,1,0,"ng-template",5),l.qZA(),l.TgZ(7,"ngb-panel",6),l.YNc(8,NR,2,0,"ng-template",4),l.YNc(9,OR,1,0,"ng-template",5),l.qZA(),l.TgZ(10,"ngb-panel",7),l.YNc(11,RR,2,0,"ng-template",4),l.YNc(12,PR,1,0,"ng-template",5),l.qZA(),l.TgZ(13,"ngb-panel",8),l.YNc(14,kR,2,0,"ng-template",4),l.YNc(15,FR,1,0,"ng-template",5),l.qZA()()()()),2&e&&(l.xp6(2),l.Q6J("activeIds",t.activePanel)("destroyOnHide",!1)("closeOthers",!0))},dependencies:[M.ez,hD,gC,pC,cD,dD,xw,Nw],styles:[".collapsible[_ngcontent-%COMP%]{background-color:#eee;color:#444;cursor:pointer;padding:18px;width:100%;border:none;text-align:left;outline:none;font-size:15px}.accordion[_ngcontent-%COMP%]{--bs-accordion-bg: rgb(255, 253, 253)}.collapse[_ngcontent-%COMP%]:not(.show){display:none}"]});const LR=["modelControl"];function BR(n,e){1&n&&(l.TgZ(0,"div",9),l._UZ(1,"img",10),l.qZA())}function UR(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.error$)}}function VR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.showTripDetails({tripId:d.id}))}),l.TgZ(1,"div")(2,"div",7),l._uU(3),l.qZA(),l.TgZ(4,"div"),l._uU(5),l.ALo(6,"date"),l.ALo(7,"date"),l.qZA()()()}if(2&n){const t=e.$implicit,i=l.oxw();l.xp6(3),l.Oqu(i.getPlacesHeading(t)),l.xp6(2),l.AsE("(",l.xi3(6,3,t.start_at,"fullDate")," - ",l.xi3(7,6,t.end_at,"fullDate"),")")}}function $R(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12)(1,"h5",13),l._uU(2),l.qZA(),l.TgZ(3,"button",14),l.NdJ("click",function(){const d=l.CHM(t).$implicit;return l.KtG(d.dismiss("Cross click"))}),l.qZA()(),l.TgZ(4,"div",15),l._UZ(5,"app-tripdetail"),l.qZA(),l.TgZ(6,"div",16)(7,"button",17),l.NdJ("click",function(){const d=l.CHM(t).$implicit;return l.KtG(d.close("Close click"))}),l._uU(8,"Close"),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.Oqu(t.title)}}class Rw extends Dw{constructor(e,t,i){super(e),this.ngbModelconfig=t,this.modalService=i,this.trips$=e.pipe((0,Zt.Ys)(gu)),t.backdrop="static",t.keyboard=!1}ngOnInit(){this.store.dispatch(Xs())}getPlacesHeading(e){return e.places.map(t=>t.name)}showTripDetails(e){this.title=e?.tripId?"Edit Trip":"New Trip",e?.tripId&&this.store.dispatch(Ul({tripId:e.tripId})),this.modalService.open(this.modelControl,{scrollable:!0,size:"xl"}).result.then(t=>{this.clearSelection()},t=>{this.clearSelection()})}clearSelection(){this.store.dispatch(ra())}}function HR(n,e){1&n&&l._UZ(0,"app-triplist")}function GR(n,e){1&n&&l._UZ(0,"app-triplist")}Rw.\u0275fac=function(e){return new(e||Rw)(l.Y36(Zt.yh),l.Y36(vI),l.Y36(yI))},Rw.\u0275cmp=l.Xpm({type:Rw,selectors:[["app-triplist"]],viewQuery:function(e,t){if(1&e&&l.Gf(LR,5),2&e){let i;l.iGM(i=l.CRH())&&(t.modelControl=i.first)}},standalone:!0,features:[l.qOj,l.jDz],decls:17,vars:9,consts:[[1,"container"],[1,"pt-3"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"list-group","list-group-light","ms-1","me-1"],["type","button","class","btn list-group-item list-group-item-action d-flex justify-content-between align-items-center px-3 border-2 rounded-2 mt-1 mb-3 list-group-item-primary",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action","px-3","text-center","justify-content-between","align-items-center","border-2","rounded-3","mb-3","list-group-item-success",3,"click"],[1,"fw-bold"],["modelControl",""],[1,"text-center"],["src","assets/loading.gif","alt","Loading..."],["type","button",1,"btn","list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","px-3","border-2","rounded-2","mt-1","mb-3","list-group-item-primary",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,BR,2,0,"div",2),l.ALo(3,"async"),l.YNc(4,UR,2,1,"div",3),l.ALo(5,"async"),l.TgZ(6,"div",4),l.YNc(7,VR,8,9,"button",5),l.ALo(8,"async"),l.TgZ(9,"button",6),l.NdJ("click",function(){return t.showTripDetails()}),l.TgZ(10,"div")(11,"div",7),l._uU(12,"New Trip"),l.qZA(),l.TgZ(13,"div",7),l._uU(14,"+"),l.qZA()()()(),l.YNc(15,$R,9,1,"ng-template",null,8,l.W1O),l.qZA()()),2&e&&(l.xp6(2),l.Q6J("ngIf",l.lcZ(3,3,t.isLoading$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(5,5,t.error$)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(8,7,t.trips$)))},dependencies:[M.ez,M.sg,M.O5,M.Ov,M.uU,Ow],styles:[".accordion-button.collapsed[_ngcontent-%COMP%]{background:rgb(243,245,247)}"],changeDetection:0});class Pw{}Pw.\u0275fac=function(e){return new(e||Pw)},Pw.\u0275cmp=l.Xpm({type:Pw,selectors:[["app-trip-tabs"]],standalone:!0,features:[l.jDz],decls:15,vars:4,consts:[[1,"container","mt-3","mb-3"],["ngbNav","",1,"nav-tabs","justify-content-center","nav-justified",3,"activeId"],["nav","ngbNav"],[1,"col-lg-4","text-center",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"]],template:function(e,t){if(1&e&&(l.TgZ(0,"section")(1,"div",0)(2,"ul",1,2)(4,"li",3)(5,"a",4)(6,"h5"),l._uU(7,"Trips"),l.qZA()(),l.YNc(8,HR,1,0,"ng-template",5),l.qZA(),l.TgZ(9,"li",3)(10,"a",4)(11,"h5"),l._uU(12,"Past Trips"),l.qZA()(),l.YNc(13,GR,1,0,"ng-template",5),l.qZA()(),l._UZ(14,"div",6),l.qZA()()),2&e){const i=l.MAs(3);l.xp6(2),l.Q6J("activeId",1),l.xp6(2),l.Q6J("ngbNavItem",1),l.xp6(5),l.Q6J("ngbNavItem",2),l.xp6(5),l.Q6J("ngbNavOutlet",i)}},dependencies:[M.ez,AD,CD,xC,AC,DD,ID,Rw],styles:[".nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#7a8dbb;border-width:0 0 2px 0;border-color:green}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#2c1cbe;border-width:2px 2px 0 2px}.tab-content[_ngcontent-%COMP%]{border-width:0 2px 2px 2px;border-color:green;border-style:solid;margin-top:-1px}"],changeDetection:0});class kw{}kw.\u0275fac=function(e){return new(e||kw)},kw.\u0275cmp=l.Xpm({type:kw,selectors:[["app-trips"]],standalone:!0,features:[l.jDz],decls:2,vars:0,template:function(e,t){1&e&&l._UZ(0,"app-flow")(1,"app-trip-tabs")},dependencies:[M.ez,Cw,Pw]});class kE{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return null!=this.authService.user||(this.router.navigate(["login"]),!1)}}kE.\u0275fac=function(e){return new(e||kE)(l.LFG(Jy.e),l.LFG(cg.F0))},kE.\u0275prov=l.Yz7({token:kE,factory:kE.\u0275fac,providedIn:"root"});const jR=[{path:"",component:m0,children:[{path:"login",component:RE},{path:"",component:RE}]},{path:"signup",component:m0,children:[{path:"",loadComponent:()=>L.e(431).then(L.bind(L,5431)).then(n=>n.SignupComponent)}]},{path:"forgot",component:m0,children:[{path:"",loadComponent:()=>L.e(895).then(L.bind(L,9895)).then(n=>n.ForgotComponent)}]},{path:"trip",canActivate:[kE],children:[{path:"",component:kw}]},{path:"**",loadComponent:()=>L.e(73).then(L.bind(L,73)).then(n=>n.PagenotfoundComponent)}];function WR(n,e){1&n&&(l.TgZ(0,"li",10)(1,"a",11)(2,"strong"),l._uU(3,"Login"),l.qZA()()())}function zR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",12)(1,"a",13)(2,"strong"),l._uU(3),l.qZA()(),l.TgZ(4,"ul",14)(5,"li")(6,"a",15),l._uU(7,"Settings"),l.qZA()(),l.TgZ(8,"li")(9,"a",16),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.logOut())}),l._uU(10,"Logout"),l.qZA()()()()}if(2&n){const t=l.oxw();l.xp6(3),l.Oqu(t.authService.user.displayName)}}class Fw{constructor(e){this.authService=e}ngOnInit(){}logOut(){this.authService.SignOut()}}Fw.\u0275fac=function(e){return new(e||Fw)(l.Y36(Jy.e))},Fw.\u0275cmp=l.Xpm({type:Fw,selectors:[["app-navbar"]],standalone:!0,features:[l.jDz],decls:10,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container"],["href","#",1,"navbar-brand"],["src","assets/Logo.svg","alt","","width","70","height","30"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],["class","nav-item",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item"],["routerLink","login",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","data-bs-target","#navbardropdownmenu","aria-controls","navbardropdownmenu","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink","id","navbardropdownmenu","data-bs-popper","",1,"dropdown-menu"],["href","#",1,"dropdown-item"],["routerLink","login",1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"button",4),l._UZ(5,"span",5),l.qZA(),l.TgZ(6,"div",6)(7,"ul",7),l.YNc(8,WR,4,0,"li",8),l.YNc(9,zR,11,1,"li",9),l.qZA()()()()),2&e&&(l.xp6(8),l.Q6J("ngIf",!t.authService.user),l.xp6(1),l.Q6J("ngIf",t.authService.user))},dependencies:[M.ez,M.O5,cg.Bz,cg.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:#fff}"]});var qR=L(5356);function WI(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function zI(n){return[Lc,Ld,Dh,Bc].some(function(e){return n[e]>=0})}const qI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function KR(n){var e=n.state,t=n.name,i=e.rects.reference,o=e.rects.popper,d=e.modifiersData.preventOverflow,_=$v(e,{elementContext:"reference"}),C=$v(e,{altBoundary:!0}),O=WI(_,i),$=WI(C,o,d),Z=zI(O),fe=zI($);e.modifiersData[t]={referenceClippingOffsets:O,popperEscapeOffsets:$,isReferenceHidden:Z,hasPopperEscaped:fe},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":Z,"data-popper-escaped":fe})}};var MD=c({defaultModifiers:[A,j,Tt,Yn,va,SE,dC,hC,qI]});const ND="transitionend",QR=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),KI=n=>{let e=n.getAttribute("data-bs-target");if(!e||"#"===e){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&"#"!==t?t.trim():null}return e},ZI=n=>{const e=KI(n);return e&&document.querySelector(e)?e:null},D_=n=>{const e=KI(n);return e?document.querySelector(e):null},YI=n=>{n.dispatchEvent(new Event(ND))},S_=n=>!(!n||"object"!=typeof n)&&(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),zv=n=>S_(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(n):null,FE=n=>{if(!S_(n)||0===n.getClientRects().length)return!1;const e="visible"===getComputedStyle(n).getPropertyValue("visibility"),t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const i=n.closest("summary");if(i&&i.parentNode!==t||null===i)return!1}return e},qv=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),JI=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?JI(n.parentNode):null},MC=()=>{},QI=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,OD=[],lp=()=>"rtl"===document.documentElement.dir,cp=n=>{(n=>{"loading"===document.readyState?(OD.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of OD)e()}),OD.push(n)):n()})(()=>{const e=QI();if(e){const t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},I_=n=>{"function"==typeof n&&n()},XI=(n,e,t=!0)=>{if(!t)return void I_(n);const o=(n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),o=Number.parseFloat(t);return i||o?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})(e)+5;let d=!1;const _=({target:C})=>{C===e&&(d=!0,e.removeEventListener(ND,_),I_(n))};e.addEventListener(ND,_),setTimeout(()=>{d||YI(e)},o)},RD=(n,e,t,i)=>{const o=n.length;let d=n.indexOf(e);return-1===d?!t&&i?n[o-1]:n[0]:(d+=t?1:-1,i&&(d=(d+o)%o),n[Math.max(0,Math.min(d,o-1))])},nP=/[^.]*(?=\..*)\.|.*/,rP=/\..*/,iP=/::\d+$/,PD={};let eA=1;const tA={mouseenter:"mouseover",mouseleave:"mouseout"},sP=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function nA(n,e){return e&&`${e}::${eA++}`||n.uidEvent||eA++}function rA(n){const e=nA(n);return n.uidEvent=e,PD[e]=PD[e]||{},PD[e]}function iA(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function sA(n,e,t){const i="string"==typeof e,o=i?t:e||t;let d=aA(n);return sP.has(d)||(d=n),[i,o,d]}function oA(n,e,t,i,o){if("string"!=typeof e||!n)return;let[d,_,C]=sA(e,t,i);var ft;e in tA&&(ft=_,_=function(kt){if(!kt.relatedTarget||kt.relatedTarget!==kt.delegateTarget&&!kt.delegateTarget.contains(kt.relatedTarget))return ft.call(this,kt)});const O=rA(n),$=O[C]||(O[C]={}),Z=iA($,_,d?t:null);if(Z)return void(Z.oneOff=Z.oneOff&&o);const fe=nA(_,e.replace(nP,"")),xe=d?function aP(n,e,t){return function i(o){const d=n.querySelectorAll(e);for(let{target:_}=o;_&&_!==this;_=_.parentNode)for(const C of d)if(C===_)return FD(o,{delegateTarget:_}),i.oneOff&&Sn.off(n,o.type,e,t),t.apply(_,[o])}}(n,t,_):function oP(n,e){return function t(i){return FD(i,{delegateTarget:n}),t.oneOff&&Sn.off(n,i.type,e),e.apply(n,[i])}}(n,_);xe.delegationSelector=d?t:null,xe.callable=_,xe.oneOff=o,xe.uidEvent=fe,$[fe]=xe,n.addEventListener(C,xe,d)}function kD(n,e,t,i,o){const d=iA(e[t],i,o);d&&(n.removeEventListener(t,d,Boolean(o)),delete e[t][d.uidEvent])}function uP(n,e,t,i){const o=e[t]||{};for(const d of Object.keys(o))if(d.includes(i)){const _=o[d];kD(n,e,t,_.callable,_.delegationSelector)}}function aA(n){return n=n.replace(rP,""),tA[n]||n}const Sn={on(n,e,t,i){oA(n,e,t,i,!1)},one(n,e,t,i){oA(n,e,t,i,!0)},off(n,e,t,i){if("string"!=typeof e||!n)return;const[o,d,_]=sA(e,t,i),C=_!==e,O=rA(n),$=O[_]||{},Z=e.startsWith(".");if(typeof d<"u"){if(!Object.keys($).length)return;kD(n,O,_,d,o?t:null)}else{if(Z)for(const fe of Object.keys(O))uP(n,O,fe,e.slice(1));for(const fe of Object.keys($)){const xe=fe.replace(iP,"");if(!C||e.includes(xe)){const We=$[fe];kD(n,O,_,We.callable,We.delegationSelector)}}}},trigger(n,e,t){if("string"!=typeof e||!n)return null;const i=QI();let _=null,C=!0,O=!0,$=!1;e!==aA(e)&&i&&(_=i.Event(e,t),i(n).trigger(_),C=!_.isPropagationStopped(),O=!_.isImmediatePropagationStopped(),$=_.isDefaultPrevented());let Z=new Event(e,{bubbles:C,cancelable:!0});return Z=FD(Z,t),$&&Z.preventDefault(),O&&n.dispatchEvent(Z),Z.defaultPrevented&&_&&_.preventDefault(),Z}};function FD(n,e){for(const[t,i]of Object.entries(e||{}))try{n[t]=i}catch{Object.defineProperty(n,t,{configurable:!0,get:()=>i})}return n}const Kv=new Map,LD={set(n,e,t){Kv.has(n)||Kv.set(n,new Map);const i=Kv.get(n);i.has(e)||0===i.size?i.set(e,t):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,e)=>Kv.has(n)&&Kv.get(n).get(e)||null,remove(n,e){if(!Kv.has(n))return;const t=Kv.get(n);t.delete(e),0===t.size&&Kv.delete(n)}};function uA(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function BD(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const A_={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${BD(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${BD(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let o=i.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=uA(n.dataset[i])}return e},getDataAttribute:(n,e)=>uA(n.getAttribute(`data-bs-${BD(e)}`))};class Bw{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=S_(t)?A_.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...S_(t)?A_.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const i of Object.keys(t)){const o=t[i],d=e[i],_=S_(d)?"element":QR(d);if(!new RegExp(o).test(_))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${_}" but expected type "${o}".`)}}}class gg extends Bw{constructor(e,t){super(),(e=zv(e))&&(this._element=e,this._config=this._getConfig(t),LD.set(this._element,this.constructor.DATA_KEY,this))}dispose(){LD.remove(this._element,this.constructor.DATA_KEY),Sn.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){XI(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return LD.get(zv(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const NC=(n,e="hide")=>{const i=n.NAME;Sn.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),qv(this))return;const d=D_(this)||this.closest(`.${i}`);n.getOrCreateInstance(d)[e]()})},lA=".bs.alert",dP=`close${lA}`,hP=`closed${lA}`;class OC extends gg{static get NAME(){return"alert"}close(){if(Sn.trigger(this._element,dP).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Sn.trigger(this._element,hP),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=OC.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}NC(OC,"close"),cp(OC);const cA='[data-bs-toggle="button"]';class RC extends gg{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=RC.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}Sn.on(document,"click.bs.button.data-api",cA,n=>{n.preventDefault();const e=n.target.closest(cA);RC.getOrCreateInstance(e).toggle()}),cp(RC);const ds={find:(n,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,n)),findOne:(n,e=document.documentElement)=>Element.prototype.querySelector.call(e,n),children:(n,e)=>[].concat(...n.children).filter(t=>t.matches(e)),parents(n,e){const t=[];let i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!qv(t)&&FE(t))}},LE=".bs.swipe",bP=`touchstart${LE}`,wP=`touchmove${LE}`,TP=`touchend${LE}`,CP=`pointerdown${LE}`,DP=`pointerup${LE}`,MP={endCallback:null,leftCallback:null,rightCallback:null},NP={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class PC extends Bw{constructor(e,t){super(),this._element=e,e&&PC.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return MP}static get DefaultType(){return NP}static get NAME(){return"swipe"}dispose(){Sn.off(this._element,LE)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),I_(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&I_(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Sn.on(this._element,CP,e=>this._start(e)),Sn.on(this._element,DP,e=>this._end(e)),this._element.classList.add("pointer-event")):(Sn.on(this._element,bP,e=>this._start(e)),Sn.on(this._element,wP,e=>this._move(e)),Sn.on(this._element,TP,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Zv=".bs.carousel",dA=".data-api",Uw="next",BE="prev",UE="left",kC="right",FP=`slide${Zv}`,UD=`slid${Zv}`,LP=`keydown${Zv}`,BP=`mouseenter${Zv}`,UP=`mouseleave${Zv}`,VP=`dragstart${Zv}`,$P=`load${Zv}${dA}`,HP=`click${Zv}${dA}`,hA="carousel",FC="active",fA=".active",pA=".carousel-item",KP=fA+pA,XP={ArrowLeft:kC,ArrowRight:UE},e2={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},t2={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Vw extends gg{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ds.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===hA&&this.cycle()}static get Default(){return e2}static get DefaultType(){return t2}static get NAME(){return"carousel"}next(){this._slide(Uw)}nextWhenVisible(){!document.hidden&&FE(this._element)&&this.next()}prev(){this._slide(BE)}pause(){this._isSliding&&YI(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Sn.one(this._element,UD,()=>this.cycle());this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void Sn.one(this._element,UD,()=>this.to(e));const i=this._getItemIndex(this._getActive());i!==e&&this._slide(e>i?Uw:BE,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Sn.on(this._element,LP,e=>this._keydown(e)),"hover"===this._config.pause&&(Sn.on(this._element,BP,()=>this.pause()),Sn.on(this._element,UP,()=>this._maybeEnableCycle())),this._config.touch&&PC.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of ds.find(".carousel-item img",this._element))Sn.on(i,VP,o=>o.preventDefault());this._swipeHelper=new PC(this._element,{leftCallback:()=>this._slide(this._directionToOrder(UE)),rightCallback:()=>this._slide(this._directionToOrder(kC)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=XP[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=ds.findOne(fA,this._indicatorsElement);t.classList.remove(FC),t.removeAttribute("aria-current");const i=ds.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(FC),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),o=e===Uw,d=t||RD(this._getItems(),i,o,this._config.wrap);if(d===i)return;const _=this._getItemIndex(d),C=We=>Sn.trigger(this._element,We,{relatedTarget:d,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:_});if(C(FP).defaultPrevented||!i||!d)return;const $=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(_),this._activeElement=d;const Z=o?"carousel-item-start":"carousel-item-end",fe=o?"carousel-item-next":"carousel-item-prev";d.classList.add(fe),i.classList.add(Z),d.classList.add(Z),this._queueCallback(()=>{d.classList.remove(Z,fe),d.classList.add(FC),i.classList.remove(FC,fe,Z),this._isSliding=!1,C(UD)},i,this._isAnimated()),$&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ds.findOne(KP,this._element)}_getItems(){return ds.find(pA,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return lp()?e===UE?BE:Uw:e===UE?Uw:BE}_orderToDirection(e){return lp()?e===BE?UE:kC:e===BE?kC:UE}static jQueryInterface(e){return this.each(function(){const t=Vw.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}Sn.on(document,HP,"[data-bs-slide], [data-bs-slide-to]",function(n){const e=D_(this);if(!e||!e.classList.contains(hA))return;n.preventDefault();const t=Vw.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(t.to(i),void t._maybeEnableCycle()):"next"===A_.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())}),Sn.on(window,$P,()=>{const n=ds.find('[data-bs-ride="carousel"]');for(const e of n)Vw.getOrCreateInstance(e)}),cp(Vw);const $w=".bs.collapse",i2=`show${$w}`,s2=`shown${$w}`,o2=`hide${$w}`,a2=`hidden${$w}`,u2=`click${$w}.data-api`,VD="show",VE="collapse",LC="collapsing",c2=`:scope .${VE} .${VE}`,$D='[data-bs-toggle="collapse"]',g2={parent:null,toggle:!0},m2={parent:"(null|element)",toggle:"boolean"};class Hw extends gg{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=ds.find($D);for(const o of i){const d=ZI(o),_=ds.find(d).filter(C=>C===this._element);null!==d&&_.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return g2}static get DefaultType(){return m2}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(C=>C!==this._element).map(C=>Hw.getOrCreateInstance(C,{toggle:!1}))),e.length&&e[0]._isTransitioning||Sn.trigger(this._element,i2).defaultPrevented)return;for(const C of e)C.hide();const i=this._getDimension();this._element.classList.remove(VE),this._element.classList.add(LC),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const _=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(LC),this._element.classList.add(VE,VD),this._element.style[i]="",Sn.trigger(this._element,s2)},this._element,!0),this._element.style[i]=`${this._element[_]}px`}hide(){if(this._isTransitioning||!this._isShown()||Sn.trigger(this._element,o2).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(LC),this._element.classList.remove(VE,VD);for(const o of this._triggerArray){const d=D_(o);d&&!this._isShown(d)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(LC),this._element.classList.add(VE),Sn.trigger(this._element,a2)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(VD)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=zv(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren($D);for(const t of e){const i=D_(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=ds.find(c2,this._config.parent);return ds.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=Hw.getOrCreateInstance(this,t);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Sn.on(document,u2,$D,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();const e=ZI(this),t=ds.find(e);for(const i of t)Hw.getOrCreateInstance(i,{toggle:!1}).toggle()}),cp(Hw);const gA="dropdown",y0=".bs.dropdown",HD=".data-api",v2="ArrowUp",_A="ArrowDown",E2=`hide${y0}`,b2=`hidden${y0}`,w2=`show${y0}`,T2=`shown${y0}`,vA=`click${y0}${HD}`,yA=`keydown${y0}${HD}`,C2=`keyup${y0}${HD}`,$E="show",E0='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',M2=`${E0}.${$E}`,BC=".dropdown-menu",P2=lp()?"top-end":"top-start",k2=lp()?"top-start":"top-end",F2=lp()?"bottom-end":"bottom-start",L2=lp()?"bottom-start":"bottom-end",B2=lp()?"left-start":"right-start",U2=lp()?"right-start":"left-start",H2={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},G2={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Am extends gg{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=ds.next(this._element,BC)[0]||ds.prev(this._element,BC)[0]||ds.findOne(BC,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return H2}static get DefaultType(){return G2}static get NAME(){return gA}toggle(){return this._isShown()?this.hide():this.show()}show(){if(qv(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Sn.trigger(this._element,w2,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))Sn.on(i,"mouseover",MC);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($E),this._element.classList.add($E),Sn.trigger(this._element,T2,e)}}hide(){!qv(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Sn.trigger(this._element,E2,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Sn.off(i,"mouseover",MC);this._popper&&this._popper.destroy(),this._menu.classList.remove($E),this._element.classList.remove($E),this._element.setAttribute("aria-expanded","false"),A_.removeDataAttribute(this._menu,"popper"),Sn.trigger(this._element,b2,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!S_(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${gA.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof w>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:S_(this._config.reference)?e=zv(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=MD(e,this._menu,t)}_isShown(){return this._menu.classList.contains($E)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return B2;if(e.classList.contains("dropstart"))return U2;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?k2:P2:t?L2:F2}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(A_.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const i=ds.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(o=>FE(o));i.length&&RD(i,t,e===_A,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Am.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=ds.find(M2);for(const i of t){const o=Am.getInstance(i);if(!o||!1===o._config.autoClose)continue;const d=e.composedPath(),_=d.includes(o._menu);if(d.includes(o._element)||"inside"===o._config.autoClose&&!_||"outside"===o._config.autoClose&&_||o._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const C={relatedTarget:o._element};"click"===e.type&&(C.clickEvent=e),o._completeHide(C)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,o=[v2,_A].includes(e.key);if(!o&&!i||t&&!i)return;e.preventDefault();const d=this.matches(E0)?this:ds.prev(this,E0)[0]||ds.next(this,E0)[0]||ds.findOne(E0,e.delegateTarget.parentNode),_=Am.getOrCreateInstance(d);if(o)return e.stopPropagation(),_.show(),void _._selectMenuItem(e);_._isShown()&&(e.stopPropagation(),_.hide(),d.focus())}}Sn.on(document,yA,E0,Am.dataApiKeydownHandler),Sn.on(document,yA,BC,Am.dataApiKeydownHandler),Sn.on(document,vA,Am.clearMenus),Sn.on(document,C2,Am.clearMenus),Sn.on(document,vA,E0,function(n){n.preventDefault(),Am.getOrCreateInstance(this).toggle()}),cp(Am);const EA=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",bA=".sticky-top",UC="padding-right",wA="margin-right";class GD{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,UC,t=>t+e),this._setElementAttributes(EA,UC,t=>t+e),this._setElementAttributes(bA,wA,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,UC),this._resetElementAttributes(EA,UC),this._resetElementAttributes(bA,wA)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const o=this.getWidth();this._applyManipulationCallback(e,_=>{if(_!==this._element&&window.innerWidth>_.clientWidth+o)return;this._saveInitialAttribute(_,t);const C=window.getComputedStyle(_).getPropertyValue(t);_.style.setProperty(t,`${i(Number.parseFloat(C))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&A_.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,o=>{const d=A_.getDataAttribute(o,t);null!==d?(A_.removeDataAttribute(o,t),o.style.setProperty(t,d)):o.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(S_(e))t(e);else for(const i of ds.find(e,this._element))t(i)}}const TA="backdrop",DA=`mousedown.bs.${TA}`,W2={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},z2={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class SA extends Bw{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return W2}static get DefaultType(){return z2}static get NAME(){return TA}show(e){if(!this._config.isVisible)return void I_(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{I_(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),I_(e)})):I_(e)}dispose(){this._isAppended&&(Sn.off(this._element,DA),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=zv(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Sn.on(e,DA,()=>{I_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){XI(e,this._getElement(),this._config.isAnimated)}}const VC=".bs.focustrap",K2=`focusin${VC}`,Z2=`keydown.tab${VC}`,IA="backward",Q2={autofocus:!0,trapElement:null},X2={autofocus:"boolean",trapElement:"element"};class AA extends Bw{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Q2}static get DefaultType(){return X2}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Sn.off(document,VC),Sn.on(document,K2,e=>this._handleFocusin(e)),Sn.on(document,Z2,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Sn.off(document,VC))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=ds.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===IA?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?IA:"forward")}}const mg=".bs.modal",rk=`hide${mg}`,ik=`hidePrevented${mg}`,xA=`hidden${mg}`,MA=`show${mg}`,sk=`shown${mg}`,ok=`resize${mg}`,ak=`click.dismiss${mg}`,uk=`mousedown.dismiss${mg}`,lk=`keydown.dismiss${mg}`,ck=`click${mg}.data-api`,NA="modal-open",jD="modal-static",mk={backdrop:!0,focus:!0,keyboard:!0},_k={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class HE extends gg{constructor(e,t){super(e,t),this._dialog=ds.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new GD,this._addEventListeners()}static get Default(){return mk}static get DefaultType(){return _k}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Sn.trigger(this._element,MA,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(NA),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Sn.trigger(this._element,rk).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])Sn.off(e,mg);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new SA({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new AA({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=ds.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Sn.trigger(this._element,sk,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){Sn.on(this._element,lk,e=>{if("Escape"===e.key){if(this._config.keyboard)return e.preventDefault(),void this.hide();this._triggerBackdropTransition()}}),Sn.on(window,ok,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Sn.on(this._element,uk,e=>{Sn.one(this._element,ak,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(NA),this._resetAdjustments(),this._scrollBar.reset(),Sn.trigger(this._element,xA)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Sn.trigger(this._element,ik).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(jD)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(jD),this._queueCallback(()=>{this._element.classList.remove(jD),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const o=lp()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!i&&e){const o=lp()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=HE.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}Sn.on(document,ck,'[data-bs-toggle="modal"]',function(n){const e=D_(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Sn.one(e,MA,o=>{o.defaultPrevented||Sn.one(e,xA,()=>{FE(this)&&this.focus()})});const t=ds.findOne(".modal.show");t&&HE.getInstance(t).hide(),HE.getOrCreateInstance(e).toggle(this)}),NC(HE),cp(HE);const x_=".bs.offcanvas",RA=".data-api",yk=`load${x_}${RA}`,kA="showing",LA=".offcanvas.show",wk=`show${x_}`,Tk=`shown${x_}`,Ck=`hide${x_}`,BA=`hidePrevented${x_}`,UA=`hidden${x_}`,Dk=`resize${x_}`,Sk=`click${x_}${RA}`,Ik=`keydown.dismiss${x_}`,xk={backdrop:!0,keyboard:!0,scroll:!1},Mk={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Yv extends gg{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return xk}static get DefaultType(){return Mk}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||Sn.trigger(this._element,wk,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new GD).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(kA),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(kA),Sn.trigger(this._element,Tk,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!Sn.trigger(this._element,Ck).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new GD).reset(),Sn.trigger(this._element,UA)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new SA({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Sn.trigger(this._element,BA)}:null})}_initializeFocusTrap(){return new AA({trapElement:this._element})}_addEventListeners(){Sn.on(this._element,Ik,e=>{if("Escape"===e.key){if(!this._config.keyboard)return void Sn.trigger(this._element,BA);this.hide()}})}static jQueryInterface(e){return this.each(function(){const t=Yv.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Sn.on(document,Sk,'[data-bs-toggle="offcanvas"]',function(n){const e=D_(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),qv(this))return;Sn.one(e,UA,()=>{FE(this)&&this.focus()});const t=ds.findOne(LA);t&&t!==e&&Yv.getInstance(t).hide(),Yv.getOrCreateInstance(e).toggle(this)}),Sn.on(window,yk,()=>{for(const n of ds.find(LA))Yv.getOrCreateInstance(n).show()}),Sn.on(window,Dk,()=>{for(const n of ds.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&Yv.getOrCreateInstance(n).hide()}),NC(Yv),cp(Yv);const Nk=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Rk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Pk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,kk=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?!Nk.has(t)||Boolean(Rk.test(n.nodeValue)||Pk.test(n.nodeValue)):e.filter(i=>i instanceof RegExp).some(i=>i.test(t))},VA={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Bk={allowList:VA,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Uk={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Vk={entry:"(string|element|function|null)",selector:"(string|element)"};class $k extends Bw{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Bk}static get DefaultType(){return Uk}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,d]of Object.entries(this._config.content))this._setContent(e,d,o);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Vk)}_setContent(e,t,i){const o=ds.findOne(i,e);if(o){if(!(t=this._resolvePossibleFunction(t)))return void o.remove();if(S_(t))return void this._putElementInTemplate(zv(t),o);if(this._config.html)return void(o.innerHTML=this._maybeSanitize(t));o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function Fk(n,e,t){if(!n.length)return n;if(t&&"function"==typeof t)return t(n);const o=(new window.DOMParser).parseFromString(n,"text/html"),d=[].concat(...o.body.querySelectorAll("*"));for(const _ of d){const C=_.nodeName.toLowerCase();if(!Object.keys(e).includes(C)){_.remove();continue}const O=[].concat(..._.attributes),$=[].concat(e["*"]||[],e[C]||[]);for(const Z of O)kk(Z,$)||_.removeAttribute(Z.nodeName)}return o.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Gk=new Set(["sanitize","allowList","sanitizeFn"]),WD="fade",$C="show",HA="hide.bs.modal",Gw="hover",zD="focus",iF={AUTO:"auto",TOP:"top",RIGHT:lp()?"left":"right",BOTTOM:"bottom",LEFT:lp()?"right":"left"},sF={allowList:VA,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},oF={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class GE extends gg{constructor(e,t){if(typeof w>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return sF}static get DefaultType(){return oF}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Sn.off(this._element.closest(".modal"),HA,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=Sn.trigger(this._element,this.constructor.eventName("show")),i=(JI(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:d}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(d.append(o),Sn.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(o),o.classList.add($C),"ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))Sn.on(C,"mouseover",MC);this._queueCallback(()=>{Sn.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Sn.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove($C),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))Sn.off(o,"mouseover",MC);this._activeTrigger.click=!1,this._activeTrigger[zD]=!1,this._activeTrigger[Gw]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Sn.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(WD,$C),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(WD),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new $k({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(WD)}_isShown(){return this.tip&&this.tip.classList.contains($C)}_createPopper(e){const t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,i=iF[t.toUpperCase()];return MD(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)Sn.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==t){const i=this.constructor.eventName(t===Gw?"mouseenter":"focusin"),o=this.constructor.eventName(t===Gw?"mouseleave":"focusout");Sn.on(this._element,i,this._config.selector,d=>{const _=this._initializeOnDelegatedTarget(d);_._activeTrigger["focusin"===d.type?zD:Gw]=!0,_._enter()}),Sn.on(this._element,o,this._config.selector,d=>{const _=this._initializeOnDelegatedTarget(d);_._activeTrigger["focusout"===d.type?zD:Gw]=_._element.contains(d.relatedTarget),_._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Sn.on(this._element.closest(".modal"),HA,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=A_.getDataAttributes(this._element);for(const i of Object.keys(t))Gk.has(i)&&delete t[i];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:zv(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=GE.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}cp(GE);const cF={...GE.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},dF={...GE.DefaultType,content:"(null|string|element|function)"};class qD extends GE{static get Default(){return cF}static get DefaultType(){return dF}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=qD.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}cp(qD);const KD=".bs.scrollspy",pF=`activate${KD}`,GA=`click${KD}`,gF=`load${KD}.data-api`,jE="active",ZD="[href]",jA=".nav-link",yF=`${jA}, .nav-item > ${jA}, .list-group-item`,wF={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},TF={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class HC extends gg{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return wF}static get DefaultType(){return TF}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=zv(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Sn.off(this._config.target,GA),Sn.on(this._config.target,GA,ZD,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:o,behavior:"smooth"});i.scrollTop=o}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const t=_=>this._targetLinks.get(`#${_.target.id}`),i=_=>{this._previousScrollData.visibleEntryTop=_.target.offsetTop,this._process(t(_))},o=(this._rootElement||document.documentElement).scrollTop,d=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const _ of e){if(!_.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(_));continue}const C=_.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(d&&C){if(i(_),!o)return}else!d&&!C&&i(_)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=ds.find(ZD,this._config.target);for(const t of e){if(!t.hash||qv(t))continue;const i=ds.findOne(t.hash,this._element);FE(i)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(jE),this._activateParents(e),Sn.trigger(this._element,pF,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))ds.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(jE);else for(const t of ds.parents(e,".nav, .list-group"))for(const i of ds.prev(t,yF))i.classList.add(jE)}_clearActiveClass(e){e.classList.remove(jE);const t=ds.find(`${ZD}.${jE}`,e);for(const i of t)i.classList.remove(jE)}static jQueryInterface(e){return this.each(function(){const t=HC.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Sn.on(window,gF,()=>{for(const n of ds.find('[data-bs-spy="scroll"]'))HC.getOrCreateInstance(n)}),cp(HC);const b0=".bs.tab",DF=`hide${b0}`,SF=`hidden${b0}`,IF=`show${b0}`,AF=`shown${b0}`,xF=`click${b0}`,MF=`keydown${b0}`,NF=`load${b0}`,OF="ArrowLeft",WA="ArrowRight",RF="ArrowUp",zA="ArrowDown",w0="active",YD="show",JD=":not(.dropdown-toggle)",KA='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',QD=`.nav-link${JD}, .list-group-item${JD}, [role="tab"]${JD}, ${KA}`,VF=`.${w0}[data-bs-toggle="tab"], .${w0}[data-bs-toggle="pill"], .${w0}[data-bs-toggle="list"]`;class WE extends gg{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Sn.on(this._element,MF,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?Sn.trigger(t,DF,{relatedTarget:e}):null;Sn.trigger(e,IF,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(w0),this._activate(D_(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Sn.trigger(e,AF,{relatedTarget:t})):e.classList.add(YD)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(w0),e.blur(),this._deactivate(D_(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Sn.trigger(e,SF,{relatedTarget:t})):e.classList.remove(YD)},e,e.classList.contains("fade")))}_keydown(e){if(![OF,WA,RF,zA].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[WA,zA].includes(e.key),i=RD(this._getChildren().filter(o=>!qv(o)),e.target,t,!0);i&&(i.focus({preventScroll:!0}),WE.getOrCreateInstance(i).show())}_getChildren(){return ds.find(QD,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=D_(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const o=(d,_)=>{const C=ds.findOne(d,i);C&&C.classList.toggle(_,t)};o(".dropdown-toggle",w0),o(".dropdown-menu",YD),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(w0)}_getInnerElement(e){return e.matches(QD)?e:ds.findOne(QD,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=WE.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Sn.on(document,xF,KA,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!qv(this)&&WE.getOrCreateInstance(this).show()}),Sn.on(window,NF,()=>{for(const n of ds.find(VF))WE.getOrCreateInstance(n)}),cp(WE);const Jv=".bs.toast",HF=`mouseover${Jv}`,GF=`mouseout${Jv}`,jF=`focusin${Jv}`,WF=`focusout${Jv}`,zF=`hide${Jv}`,qF=`hidden${Jv}`,KF=`show${Jv}`,ZF=`shown${Jv}`,GC="show",jC="showing",JF={animation:"boolean",autohide:"boolean",delay:"number"},QF={animation:!0,autohide:!0,delay:5e3};class jw extends gg{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return QF}static get DefaultType(){return JF}static get NAME(){return"toast"}show(){Sn.trigger(this._element,KF).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(GC,jC),this._queueCallback(()=>{this._element.classList.remove(jC),Sn.trigger(this._element,ZF),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Sn.trigger(this._element,zF).defaultPrevented&&(this._element.classList.add(jC),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(jC,GC),Sn.trigger(this._element,qF)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(GC),super.dispose()}isShown(){return this._element.classList.contains(GC)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Sn.on(this._element,HF,e=>this._onInteraction(e,!0)),Sn.on(this._element,GF,e=>this._onInteraction(e,!1)),Sn.on(this._element,jF,e=>this._onInteraction(e,!0)),Sn.on(this._element,WF,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=jw.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}NC(jw),cp(jw);const XF=["toastElement"];class Ww{constructor(){this.disposeEvent=new l.vpe}ngOnInit(){this.show()}show(){this.toast=new jw(this.toastEl.nativeElement,this.type===qR.G.Error?{autohide:!1}:{delay:5e3}),Qu(this.toastEl.nativeElement,"hidden.bs.toast").pipe((0,Ur.q)(1)).subscribe(()=>this.hide()),this.toast.show()}hide(){this.toast.dispose(),this.disposeEvent.emit()}}function eL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"app-toast",2),l.NdJ("disposeEvent",function(){const d=l.CHM(t).index,_=l.oxw();return l.KtG(_.dispose(d))}),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.Q6J("type",t.type)("title",t.title)("message",t.message)}}Ww.\u0275fac=function(e){return new(e||Ww)},Ww.\u0275cmp=l.Xpm({type:Ww,selectors:[["app-toast"]],viewQuery:function(e,t){if(1&e&&l.Gf(XF,7),2&e){let i;l.iGM(i=l.CRH())&&(t.toastEl=i.first)}},inputs:{type:"type",title:"title",message:"message"},outputs:{disposeEvent:"disposeEvent"},standalone:!0,features:[l.jDz],decls:8,vars:3,consts:[["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","fade","toast-width","mt-2",3,"ngClass"],["toastElement",""],[1,"toast-header"],[1,"me-auto"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0,1)(2,"div",2)(3,"strong",3),l._uU(4),l.qZA(),l.TgZ(5,"button",4),l.NdJ("click",function(){return t.hide()}),l.qZA()(),l.TgZ(6,"div",5),l._uU(7),l.qZA()()),2&e&&(l.Q6J("ngClass",t.type),l.xp6(4),l.Oqu(t.title),l.xp6(3),l.Oqu(t.message))},dependencies:[M.ez,M.mk],styles:[".success[_ngcontent-%COMP%]{background-color:#198754}.info[_ngcontent-%COMP%]{background-color:#0d6efd}.warning[_ngcontent-%COMP%]{background-color:#ffbf00}.error[_ngcontent-%COMP%]{background-color:#dc3545}"]});class zw{constructor(e,t){this.toastService=e,this.cdr=t,this.currentToasts=[]}ngOnInit(){this.subscribeToToasts()}subscribeToToasts(){this.toastService.toastEvents.subscribe(e=>{this.currentToasts.push({type:e.type,title:e.title,message:e.message}),this.cdr.detectChanges()})}dispose(e){this.currentToasts.splice(e,1),this.cdr.detectChanges()}}zw.\u0275fac=function(e){return new(e||zw)(l.Y36(jI.k),l.Y36(l.sBO))},zw.\u0275cmp=l.Xpm({type:zw,selectors:[["app-toaster"]],standalone:!0,features:[l.jDz],decls:2,vars:1,consts:[[1,"toaster","position-fixed","top-0","end-0","px-3","py-2","m-16"],[4,"ngFor","ngForOf"],[3,"type","title","message","disposeEvent"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,eL,2,3,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",t.currentToasts))},dependencies:[M.ez,M.sg,Ww],styles:[".toaster[_ngcontent-%COMP%]{z-index:1}"]});class qw{constructor(){this.title="Lets Go"}}qw.\u0275fac=function(e){return new(e||qw)},qw.\u0275cmp=l.Xpm({type:qw,selectors:[["app-root"]],standalone:!0,features:[l.jDz],decls:5,vars:0,template:function(e,t){1&e&&(l.TgZ(0,"section"),l._UZ(1,"app-navbar"),l.qZA(),l.TgZ(2,"section"),l._UZ(3,"app-toaster")(4,"router-outlet"),l.qZA())},dependencies:[M.ez,Fw,cg.Bz,cg.lC,zw]});(0,l.G48)(),(0,Wn.Cg)(qw,{providers:[(0,Zt.mW)({trips:gS}),function Bl(...n){const e=n.flat(),t=function wi(n){return n.filter(Ai)}(e);return(0,l.MR2)([t,{provide:l.Xts,multi:!0,useValue:()=>{(0,l.f3M)(Zt.qY),(0,l.f3M)(Zt.Py,{optional:!0});const i=(0,l.f3M)(On),o=(0,l.f3M)(Ke),d=!i.isStarted;d&&i.start();for(const _ of e){const C=Ai(_)?(0,l.f3M)(_):_;o.addEffects(C)}d&&(0,l.f3M)(Zt.yh).dispatch(xo())}}])}([b_]),(0,Ar.rM)({maxAge:25,logOnly:!(0,l.X6Q)(),autoPause:!0,trace:!1,traceLimit:75}),(0,l.RIp)(Ch.register("ngsw-worker.js",{enabled:!(0,l.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),cg.Bz.forRoot(jR),on,GO,$o.hO.initializeApp({apiKey:"AIzaSyAoclTcVL0TrR8JYU5IGd-19W2pWJbB4Go",authDomain:"letsgo-2022.firebaseapp.com",projectId:"letsgo-2022",storageBucket:"letsgo-2022.appspot.com",messagingSenderId:"738391365092",appId:"1:738391365092:web:a3bbc45d9b2e3c985763f1"}),lg.ww,B1.enablePersistence())]})},7489:function(He,be,L){var w;He=L.nmd(He),function(){var M,Me="Expected a function",_e="__lodash_hash_undefined__",ge="__lodash_placeholder__",st=1/0,Dt=9007199254740991,qt=4294967295,An=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],mn="[object Arguments]",Un="[object Array]",Pr="[object Boolean]",Br="[object Date]",dr="[object Error]",Qn="[object Function]",Zr="[object GeneratorFunction]",Wr="[object Map]",br="[object Number]",rr="[object Object]",Xn="[object Promise]",yn="[object RegExp]",Sr="[object Set]",Fi="[object String]",Ii="[object Symbol]",qr="[object WeakMap]",kn="[object ArrayBuffer]",pn="[object DataView]",Fn="[object Float32Array]",jn="[object Float64Array]",zr="[object Int8Array]",Ji="[object Int16Array]",In="[object Int32Array]",ss="[object Uint8Array]",mr="[object Uint8ClampedArray]",hs="[object Uint16Array]",lr="[object Uint32Array]",os=/\b__p \+= '';/g,gi=/\b(__p \+=) '' \+/g,on=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$t=/&(?:amp|lt|gt|quot|#39);/g,Tn=/[&<>"']/g,Wn=RegExp($t.source),Zt=RegExp(Tn.source),Ar=/<%-([\s\S]+?)%>/g,Ue=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,vt=RegExp(Ae.source),Kt=/^\s+/,Dn=/\s/,$e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,ve=/,? & /,nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ht=/[()=,{}\[\]\/\s]/,Xt=/\\(\\)?/g,Mn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ii=/\w*$/,si=/^[-+]0x[0-9a-f]+$/i,fs=/^0b[01]+$/i,Ur=/^\[object .+?Constructor\]$/,Hi=/^0o[0-7]+$/i,Os=/^(?:0|[1-9]\d*)$/,oo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bs=/($^)/,oi=/['\n\r\u2028\u2029\\]/g,qs="\\ud800-\\udfff",wi="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xi="\\u2700-\\u27bf",ni="a-z\\xdf-\\xf6\\xf8-\\xff",er="A-Z\\xc0-\\xd6\\xd8-\\xde",hn="\\ufe0e\\ufe0f",Rs="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ya="["+qs+"]",fr="["+Rs+"]",tr="["+wi+"]",xo="\\d+",ta="["+xi+"]",as="["+ni+"]",ao="[^"+qs+Rs+xo+xi+ni+er+"]",Li="\\ud83c[\\udffb-\\udfff]",ke="[^"+qs+"]",_t="(?:\\ud83c[\\udde6-\\uddff]){2}",rt="[\\ud800-\\udbff][\\udc00-\\udfff]",Pt="["+er+"]",Te="(?:"+as+"|"+ao+")",Ke="(?:"+Pt+"|"+ao+")",Nt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",rn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",On="(?:"+tr+"|"+Li+")?",Nn="["+hn+"]?",us=Nn+On+"(?:\\u200d(?:"+[ke,_t,rt].join("|")+")"+Nn+On+")*",Je="(?:"+[ta,_t,rt].join("|")+")"+us,Pe="(?:"+[ke+tr+"?",tr,_t,rt,ya].join("|")+")",Bl=RegExp("['\u2019]","g"),ji=RegExp(tr,"g"),na=RegExp(Li+"(?="+Li+")|"+Pe+us,"g"),Ga=RegExp([Pt+"?"+as+"+"+Nt+"(?="+[fr,Pt,"$"].join("|")+")",Ke+"+"+rn+"(?="+[fr,Pt+Te,"$"].join("|")+")",Pt+"?"+Te+"+"+Nt,Pt+"+"+rn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xo,Je].join("|"),"g"),Xs=RegExp("[\\u200d"+qs+wi+hn+"]"),ja=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_c=-1,_i={};_i[Fn]=_i[jn]=_i[zr]=_i[Ji]=_i[In]=_i[ss]=_i[mr]=_i[hs]=_i[lr]=!0,_i[mn]=_i[Un]=_i[kn]=_i[Pr]=_i[pn]=_i[Br]=_i[dr]=_i[Qn]=_i[Wr]=_i[br]=_i[rr]=_i[yn]=_i[Sr]=_i[Fi]=_i[qr]=!1;var Ui={};Ui[mn]=Ui[Un]=Ui[kn]=Ui[pn]=Ui[Pr]=Ui[Br]=Ui[Fn]=Ui[jn]=Ui[zr]=Ui[Ji]=Ui[In]=Ui[Wr]=Ui[br]=Ui[rr]=Ui[yn]=Ui[Sr]=Ui[Fi]=Ui[Ii]=Ui[ss]=Ui[mr]=Ui[hs]=Ui[lr]=!0,Ui[dr]=Ui[Qn]=Ui[qr]=!1;var ra={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yo=parseFloat,Vl=parseInt,gu="object"==typeof global&&global&&global.Object===Object&&global,Mo="object"==typeof self&&self&&self.Object===Object&&self,ps=gu||Mo||Function("return this")(),Ou=be&&!be.nodeType&&be,uo=Ou&&He&&!He.nodeType&&He,Wa=uo&&uo.exports===Ou,ru=Wa&&gu.process,Ti=function(){try{return uo&&uo.require&&uo.require("util").types||ru&&ru.binding&&ru.binding("util")}catch{}}(),ia=Ti&&Ti.isArrayBuffer,Eo=Ti&&Ti.isDate,Ea=Ti&&Ti.isMap,bo=Ti&&Ti.isRegExp,$o=Ti&&Ti.isSet,No=Ti&&Ti.isTypedArray;function lo(Ge,It,ut){switch(ut.length){case 0:return Ge.call(It);case 1:return Ge.call(It,ut[0]);case 2:return Ge.call(It,ut[0],ut[1]);case 3:return Ge.call(It,ut[0],ut[1],ut[2])}return Ge.apply(It,ut)}function Gt(Ge,It,ut,Hn){for(var kr=-1,Mi=null==Ge?0:Ge.length;++kr<Mi;){var Ps=Ge[kr];It(Hn,Ps,ut(Ps),Ge)}return Hn}function $s(Ge,It){for(var ut=-1,Hn=null==Ge?0:Ge.length;++ut<Hn&&!1!==It(Ge[ut],ut,Ge););return Ge}function za(Ge,It){for(var ut=null==Ge?0:Ge.length;ut--&&!1!==It(Ge[ut],ut,Ge););return Ge}function ws(Ge,It){for(var ut=-1,Hn=null==Ge?0:Ge.length;++ut<Hn;)if(!It(Ge[ut],ut,Ge))return!1;return!0}function cr(Ge,It){for(var ut=-1,Hn=null==Ge?0:Ge.length,kr=0,Mi=[];++ut<Hn;){var Ps=Ge[ut];It(Ps,ut,Ge)&&(Mi[kr++]=Ps)}return Mi}function Hs(Ge,It){return!(null==Ge||!Ge.length)&&To(Ge,It,0)>-1}function ci(Ge,It,ut){for(var Hn=-1,kr=null==Ge?0:Ge.length;++Hn<kr;)if(ut(It,Ge[Hn]))return!0;return!1}function an(Ge,It){for(var ut=-1,Hn=null==Ge?0:Ge.length,kr=Array(Hn);++ut<Hn;)kr[ut]=It(Ge[ut],ut,Ge);return kr}function Ki(Ge,It){for(var ut=-1,Hn=It.length,kr=Ge.length;++ut<Hn;)Ge[kr+ut]=It[ut];return Ge}function qn(Ge,It,ut,Hn){var kr=-1,Mi=null==Ge?0:Ge.length;for(Hn&&Mi&&(ut=Ge[++kr]);++kr<Mi;)ut=It(ut,Ge[kr],kr,Ge);return ut}function wo(Ge,It,ut,Hn){var kr=null==Ge?0:Ge.length;for(Hn&&kr&&(ut=Ge[--kr]);kr--;)ut=It(ut,Ge[kr],kr,Ge);return ut}function Oo(Ge,It){for(var ut=-1,Hn=null==Ge?0:Ge.length;++ut<Hn;)if(It(Ge[ut],ut,Ge))return!0;return!1}var gs=Ro("length");function sa(Ge,It,ut){var Hn;return ut(Ge,function(kr,Mi,Ps){if(It(kr,Mi,Ps))return Hn=Mi,!1}),Hn}function _l(Ge,It,ut,Hn){for(var kr=Ge.length,Mi=ut+(Hn?1:-1);Hn?Mi--:++Mi<kr;)if(It(Ge[Mi],Mi,Ge))return Mi;return-1}function To(Ge,It,ut){return It==It?function ld(Ge,It,ut){for(var Hn=ut-1,kr=Ge.length;++Hn<kr;)if(Ge[Hn]===It)return Hn;return-1}(Ge,It,ut):_l(Ge,co,ut)}function ms(Ge,It,ut,Hn){for(var kr=ut-1,Mi=Ge.length;++kr<Mi;)if(Hn(Ge[kr],It))return kr;return-1}function co(Ge){return Ge!=Ge}function nr(Ge,It){var ut=null==Ge?0:Ge.length;return ut?qa(Ge,It)/ut:NaN}function Ro(Ge){return function(It){return null==It?M:It[Ge]}}function vl(Ge){return function(It){return null==Ge?M:Ge[It]}}function mu(Ge,It,ut,Hn,kr){return kr(Ge,function(Mi,Ps,Vr){ut=Hn?(Hn=!1,Mi):It(ut,Mi,Ps,Vr)}),ut}function qa(Ge,It){for(var ut,Hn=-1,kr=Ge.length;++Hn<kr;){var Mi=It(Ge[Hn]);Mi!==M&&(ut=ut===M?Mi:ut+Mi)}return ut}function Gs(Ge,It){for(var ut=-1,Hn=Array(Ge);++ut<Ge;)Hn[ut]=It(ut);return Hn}function Ra(Ge){return Ge&&Ge.slice(0,wa(Ge)+1).replace(Kt,"")}function B(Ge){return function(It){return Ge(It)}}function W(Ge,It){return an(It,function(ut){return Ge[ut]})}function G(Ge,It){return Ge.has(It)}function se(Ge,It){for(var ut=-1,Hn=Ge.length;++ut<Hn&&To(It,Ge[ut],0)>-1;);return ut}function gt(Ge,It){for(var ut=Ge.length;ut--&&To(It,Ge[ut],0)>-1;);return ut}function $n(Ge,It){for(var ut=Ge.length,Hn=0;ut--;)Ge[ut]===It&&++Hn;return Hn}var zi=vl({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Qi=vl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function oa(Ge){return"\\"+ra[Ge]}function cs(Ge){return Xs.test(Ge)}function qi(Ge){var It=-1,ut=Array(Ge.size);return Ge.forEach(function(Hn,kr){ut[++It]=[kr,Hn]}),ut}function Ts(Ge,It){return function(ut){return Ge(It(ut))}}function eo(Ge,It){for(var ut=-1,Hn=Ge.length,kr=0,Mi=[];++ut<Hn;){var Ps=Ge[ut];(Ps===It||Ps===ge)&&(Ge[ut]=ge,Mi[kr++]=ut)}return Mi}function _s(Ge){var It=-1,ut=Array(Ge.size);return Ge.forEach(function(Hn){ut[++It]=Hn}),ut}function _u(Ge){return cs(Ge)?function Pu(Ge){for(var It=na.lastIndex=0;na.test(Ge);)++It;return It}(Ge):gs(Ge)}function ua(Ge){return cs(Ge)?function yl(Ge){return Ge.match(na)||[]}(Ge):function Wi(Ge){return Ge.split("")}(Ge)}function wa(Ge){for(var It=Ge.length;It--&&Dn.test(Ge.charAt(It)););return It}var rl=vl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),su=function Ge(It){var f,ut=(It=null==It?ps:su.defaults(ps.Object(),It,su.pick(ps,Vo))).Array,Hn=It.Date,kr=It.Error,Mi=It.Function,Ps=It.Math,Vr=It.Object,Po=It.RegExp,Xi=It.String,Ta=It.TypeError,Hl=ut.prototype,ou=Vr.prototype,ec=It["__core-js_shared__"],ku=Mi.prototype.toString,di=ou.hasOwnProperty,U=0,ee=(f=/[^.]+$/.exec(ec&&ec.keys&&ec.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",H=ou.toString,re=ku.call(Vr),Be=ps._,xt=Po("^"+ku.call(di).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=Wa?It.Buffer:M,Cn=It.Symbol,vi=It.Uint8Array,hi=zt?zt.allocUnsafe:M,Ni=Ts(Vr.getPrototypeOf,Vr),ri=Vr.create,Zi=ou.propertyIsEnumerable,Oi=Hl.splice,Qr=Cn?Cn.isConcatSpreadable:M,Ho=Cn?Cn.iterator:M,vs=Cn?Cn.toStringTag:M,to=function(){try{var f=Jd(Vr,"defineProperty");return f({},"",{}),f}catch{}}(),xs=It.clearTimeout!==ps.clearTimeout&&It.clearTimeout,Pa=Hn&&Hn.now!==ps.Date.now&&Hn.now,il=It.setTimeout!==ps.setTimeout&&It.setTimeout,vu=Ps.ceil,Fu=Ps.floor,au=Vr.getOwnPropertySymbols,Go=zt?zt.isBuffer:M,ka=It.isFinite,yu=Hl.join,Vd=Ts(Vr.keys,Vr),ks=Ps.max,Fs=Ps.min,Fa=Hn.now,Sh=It.parseInt,no=Ps.random,El=Hl.reverse,Ms=Jd(It,"DataView"),ho=Jd(It,"Map"),La=Jd(It,"Promise"),Lu=Jd(It,"Set"),Ys=Jd(It,"WeakMap"),Bu=Jd(Vr,"create"),Cs=Ys&&new Ys,So={},sl=ts(Ms),Ka=ts(ho),Ba=ts(La),ol=ts(Lu),Gl=ts(Ys),fo=Cn?Cn.prototype:M,po=fo?fo.valueOf:M,vc=fo?fo.toString:M;function ce(f){if(Us(f)&&!li(f)&&!(f instanceof Xr)){if(f instanceof Ua)return f;if(di.call(f,"__wrapped__"))return wp(f)}return new Ua(f)}var Ls=function(){function f(){}return function(v){if(!Uo(v))return{};if(ri)return ri(v);f.prototype=v;var I=new f;return f.prototype=M,I}}();function la(){}function Ua(f,v){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=M}function Xr(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qt,this.__views__=[]}function Uu(f){var v=-1,I=null==f?0:f.length;for(this.clear();++v<I;){var q=f[v];this.set(q[0],q[1])}}function uu(f){var v=-1,I=null==f?0:f.length;for(this.clear();++v<I;){var q=f[v];this.set(q[0],q[1])}}function Vu(f){var v=-1,I=null==f?0:f.length;for(this.clear();++v<I;){var q=f[v];this.set(q[0],q[1])}}function io(f){var v=-1,I=null==f?0:f.length;for(this.__data__=new Vu;++v<I;)this.add(f[v])}function S(f){var v=this.__data__=new uu(f);this.size=v.size}function en(f,v){var I=li(f),q=!I&&Wu(f),ne=!I&&!q&&td(f),ye=!I&&!q&&!ne&&dh(f),Ve=I||q||ne||ye,qe=Ve?Gs(f.length,Xi):[],pt=qe.length;for(var ln in f)(v||di.call(f,ln))&&(!Ve||!("length"==ln||ne&&("offset"==ln||"parent"==ln)||ye&&("buffer"==ln||"byteLength"==ln||"byteOffset"==ln)||Zo(ln,pt)))&&qe.push(ln);return qe}function Kn(f){var v=f.length;return v?f[Sa(0,v-1)]:M}function xn(f,v){return eh(eu(f),z(v,0,f.length))}function Hr(f){return eh(eu(f))}function Vi(f,v,I){(I!==M&&!Mc(f[v],I)||I===M&&!(v in f))&&cu(f,v,I)}function go(f,v,I){var q=f[v];(!di.call(f,v)||!Mc(q,I)||I===M&&!(v in f))&&cu(f,v,I)}function jo(f,v){for(var I=f.length;I--;)if(Mc(f[I][0],v))return I;return-1}function Za(f,v,I,q){return nn(f,function(ne,ye,Ve){v(q,ne,I(ne),Ve)}),q}function Wo(f,v){return f&&Mr(v,hu(v),f)}function cu(f,v,I){"__proto__"==v&&to?to(f,v,{configurable:!0,enumerable:!0,value:I,writable:!0}):f[v]=I}function dd(f,v){for(var I=-1,q=v.length,ne=ut(q),ye=null==f;++I<q;)ne[I]=ye?M:Kl(f,v[I]);return ne}function z(f,v,I){return f==f&&(I!==M&&(f=f<=I?f:I),v!==M&&(f=f>=v?f:v)),f}function Y(f,v,I,q,ne,ye){var Ve,qe=1&v,pt=2&v,ln=4&v;if(I&&(Ve=ne?I(f,q,ne,ye):I(f)),Ve!==M)return Ve;if(!Uo(f))return f;var cn=li(f);if(cn){if(Ve=function Ko(f){var v=f.length,I=new f.constructor(v);return v&&"string"==typeof f[0]&&di.call(f,"index")&&(I.index=f.index,I.input=f.input),I}(f),!qe)return eu(f,Ve)}else{var gn=wu(f),Vn=gn==Qn||gn==Zr;if(td(f))return Dc(f,qe);if(gn==rr||gn==mn||Vn&&!ne){if(Ve=pt||Vn?{}:vd(f),!qe)return pt?function Cg(f,v){return Mr(f,gp(f),v)}(f,function Tl(f,v){return f&&Mr(v,Pl(v),f)}(Ve,f)):function zd(f,v){return Mr(f,Zc(f),v)}(f,Wo(Ve,f))}else{if(!Ui[gn])return ne?f:{};Ve=function Sg(f,v,I){var q=f.constructor;switch(v){case kn:return gd(f);case Pr:case Br:return new q(+f);case pn:return function Oh(f,v){var I=v?gd(f.buffer):f.buffer;return new f.constructor(I,f.byteOffset,f.byteLength)}(f,I);case Fn:case jn:case zr:case Ji:case In:case ss:case mr:case hs:case lr:return hp(f,I);case Wr:return new q;case br:case Fi:return new q(f);case yn:return function bu(f){var v=new f.constructor(f.source,ii.exec(f));return v.lastIndex=f.lastIndex,v}(f);case Sr:return new q;case Ii:return function Wd(f){return po?Vr(po.call(f)):{}}(f)}}(f,gn,qe)}}ye||(ye=new S);var _r=ye.get(f);if(_r)return _r;ye.set(f,Ve),kp(f)?f.forEach(function(Kr){Ve.add(Y(Kr,v,I,Kr,f,ye))}):ch(f)&&f.forEach(function(Kr,Yi){Ve.set(Yi,Y(Kr,v,I,Yi,f,ye))});var Pi=cn?M:(ln?pt?Ac:Yd:pt?Pl:hu)(f);return $s(Pi||f,function(Kr,Yi){Pi&&(Kr=f[Yi=Kr]),go(Ve,Yi,Y(Kr,v,I,Yi,f,ye))}),Ve}function Le(f,v,I){var q=I.length;if(null==f)return!q;for(f=Vr(f);q--;){var ne=I[q],Ve=f[ne];if(Ve===M&&!(ne in f)||!(0,v[ne])(Ve))return!1}return!0}function tt(f,v,I){if("function"!=typeof f)throw new Ta(Me);return Ep(function(){f.apply(M,I)},v)}function Ct(f,v,I,q){var ne=-1,ye=Hs,Ve=!0,qe=f.length,pt=[],ln=v.length;if(!qe)return pt;I&&(v=an(v,B(I))),q?(ye=ci,Ve=!1):v.length>=200&&(ye=G,Ve=!1,v=new io(v));e:for(;++ne<qe;){var cn=f[ne],gn=null==I?cn:I(cn);if(cn=q||0!==cn?cn:0,Ve&&gn==gn){for(var Vn=ln;Vn--;)if(v[Vn]===gn)continue e;pt.push(cn)}else ye(v,gn,q)||pt.push(cn)}return pt}ce.templateSettings={escape:Ar,evaluate:Ue,interpolate:Se,variable:"",imports:{_:ce}},(ce.prototype=la.prototype).constructor=ce,(Ua.prototype=Ls(la.prototype)).constructor=Ua,(Xr.prototype=Ls(la.prototype)).constructor=Xr,Uu.prototype.clear=function yc(){this.__data__=Bu?Bu(null):{},this.size=0},Uu.prototype.delete=function jl(f){var v=this.has(f)&&delete this.__data__[f];return this.size-=v?1:0,v},Uu.prototype.get=function al(f){var v=this.__data__;if(Bu){var I=v[f];return I===_e?M:I}return di.call(v,f)?v[f]:M},Uu.prototype.has=function Ih(f){var v=this.__data__;return Bu?v[f]!==M:di.call(v,f)},Uu.prototype.set=function yi(f,v){var I=this.__data__;return this.size+=this.has(f)?0:1,I[f]=Bu&&v===M?_e:v,this},uu.prototype.clear=function lu(){this.__data__=[],this.size=0},uu.prototype.delete=function tc(f){var v=this.__data__,I=jo(v,f);return!(I<0||(I==v.length-1?v.pop():Oi.call(v,I,1),--this.size,0))},uu.prototype.get=function Ec(f){var v=this.__data__,I=jo(v,f);return I<0?M:v[I][1]},uu.prototype.has=function Wl(f){return jo(this.__data__,f)>-1},uu.prototype.set=function cd(f,v){var I=this.__data__,q=jo(I,f);return q<0?(++this.size,I.push([f,v])):I[q][1]=v,this},Vu.prototype.clear=function Ca(){this.size=0,this.__data__={hash:new Uu,map:new(ho||uu),string:new Uu}},Vu.prototype.delete=function Eu(f){var v=Kc(this,f).delete(f);return this.size-=v?1:0,v},Vu.prototype.get=function ro(f){return Kc(this,f).get(f)},Vu.prototype.has=function Ri(f){return Kc(this,f).has(f)},Vu.prototype.set=function Da(f,v){var I=Kc(this,f),q=I.size;return I.set(f,v),this.size+=I.size==q?0:1,this},io.prototype.add=io.prototype.push=function x(f){return this.__data__.set(f,_e),this},io.prototype.has=function R(f){return this.__data__.has(f)},S.prototype.clear=function V(){this.__data__=new uu,this.size=0},S.prototype.delete=function J(f){var v=this.__data__,I=v.delete(f);return this.size=v.size,I},S.prototype.get=function ie(f){return this.__data__.get(f)},S.prototype.has=function de(f){return this.__data__.has(f)},S.prototype.set=function Qe(f,v){var I=this.__data__;if(I instanceof uu){var q=I.__data__;if(!ho||q.length<199)return q.push([f,v]),this.size=++I.size,this;I=this.__data__=new Vu(q)}return I.set(f,v),this.size=I.size,this};var nn=kh(Ao),Zn=kh(Ya,!0);function ir(f,v){var I=!0;return nn(f,function(q,ne,ye){return I=!!v(q,ne,ye)}),I}function pr(f,v,I){for(var q=-1,ne=f.length;++q<ne;){var ye=f[q],Ve=v(ye);if(null!=Ve&&(qe===M?Ve==Ve&&!Qo(Ve):I(Ve,qe)))var qe=Ve,pt=ye}return pt}function Fr(f,v){var I=[];return nn(f,function(q,ne,ye){v(q,ne,ye)&&I.push(q)}),I}function ns(f,v,I,q,ne){var ye=-1,Ve=f.length;for(I||(I=mp),ne||(ne=[]);++ye<Ve;){var qe=f[ye];v>0&&I(qe)?v>1?ns(qe,v-1,I,q,ne):Ki(ne,qe):q||(ne[ne.length]=qe)}return ne}var mo=rs(),$u=rs(!0);function Ao(f,v){return f&&mo(f,v,hu)}function Ya(f,v){return f&&$u(f,v,hu)}function ko(f,v){return cr(v,function(I){return Rl(f[I])})}function Ei(f,v){for(var I=0,q=(v=un(v,f)).length;null!=f&&I<q;)f=f[fi(v[I++])];return I&&I==q?f:M}function hd(f,v,I){var q=v(f);return li(f)?q:Ki(q,I(f))}function du(f){return null==f?f===M?"[object Undefined]":"[object Null]":vs&&vs in Vr(f)?function Sf(f){var v=di.call(f,vs),I=f[vs];try{f[vs]=M;var q=!0}catch{}var ne=H.call(f);return q&&(v?f[vs]=I:delete f[vs]),ne}(f):function vp(f){return H.call(f)}(f)}function mf(f,v){return f>v}function _f(f,v){return null!=f&&di.call(f,v)}function nc(f,v){return null!=f&&v in Vr(f)}function Fo(f,v,I){for(var q=I?ci:Hs,ne=f[0].length,ye=f.length,Ve=ye,qe=ut(ye),pt=1/0,ln=[];Ve--;){var cn=f[Ve];Ve&&v&&(cn=an(cn,B(v))),pt=Fs(cn.length,pt),qe[Ve]=!I&&(v||ne>=120&&cn.length>=120)?new io(Ve&&cn):M}cn=f[0];var gn=-1,Vn=qe[0];e:for(;++gn<ne&&ln.length<pt;){var _r=cn[gn],Gr=v?v(_r):_r;if(_r=I||0!==_r?_r:0,!(Vn?G(Vn,Gr):q(ln,Gr,I))){for(Ve=ye;--Ve;){var Pi=qe[Ve];if(!(Pi?G(Pi,Gr):q(f[Ve],Gr,I)))continue e}Vn&&Vn.push(Gr),ln.push(_r)}}return ln}function ul(f,v,I){var q=null==(f=ql(f,v=un(v,f)))?f:f[fi(Cu(v))];return null==q?M:lo(q,f,I)}function bc(f){return Us(f)&&du(f)==mn}function Cl(f,v,I,q,ne){return f===v||(null==f||null==v||!Us(f)&&!Us(v)?f!=f&&v!=v:function wc(f,v,I,q,ne,ye){var Ve=li(f),qe=li(v),pt=Ve?Un:wu(f),ln=qe?Un:wu(v),cn=(pt=pt==mn?rr:pt)==rr,gn=(ln=ln==mn?rr:ln)==rr,Vn=pt==ln;if(Vn&&td(f)){if(!td(v))return!1;Ve=!0,cn=!1}if(Vn&&!cn)return ye||(ye=new S),Ve||dh(f)?Sc(f,v,I,q,ne,ye):function Nm(f,v,I,q,ne,ye,Ve){switch(I){case pn:if(f.byteLength!=v.byteLength||f.byteOffset!=v.byteOffset)return!1;f=f.buffer,v=v.buffer;case kn:return!(f.byteLength!=v.byteLength||!ye(new vi(f),new vi(v)));case Pr:case Br:case br:return Mc(+f,+v);case dr:return f.name==v.name&&f.message==v.message;case yn:case Fi:return f==v+"";case Wr:var qe=qi;case Sr:if(qe||(qe=_s),f.size!=v.size&&!(1&q))return!1;var ln=Ve.get(f);if(ln)return ln==v;q|=2,Ve.set(f,v);var cn=Sc(qe(f),qe(v),q,ne,ye,Ve);return Ve.delete(f),cn;case Ii:if(po)return po.call(f)==po.call(v)}return!1}(f,v,pt,I,q,ne,ye);if(!(1&I)){var _r=cn&&di.call(f,"__wrapped__"),Gr=gn&&di.call(v,"__wrapped__");if(_r||Gr){var Pi=_r?f.value():f,Kr=Gr?v.value():v;return ye||(ye=new S),ne(Pi,Kr,I,q,ye)}}return!!Vn&&(ye||(ye=new S),function Zd(f,v,I,q,ne,ye){var Ve=1&I,qe=Yd(f),pt=qe.length;if(pt!=Yd(v).length&&!Ve)return!1;for(var gn=pt;gn--;){var Vn=qe[gn];if(!(Ve?Vn in v:di.call(v,Vn)))return!1}var _r=ye.get(f),Gr=ye.get(v);if(_r&&Gr)return _r==v&&Gr==f;var Pi=!0;ye.set(f,v),ye.set(v,f);for(var Kr=Ve;++gn<pt;){var Yi=f[Vn=qe[gn]],is=v[Vn];if(q)var Zu=Ve?q(is,Yi,Vn,v,f,ye):q(Yi,is,Vn,f,v,ye);if(!(Zu===M?Yi===is||ne(Yi,is,I,q,ye):Zu)){Pi=!1;break}Kr||(Kr="constructor"==Vn)}if(Pi&&!Kr){var Yu=f.constructor,Ju=v.constructor;Yu!=Ju&&"constructor"in f&&"constructor"in v&&!("function"==typeof Yu&&Yu instanceof Yu&&"function"==typeof Ju&&Ju instanceof Ju)&&(Pi=!1)}return ye.delete(f),ye.delete(v),Pi}(f,v,I,q,ne,ye))}(f,v,I,q,Cl,ne))}function pd(f,v,I,q){var ne=I.length,ye=ne,Ve=!q;if(null==f)return!ye;for(f=Vr(f);ne--;){var qe=I[ne];if(Ve&&qe[2]?qe[1]!==f[qe[0]]:!(qe[0]in f))return!1}for(;++ne<ye;){var pt=(qe=I[ne])[0],ln=f[pt],cn=qe[1];if(Ve&&qe[2]){if(ln===M&&!(pt in f))return!1}else{var gn=new S;if(q)var Vn=q(ln,cn,pt,f,v,gn);if(!(Vn===M?Cl(cn,ln,3,q,gn):Vn))return!1}}return!0}function yf(f){return!(!Uo(f)||function Lh(f){return!!ee&&ee in f}(f))&&(Rl(f)?xt:Ur).test(ts(f))}function Eg(f){return"function"==typeof f?f:null==f?ma:"object"==typeof f?li(f)?Tf(f[0],f[1]):Qa(f):qp(f)}function $d(f){if(!Ed(f))return Vd(f);var v=[];for(var I in Vr(f))di.call(f,I)&&"constructor"!=I&&v.push(I);return v}function Ah(f,v){return f<v}function xh(f,v){var I=-1,q=zu(f)?ut(f.length):[];return nn(f,function(ne,ye,Ve){q[++I]=v(ne,ye,Ve)}),q}function Qa(f){var v=xc(f);return 1==v.length&&v[0][2]?Qd(v[0][0],v[0][1]):function(I){return I===f||pd(I,f,v)}}function Tf(f,v){return ac(f)&&Af(v)?Qd(fi(f),v):function(I){var q=Kl(I,f);return q===M&&q===v?_h(I,f):Cl(v,q,3)}}function Vc(f,v,I,q,ne){f!==v&&mo(v,function(ye,Ve){if(ne||(ne=new S),Uo(ye))!function Mh(f,v,I,q,ne,ye,Ve){var qe=yp(f,I),pt=yp(v,I),ln=Ve.get(pt);if(ln)Vi(f,I,ln);else{var cn=ye?ye(qe,pt,I+"",f,v,Ve):M,gn=cn===M;if(gn){var Vn=li(pt),_r=!Vn&&td(pt),Gr=!Vn&&!_r&&dh(pt);cn=pt,Vn||_r||Gr?li(qe)?cn=qe:Jo(qe)?cn=eu(qe):_r?(gn=!1,cn=Dc(pt,!0)):Gr?(gn=!1,cn=hp(pt,!0)):cn=[]:qh(pt)||Wu(pt)?(cn=qe,Wu(qe)?cn=qg(qe):(!Uo(qe)||Rl(qe))&&(cn=vd(pt))):gn=!1}gn&&(Ve.set(pt,cn),ne(cn,pt,q,ye,Ve),Ve.delete(pt)),Vi(f,I,cn)}}(f,v,Ve,I,Vc,q,ne);else{var qe=q?q(yp(f,Ve),ye,Ve+"",f,v,ne):M;qe===M&&(qe=ye),Vi(f,Ve,qe)}},Pl)}function Dl(f,v){var I=f.length;if(I)return Zo(v+=v<0?I:0,I)?f[v]:M}function rc(f,v,I){v=v.length?an(v,function(ye){return li(ye)?function(Ve){return Ei(Ve,1===ye.length?ye[0]:ye)}:ye}):[ma];var q=-1;return v=an(v,B(Rr())),function tl(Ge,It){var ut=Ge.length;for(Ge.sort(It);ut--;)Ge[ut]=Ge[ut].value;return Ge}(xh(f,function(ye,Ve,qe){return{criteria:an(v,function(ln){return ln(ye)}),index:++q,value:ye}}),function(ye,Ve){return function Ph(f,v,I){for(var q=-1,ne=f.criteria,ye=v.criteria,Ve=ne.length,qe=I.length;++q<Ve;){var pt=Rh(ne[q],ye[q]);if(pt)return q>=qe?pt:pt*("desc"==I[q]?-1:1)}return f.index-v.index}(ye,Ve,I)})}function Cf(f,v,I){for(var q=-1,ne=v.length,ye={};++q<ne;){var Ve=v[q],qe=Ei(f,Ve);I(qe,Ve)&&Sl(ye,un(Ve,f),qe)}return ye}function ca(f,v,I,q){var ne=q?ms:To,ye=-1,Ve=v.length,qe=f;for(f===v&&(v=eu(v)),I&&(qe=an(f,B(I)));++ye<Ve;)for(var pt=0,ln=v[ye],cn=I?I(ln):ln;(pt=ne(qe,cn,pt,q))>-1;)qe!==f&&Oi.call(qe,pt,1),Oi.call(f,pt,1);return f}function Tc(f,v){for(var I=f?v.length:0,q=I-1;I--;){var ne=v[I];if(I==q||ne!==ye){var ye=ne;Zo(ne)?Oi.call(f,ne,1):F(f,ne)}}return f}function Sa(f,v){return f+Fu(no()*(v-f+1))}function $c(f,v){var I="";if(!f||v<1||v>Dt)return I;do{v%2&&(I+=f),(v=Fu(v/2))&&(f+=f)}while(v);return I}function Ir(f,v){return Pm(zl(f,v,ma),f+"")}function Gd(f){return Kn(kl(f))}function Xa(f,v){var I=kl(f);return eh(I,z(v,0,I.length))}function Sl(f,v,I,q){if(!Uo(f))return f;for(var ne=-1,ye=(v=un(v,f)).length,Ve=ye-1,qe=f;null!=qe&&++ne<ye;){var pt=fi(v[ne]),ln=I;if("__proto__"===pt||"constructor"===pt||"prototype"===pt)return f;if(ne!=Ve){var cn=qe[pt];(ln=q?q(cn,pt,qe):M)===M&&(ln=Uo(cn)?cn:Zo(v[ne+1])?[]:{})}go(qe,pt,ln),qe=qe[pt]}return f}var Nh=Cs?function(f,v){return Cs.set(f,v),f}:ma,ic=to?function(f,v){return to(f,"toString",{configurable:!0,enumerable:!1,value:om(v),writable:!0})}:ma;function Ia(f){return eh(kl(f))}function Va(f,v,I){var q=-1,ne=f.length;v<0&&(v=-v>ne?0:ne+v),(I=I>ne?ne:I)<0&&(I+=ne),ne=v>I?0:I-v>>>0,v>>>=0;for(var ye=ut(ne);++q<ne;)ye[q]=f[q+v];return ye}function Hc(f,v){var I;return nn(f,function(q,ne,ye){return!(I=v(q,ne,ye))}),!!I}function Cc(f,v,I){var q=0,ne=null==f?q:f.length;if("number"==typeof v&&v==v&&ne<=2147483647){for(;q<ne;){var ye=q+ne>>>1,Ve=f[ye];null!==Ve&&!Qo(Ve)&&(I?Ve<=v:Ve<v)?q=ye+1:ne=ye}return ne}return jd(f,v,ma,I)}function jd(f,v,I,q){var ne=0,ye=null==f?0:f.length;if(0===ye)return 0;for(var Ve=(v=I(v))!=v,qe=null===v,pt=Qo(v),ln=v===M;ne<ye;){var cn=Fu((ne+ye)/2),gn=I(f[cn]),Vn=gn!==M,_r=null===gn,Gr=gn==gn,Pi=Qo(gn);if(Ve)var Kr=q||Gr;else Kr=ln?Gr&&(q||Vn):qe?Gr&&Vn&&(q||!_r):pt?Gr&&Vn&&!_r&&(q||!Pi):!_r&&!Pi&&(q?gn<=v:gn<v);Kr?ne=cn+1:ye=cn}return Fs(ye,4294967294)}function Lo(f,v){for(var I=-1,q=f.length,ne=0,ye=[];++I<q;){var Ve=f[I],qe=v?v(Ve):Ve;if(!I||!Mc(qe,pt)){var pt=qe;ye[ne++]=0===Ve?0:Ve}}return ye}function N(f){return"number"==typeof f?f:Qo(f)?NaN:+f}function b(f){if("string"==typeof f)return f;if(li(f))return an(f,b)+"";if(Qo(f))return vc?vc.call(f):"";var v=f+"";return"0"==v&&1/f==-st?"-0":v}function D(f,v,I){var q=-1,ne=Hs,ye=f.length,Ve=!0,qe=[],pt=qe;if(I)Ve=!1,ne=ci;else if(ye>=200){var ln=v?null:pp(f);if(ln)return _s(ln);Ve=!1,ne=G,pt=new io}else pt=v?[]:qe;e:for(;++q<ye;){var cn=f[q],gn=v?v(cn):cn;if(cn=I||0!==cn?cn:0,Ve&&gn==gn){for(var Vn=pt.length;Vn--;)if(pt[Vn]===gn)continue e;v&&pt.push(gn),qe.push(cn)}else ne(pt,gn,I)||(pt!==qe&&pt.push(gn),qe.push(cn))}return qe}function F(f,v){return null==(f=ql(f,v=un(v,f)))||delete f[fi(Cu(v))]}function Q(f,v,I,q){return Sl(f,v,I(Ei(f,v)),q)}function he(f,v,I,q){for(var ne=f.length,ye=q?ne:-1;(q?ye--:++ye<ne)&&v(f[ye],ye,f););return I?Va(f,q?0:ye,q?ye+1:ne):Va(f,q?ye+1:0,q?ne:ye)}function dt(f,v){var I=f;return I instanceof Xr&&(I=I.value()),qn(v,function(q,ne){return ne.func.apply(ne.thisArg,Ki([q],ne.args))},I)}function sn(f,v,I){var q=f.length;if(q<2)return q?D(f[0]):[];for(var ne=-1,ye=ut(q);++ne<q;)for(var Ve=f[ne],qe=-1;++qe<q;)qe!=ne&&(ye[ne]=Ct(ye[ne]||Ve,f[qe],v,I));return D(ns(ye,1),v,I)}function Ut(f,v,I){for(var q=-1,ne=f.length,ye=v.length,Ve={};++q<ne;)I(Ve,f[q],q<ye?v[q]:M);return Ve}function Yt(f){return Jo(f)?f:[]}function $r(f){return"function"==typeof f?f:ma}function un(f,v){return li(f)?f:ac(f,v)?[f]:Nr(Es(f))}var Mt=Ir;function Jt(f,v,I){var q=f.length;return I=I===M?q:I,!v&&I>=q?f:Va(f,v,I)}var _o=xs||function(f){return ps.clearTimeout(f)};function Dc(f,v){if(v)return f.slice();var I=f.length,q=hi?hi(I):new f.constructor(I);return f.copy(q),q}function gd(f){var v=new f.constructor(f.byteLength);return new vi(v).set(new vi(f)),v}function hp(f,v){var I=v?gd(f.buffer):f.buffer;return new f.constructor(I,f.byteOffset,f.length)}function Rh(f,v){if(f!==v){var I=f!==M,q=null===f,ne=f==f,ye=Qo(f),Ve=v!==M,qe=null===v,pt=v==v,ln=Qo(v);if(!qe&&!ln&&!ye&&f>v||ye&&Ve&&pt&&!qe&&!ln||q&&Ve&&pt||!I&&pt||!ne)return 1;if(!q&&!ye&&!ln&&f<v||ln&&I&&ne&&!q&&!ye||qe&&I&&ne||!Ve&&ne||!pt)return-1}return 0}function wg(f,v,I,q){for(var ne=-1,ye=f.length,Ve=I.length,qe=-1,pt=v.length,ln=ks(ye-Ve,0),cn=ut(pt+ln),gn=!q;++qe<pt;)cn[qe]=v[qe];for(;++ne<Ve;)(gn||ne<ye)&&(cn[I[ne]]=f[ne]);for(;ln--;)cn[qe++]=f[ne++];return cn}function Tg(f,v,I,q){for(var ne=-1,ye=f.length,Ve=-1,qe=I.length,pt=-1,ln=v.length,cn=ks(ye-qe,0),gn=ut(cn+ln),Vn=!q;++ne<cn;)gn[ne]=f[ne];for(var _r=ne;++pt<ln;)gn[_r+pt]=v[pt];for(;++Ve<qe;)(Vn||ne<ye)&&(gn[_r+I[Ve]]=f[ne++]);return gn}function eu(f,v){var I=-1,q=f.length;for(v||(v=ut(q));++I<q;)v[I]=f[I];return v}function Mr(f,v,I,q){var ne=!I;I||(I={});for(var ye=-1,Ve=v.length;++ye<Ve;){var qe=v[ye],pt=q?q(I[qe],f[qe],qe,I,f):M;pt===M&&(pt=f[qe]),ne?cu(I,qe,pt):go(I,qe,pt)}return I}function js(f,v){return function(I,q){var ne=li(I)?Gt:Za,ye=v?v():{};return ne(I,f,Rr(q,2),ye)}}function gr(f){return Ir(function(v,I){var q=-1,ne=I.length,ye=ne>1?I[ne-1]:M,Ve=ne>2?I[2]:M;for(ye=f.length>3&&"function"==typeof ye?(ne--,ye):M,Ve&&Bo(I[0],I[1],Ve)&&(ye=ne<3?M:ye,ne=1),v=Vr(v);++q<ne;){var qe=I[q];qe&&f(v,qe,q,ye)}return v})}function kh(f,v){return function(I,q){if(null==I)return I;if(!zu(I))return f(I,q);for(var ne=I.length,ye=v?ne:-1,Ve=Vr(I);(v?ye--:++ye<ne)&&!1!==q(Ve[ye],ye,Ve););return I}}function rs(f){return function(v,I,q){for(var ne=-1,ye=Vr(v),Ve=q(v),qe=Ve.length;qe--;){var pt=Ve[f?qe:++ne];if(!1===I(ye[pt],pt,ye))break}return v}}function Ws(f){return function(v){var I=cs(v=Es(v))?ua(v):M,q=I?I[0]:v.charAt(0),ne=I?Jt(I,1).join(""):v.slice(1);return q[f]()+ne}}function Ln(f){return function(v){return qn(o_(Xg(v).replace(Bl,"")),f,"")}}function qo(f){return function(){var v=arguments;switch(v.length){case 0:return new f;case 1:return new f(v[0]);case 2:return new f(v[0],v[1]);case 3:return new f(v[0],v[1],v[2]);case 4:return new f(v[0],v[1],v[2],v[3]);case 5:return new f(v[0],v[1],v[2],v[3],v[4]);case 6:return new f(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new f(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var I=Ls(f.prototype),q=f.apply(I,v);return Uo(q)?q:I}}function md(f){return function(v,I,q){var ne=Vr(v);if(!zu(v)){var ye=Rr(I,3);v=hu(v),I=function(qe){return ye(ne[qe],qe,ne)}}var Ve=f(v,I,q);return Ve>-1?ne[ye?v[Ve]:Ve]:M}}function Df(f){return Ic(function(v){var I=v.length,q=I,ne=Ua.prototype.thru;for(f&&v.reverse();q--;){var ye=v[q];if("function"!=typeof ye)throw new Ta(Me);if(ne&&!Ve&&"wrapper"==Gu(ye))var Ve=new Ua([],!0)}for(q=Ve?q:I;++q<I;){var qe=Gu(ye=v[q]),pt="wrapper"==qe?qc(ye):M;Ve=pt&&If(pt[0])&&424==pt[1]&&!pt[4].length&&1==pt[9]?Ve[Gu(pt[0])].apply(Ve,pt[3]):1==ye.length&&If(ye)?Ve[qe]():Ve.thru(ye)}return function(){var ln=arguments,cn=ln[0];if(Ve&&1==ln.length&&li(cn))return Ve.plant(cn).value();for(var gn=0,Vn=I?v[gn].apply(this,ln):cn;++gn<I;)Vn=v[gn].call(this,Vn);return Vn}})}function _d(f,v,I,q,ne,ye,Ve,qe,pt,ln){var cn=128&v,gn=1&v,Vn=2&v,_r=24&v,Gr=512&v,Pi=Vn?M:qo(f);return function Kr(){for(var Yi=arguments.length,is=ut(Yi),Zu=Yi;Zu--;)is[Zu]=arguments[Zu];if(_r)var Yu=Fh(Kr),Ju=$n(is,Yu);if(q&&(is=wg(is,q,ne,_r)),ye&&(is=Tg(is,ye,Ve,_r)),Yi-=Ju,_r&&Yi<ln){var Ds=eo(is,Yu);return fp(f,v,_d,Kr.placeholder,I,is,Ds,qe,pt,ln-Yi)}var nu=gn?I:this,fl=Vn?nu[f]:f;return Yi=is.length,qe?is=Ig(is,qe):Gr&&Yi>1&&is.reverse(),cn&&pt<Yi&&(is.length=pt),this&&this!==ps&&this instanceof Kr&&(fl=Pi||qo(fl)),fl.apply(nu,is)}}function Mm(f,v){return function(I,q){return function Ja(f,v,I,q){return Ao(f,function(ne,ye,Ve){v(q,I(ne),ye,Ve)}),q}(I,f,v(q),{})}}function Gc(f,v){return function(I,q){var ne;if(I===M&&q===M)return v;if(I!==M&&(ne=I),q!==M){if(ne===M)return q;"string"==typeof I||"string"==typeof q?(I=b(I),q=b(q)):(I=N(I),q=N(q)),ne=f(I,q)}return ne}}function jc(f){return Ic(function(v){return v=an(v,B(Rr())),Ir(function(I){var q=this;return f(v,function(ne){return lo(ne,q,I)})})})}function Wc(f,v){var I=(v=v===M?" ":b(v)).length;if(I<2)return I?$c(v,f):v;var q=$c(v,vu(f/_u(v)));return cs(v)?Jt(ua(q),0,f).join(""):q.slice(0,f)}function zc(f){return function(v,I,q){return q&&"number"!=typeof q&&Bo(v,I,q)&&(I=q=M),v=nd(v),I===M?(I=v,v=0):I=nd(I),function zo(f,v,I,q){for(var ne=-1,ye=ks(vu((v-f)/(I||1)),0),Ve=ut(ye);ye--;)Ve[q?ye:++ne]=f,f+=I;return Ve}(v,I,q=q===M?v<I?1:-1:nd(q),f)}}function qd(f){return function(v,I){return"string"==typeof v&&"string"==typeof I||(v=zs(v),I=zs(I)),f(v,I)}}function fp(f,v,I,q,ne,ye,Ve,qe,pt,ln){var cn=8&v;v|=cn?32:64,4&(v&=~(cn?64:32))||(v&=-4);var Pi=[f,v,ne,cn?ye:M,cn?Ve:M,cn?M:ye,cn?M:Ve,qe,pt,ln],Kr=I.apply(M,Pi);return If(f)&&Ag(Kr,Pi),Kr.placeholder=q,Xd(Kr,f,v)}function sc(f){var v=Ps[f];return function(I,q){if(I=zs(I),(q=null==q?0:Fs(Si(q),292))&&ka(I)){var ne=(Es(I)+"e").split("e");return+((ne=(Es(v(ne[0]+"e"+(+ne[1]+q)))+"e").split("e"))[0]+"e"+(+ne[1]-q))}return v(I)}}var pp=Lu&&1/_s(new Lu([,-0]))[1]==st?function(f){return new Lu(f)}:Oc;function Ot(f){return function(v){var I=wu(v);return I==Wr?qi(v):I==Sr?function ba(Ge){var It=-1,ut=Array(Ge.size);return Ge.forEach(function(Hn){ut[++It]=[Hn,Hn]}),ut}(v):function Ru(Ge,It){return an(It,function(ut){return[ut,Ge[ut]]})}(v,f(v))}}function Hu(f,v,I,q,ne,ye,Ve,qe){var pt=2&v;if(!pt&&"function"!=typeof f)throw new Ta(Me);var ln=q?q.length:0;if(ln||(v&=-97,q=ne=M),Ve=Ve===M?Ve:ks(Si(Ve),0),qe=qe===M?qe:Si(qe),ln-=ne?ne.length:0,64&v){var cn=q,gn=ne;q=ne=M}var Vn=pt?M:qc(f),_r=[f,v,I,q,ne,cn,gn,ye,Ve,qe];if(Vn&&function _p(f,v){var I=f[1],q=v[1],ne=I|q;if(!(ne<131)&&!(128==q&&8==I||128==q&&256==I&&f[7].length<=v[8]||384==q&&v[7].length<=v[8]&&8==I))return f;1&q&&(f[2]=v[2],ne|=1&I?0:4);var qe=v[3];if(qe){var pt=f[3];f[3]=pt?wg(pt,qe,v[4]):qe,f[4]=pt?eo(f[3],ge):v[4]}(qe=v[5])&&(f[5]=(pt=f[5])?Tg(pt,qe,v[6]):qe,f[6]=pt?eo(f[5],ge):v[6]),(qe=v[7])&&(f[7]=qe),128&q&&(f[8]=null==f[8]?v[8]:Fs(f[8],v[8])),null==f[9]&&(f[9]=v[9]),f[0]=v[0],f[1]=ne}(_r,Vn),f=_r[0],v=_r[1],I=_r[2],q=_r[3],ne=_r[4],!(qe=_r[9]=_r[9]===M?pt?0:f.length:ks(_r[9]-ln,0))&&24&v&&(v&=-25),v&&1!=v)Gr=8==v||16==v?function xm(f,v,I){var q=qo(f);return function ne(){for(var ye=arguments.length,Ve=ut(ye),qe=ye,pt=Fh(ne);qe--;)Ve[qe]=arguments[qe];var ln=ye<3&&Ve[0]!==pt&&Ve[ye-1]!==pt?[]:eo(Ve,pt);return(ye-=ln.length)<I?fp(f,v,_d,ne.placeholder,M,Ve,ln,M,M,I-ye):lo(this&&this!==ps&&this instanceof ne?q:f,this,Ve)}}(f,v,qe):32!=v&&33!=v||ne.length?_d.apply(M,_r):function ll(f,v,I,q){var ne=1&v,ye=qo(f);return function Ve(){for(var qe=-1,pt=arguments.length,ln=-1,cn=q.length,gn=ut(cn+pt),Vn=this&&this!==ps&&this instanceof Ve?ye:f;++ln<cn;)gn[ln]=q[ln];for(;pt--;)gn[ln++]=arguments[++qe];return lo(Vn,ne?I:this,gn)}}(f,v,I,q);else var Gr=function es(f,v,I){var q=1&v,ne=qo(f);return function ye(){return(this&&this!==ps&&this instanceof ye?ne:f).apply(q?I:this,arguments)}}(f,v,I);return Xd((Vn?Nh:Ag)(Gr,_r),f,v)}function oc(f,v,I,q){return f===M||Mc(f,ou[I])&&!di.call(q,I)?v:f}function Dg(f,v,I,q,ne,ye){return Uo(f)&&Uo(v)&&(ye.set(v,f),Vc(f,v,M,Dg,ye),ye.delete(v)),f}function Kd(f){return qh(f)?M:f}function Sc(f,v,I,q,ne,ye){var Ve=1&I,qe=f.length,pt=v.length;if(qe!=pt&&!(Ve&&pt>qe))return!1;var ln=ye.get(f),cn=ye.get(v);if(ln&&cn)return ln==v&&cn==f;var gn=-1,Vn=!0,_r=2&I?new io:M;for(ye.set(f,v),ye.set(v,f);++gn<qe;){var Gr=f[gn],Pi=v[gn];if(q)var Kr=Ve?q(Pi,Gr,gn,v,f,ye):q(Gr,Pi,gn,f,v,ye);if(Kr!==M){if(Kr)continue;Vn=!1;break}if(_r){if(!Oo(v,function(Yi,is){if(!G(_r,is)&&(Gr===Yi||ne(Gr,Yi,I,q,ye)))return _r.push(is)})){Vn=!1;break}}else if(Gr!==Pi&&!ne(Gr,Pi,I,q,ye)){Vn=!1;break}}return ye.delete(f),ye.delete(v),Vn}function Ic(f){return Pm(zl(f,M,L_),f+"")}function Yd(f){return hd(f,hu,Zc)}function Ac(f){return hd(f,Pl,gp)}var qc=Cs?function(f){return Cs.get(f)}:Oc;function Gu(f){for(var v=f.name+"",I=So[v],q=di.call(So,v)?I.length:0;q--;){var ne=I[q],ye=ne.func;if(null==ye||ye==f)return ne.name}return v}function Fh(f){return(di.call(ce,"placeholder")?ce:f).placeholder}function Rr(){var f=ce.iteratee||qf;return f=f===qf?Eg:f,arguments.length?f(arguments[0],arguments[1]):f}function Kc(f,v){var I=f.__data__;return function yd(f){var v=typeof f;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==f:null===f}(v)?I["string"==typeof v?"string":"hash"]:I.map}function xc(f){for(var v=hu(f),I=v.length;I--;){var q=v[I],ne=f[q];v[I]=[q,ne,Af(ne)]}return v}function Jd(f,v){var I=function As(Ge,It){return null==Ge?M:Ge[It]}(f,v);return yf(I)?I:M}var Zc=au?function(f){return null==f?[]:(f=Vr(f),cr(au(f),function(v){return Zi.call(f,v)}))}:Kp,gp=au?function(f){for(var v=[];f;)Ki(v,Zc(f)),f=Ni(f);return v}:Kp,wu=du;function Yc(f,v,I){for(var q=-1,ne=(v=un(v,f)).length,ye=!1;++q<ne;){var Ve=fi(v[q]);if(!(ye=null!=f&&I(f,Ve)))break;f=f[Ve]}return ye||++q!=ne?ye:!!(ne=null==f?0:f.length)&&Wh(ne)&&Zo(Ve,ne)&&(li(f)||Wu(f))}function vd(f){return"function"!=typeof f.constructor||Ed(f)?{}:Ls(Ni(f))}function mp(f){return li(f)||Wu(f)||!!(Qr&&f&&f[Qr])}function Zo(f,v){var I=typeof f;return!!(v=v??Dt)&&("number"==I||"symbol"!=I&&Os.test(f))&&f>-1&&f%1==0&&f<v}function Bo(f,v,I){if(!Uo(I))return!1;var q=typeof v;return!!("number"==q?zu(I)&&Zo(v,I.length):"string"==q&&v in I)&&Mc(I[v],f)}function ac(f,v){if(li(f))return!1;var I=typeof f;return!("number"!=I&&"symbol"!=I&&"boolean"!=I&&null!=f&&!Qo(f))||Ce.test(f)||!je.test(f)||null!=v&&f in Vr(v)}function If(f){var v=Gu(f),I=ce[v];if("function"!=typeof I||!(v in Xr.prototype))return!1;if(f===I)return!0;var q=qc(I);return!!q&&f===q[0]}(Ms&&wu(new Ms(new ArrayBuffer(1)))!=pn||ho&&wu(new ho)!=Wr||La&&wu(La.resolve())!=Xn||Lu&&wu(new Lu)!=Sr||Ys&&wu(new Ys)!=qr)&&(wu=function(f){var v=du(f),I=v==rr?f.constructor:M,q=I?ts(I):"";if(q)switch(q){case sl:return pn;case Ka:return Wr;case Ba:return Xn;case ol:return Sr;case Gl:return qr}return v});var Xv=ec?Rl:Zf;function Ed(f){var v=f&&f.constructor;return f===("function"==typeof v&&v.prototype||ou)}function Af(f){return f==f&&!Uo(f)}function Qd(f,v){return function(I){return null!=I&&I[f]===v&&(v!==M||f in Vr(I))}}function zl(f,v,I){return v=ks(v===M?f.length-1:v,0),function(){for(var q=arguments,ne=-1,ye=ks(q.length-v,0),Ve=ut(ye);++ne<ye;)Ve[ne]=q[v+ne];ne=-1;for(var qe=ut(v+1);++ne<v;)qe[ne]=q[ne];return qe[v]=I(Ve),lo(f,this,qe)}}function ql(f,v){return v.length<2?f:Ei(f,Va(v,0,-1))}function Ig(f,v){for(var I=f.length,q=Fs(v.length,I),ne=eu(f);q--;){var ye=v[q];f[q]=Zo(ye,I)?ne[ye]:M}return f}function yp(f,v){if(("constructor"!==v||"function"!=typeof f[v])&&"__proto__"!=v)return f[v]}var Ag=bp(Nh),Ep=il||function(f,v){return ps.setTimeout(f,v)},Pm=bp(ic);function Xd(f,v,I){var q=v+"";return Pm(f,function O_(f,v){var I=v.length;if(!I)return f;var q=I-1;return v[q]=(I>1?"& ":"")+v[q],v=v.join(I>2?", ":" "),f.replace($e,"{\n/* [wrapped with "+v+"] */\n")}(q,function Il(f,v){return $s(An,function(I){var q="_."+I[0];v&I[1]&&!Hs(f,q)&&f.push(q)}),f.sort()}(function N_(f){var v=f.match(Fe);return v?v[1].split(ve):[]}(q),I)))}function bp(f){var v=0,I=0;return function(){var q=Fa(),ne=16-(q-I);if(I=q,ne>0){if(++v>=800)return arguments[0]}else v=0;return f.apply(M,arguments)}}function eh(f,v){var I=-1,q=f.length,ne=q-1;for(v=v===M?q:v;++I<v;){var ye=Sa(I,ne),Ve=f[ye];f[ye]=f[I],f[I]=Ve}return f.length=v,f}var Nr=function Om(f){var v=Np(f,function(q){return 500===I.size&&I.clear(),q}),I=v.cache;return v}(function(f){var v=[];return 46===f.charCodeAt(0)&&v.push(""),f.replace(ue,function(I,q,ne,ye){v.push(ne?ye.replace(Xt,"$1"):q||I)}),v});function fi(f){if("string"==typeof f||Qo(f))return f;var v=f+"";return"0"==v&&1/f==-st?"-0":v}function ts(f){if(null!=f){try{return ku.call(f)}catch{}try{return f+""}catch{}}return""}function wp(f){if(f instanceof Xr)return f.clone();var v=new Ua(f.__wrapped__,f.__chain__);return v.__actions__=eu(f.__actions__),v.__index__=f.__index__,v.__values__=f.__values__,v}var Bh=Ir(function(f,v){return Jo(f)?Ct(f,ns(v,1,Jo,!0)):[]}),P_=Ir(function(f,v){var I=Cu(v);return Jo(I)&&(I=M),Jo(f)?Ct(f,ns(v,1,Jo,!0),Rr(I,2)):[]}),Mg=Ir(function(f,v){var I=Cu(v);return Jo(I)&&(I=M),Jo(f)?Ct(f,ns(v,1,Jo,!0),M,I):[]});function xf(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var ne=null==I?0:Si(I);return ne<0&&(ne=ks(q+ne,0)),_l(f,Rr(v,3),ne)}function F_(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var ne=q-1;return I!==M&&(ne=Si(I),ne=I<0?ks(q+ne,0):Fs(ne,q-1)),_l(f,Rr(v,3),ne,!0)}function L_(f){return null!=f&&f.length?ns(f,1):[]}function Og(f){return f&&f.length?f[0]:M}var th=Ir(function(f){var v=an(f,Yt);return v.length&&v[0]===f[0]?Fo(v):[]}),Uh=Ir(function(f){var v=Cu(f),I=an(f,Yt);return v===Cu(I)?v=M:I.pop(),I.length&&I[0]===f[0]?Fo(I,Rr(v,2)):[]}),cl=Ir(function(f){var v=Cu(f),I=an(f,Yt);return(v="function"==typeof v?v:M)&&I.pop(),I.length&&I[0]===f[0]?Fo(I,M,v):[]});function Cu(f){var v=null==f?0:f.length;return v?f[v-1]:M}var Vh=Ir(Al);function Al(f,v){return f&&f.length&&v&&v.length?ca(f,v):f}var Lm=Ic(function(f,v){var I=null==f?0:f.length,q=dd(f,v);return Tc(f,an(v,function(ne){return Zo(ne,I)?+ne:ne}).sort(Rh)),q});function dl(f){return null==f?f:El.call(f)}var ih=Ir(function(f){return D(ns(f,1,Jo,!0))}),Di=Ir(function(f){var v=Cu(f);return Jo(v)&&(v=M),D(ns(f,1,Jo,!0),Rr(v,2))}),Bm=Ir(function(f){var v=Cu(f);return v="function"==typeof v?v:M,D(ns(f,1,Jo,!0),M,v)});function Lf(f){if(!f||!f.length)return[];var v=0;return f=cr(f,function(I){if(Jo(I))return v=ks(I.length,v),!0}),Gs(v,function(I){return an(f,Ro(I))})}function $h(f,v){if(!f||!f.length)return[];var I=Lf(f);return null==v?I:an(I,function(q){return lo(v,M,q)})}var U_=Ir(function(f,v){return Jo(f)?Ct(f,v):[]}),A0=Ir(function(f){return sn(cr(f,Jo))}),V_=Ir(function(f){var v=Cu(f);return Jo(v)&&(v=M),sn(cr(f,Jo),Rr(v,2))}),xl=Ir(function(f){var v=Cu(f);return v="function"==typeof v?v:M,sn(cr(f,Jo),M,v)}),sh=Ir(Lf),kg=Ir(function(f){var v=f.length,I=v>1?f[v-1]:M;return I="function"==typeof I?(f.pop(),I):M,$h(f,I)});function oh(f){var v=ce(f);return v.__chain__=!0,v}function Bf(f,v){return v(f)}var Sp=Ic(function(f){var v=f.length,I=v?f[0]:0,q=this.__wrapped__,ne=function(ye){return dd(ye,f)};return!(v>1||this.__actions__.length)&&q instanceof Xr&&Zo(I)?((q=q.slice(I,+I+(v?1:0))).__actions__.push({func:Bf,args:[ne],thisArg:M}),new Ua(q,this.__chain__).thru(function(ye){return v&&!ye.length&&ye.push(M),ye})):this.thru(ne)}),ah=js(function(f,v,I){di.call(f,I)?++f[I]:cu(f,I,1)}),Xc=md(xf),wd=md(F_);function ju(f,v){return(li(f)?$s:nn)(f,Rr(v,3))}function Ap(f,v){return(li(f)?za:Zn)(f,Rr(v,3))}var ry=js(function(f,v,I){di.call(f,I)?f[I].push(v):cu(f,I,[v])}),ys=Ir(function(f,v,I){var q=-1,ne="function"==typeof v,ye=zu(f)?ut(f.length):[];return nn(f,function(Ve){ye[++q]=ne?lo(v,Ve,I):ul(Ve,v,I)}),ye}),$m=js(function(f,v,I){cu(f,I,v)});function Bg(f,v){return(li(f)?an:xh)(f,Rr(v,3))}var Hm=js(function(f,v,I){f[I?0:1].push(v)},function(){return[[],[]]}),W_=Ir(function(f,v){if(null==f)return[];var I=v.length;return I>1&&Bo(f,v[0],v[1])?v=[]:I>2&&Bo(v[0],v[1],v[2])&&(v=[v[0]]),rc(f,ns(v,1),[])}),ai=Pa||function(){return ps.Date.now()};function Vf(f,v,I){return v=I?M:v,Hu(f,128,M,M,M,M,v=f&&null==v?f.length:v)}function $f(f,v){var I;if("function"!=typeof v)throw new Ta(Me);return f=Si(f),function(){return--f>0&&(I=v.apply(this,arguments)),f<=1&&(v=M),I}}var Td=Ir(function(f,v,I){var q=1;if(I.length){var ne=eo(I,Fh(Td));q|=32}return Hu(f,q,v,I,ne)}),Mp=Ir(function(f,v,I){var q=3;if(I.length){var ne=eo(I,Fh(Mp));q|=32}return Hu(v,q,f,I,ne)});function Gf(f,v,I){var q,ne,ye,Ve,qe,pt,ln=0,cn=!1,gn=!1,Vn=!0;if("function"!=typeof f)throw new Ta(Me);function _r(Ds){var nu=q,fl=ne;return q=ne=M,ln=Ds,Ve=f.apply(fl,nu)}function Gr(Ds){return ln=Ds,qe=Ep(Yi,v),cn?_r(Ds):Ve}function Kr(Ds){var nu=Ds-pt;return pt===M||nu>=v||nu<0||gn&&Ds-ln>=ye}function Yi(){var Ds=ai();if(Kr(Ds))return is(Ds);qe=Ep(Yi,function Pi(Ds){var tp=v-(Ds-pt);return gn?Fs(tp,ye-(Ds-ln)):tp}(Ds))}function is(Ds){return qe=M,Vn&&q?_r(Ds):(q=ne=M,Ve)}function Ju(){var Ds=ai(),nu=Kr(Ds);if(q=arguments,ne=this,pt=Ds,nu){if(qe===M)return Gr(pt);if(gn)return _o(qe),qe=Ep(Yi,v),_r(pt)}return qe===M&&(qe=Ep(Yi,v)),Ve}return v=zs(v)||0,Uo(I)&&(cn=!!I.leading,ye=(gn="maxWait"in I)?ks(zs(I.maxWait)||0,v):ye,Vn="trailing"in I?!!I.trailing:Vn),Ju.cancel=function Zu(){qe!==M&&_o(qe),ln=0,q=pt=ne=qe=M},Ju.flush=function Yu(){return qe===M?Ve:is(ai())},Ju}var Cd=Ir(function(f,v){return tt(f,1,v)}),z_=Ir(function(f,v,I){return tt(f,zs(v)||0,I)});function Np(f,v){if("function"!=typeof f||null!=v&&"function"!=typeof v)throw new Ta(Me);var I=function(){var q=arguments,ne=v?v.apply(this,q):q[0],ye=I.cache;if(ye.has(ne))return ye.get(ne);var Ve=f.apply(this,q);return I.cache=ye.set(ne,Ve)||ye,Ve};return I.cache=new(Np.Cache||Vu),I}function $g(f){if("function"!=typeof f)throw new Ta(Me);return function(){var v=arguments;switch(v.length){case 0:return!f.call(this);case 1:return!f.call(this,v[0]);case 2:return!f.call(this,v[0],v[1]);case 3:return!f.call(this,v[0],v[1],v[2])}return!f.apply(this,v)}}Np.Cache=Vu;var sy=Mt(function(f,v){var I=(v=1==v.length&&li(v[0])?an(v[0],B(Rr())):an(ns(v,1),B(Rr()))).length;return Ir(function(q){for(var ne=-1,ye=Fs(q.length,I);++ne<ye;)q[ne]=v[ne].call(this,q[ne]);return lo(f,this,q)})}),lh=Ir(function(f,v){var I=eo(v,Fh(lh));return Hu(f,32,M,v,I)}),Z_=Ir(function(f,v){var I=eo(v,Fh(Z_));return Hu(f,64,M,v,I)}),Y_=Ic(function(f,v){return Hu(f,256,M,M,M,v)});function Mc(f,v){return f===v||f!=f&&v!=v}var ay=qd(mf),Ol=qd(function(f,v){return f>=v}),Wu=bc(function(){return arguments}())?bc:function(f){return Us(f)&&di.call(f,"callee")&&!Zi.call(f,"callee")},li=ut.isArray,Rp=ia?B(ia):function dp(f){return Us(f)&&du(f)==kn};function zu(f){return null!=f&&Wh(f.length)&&!Rl(f)}function Jo(f){return Us(f)&&zu(f)}var td=Go||Zf,zm=Eo?B(Eo):function yg(f){return Us(f)&&du(f)==Br};function Pp(f){if(!Us(f))return!1;var v=du(f);return v==dr||"[object DOMException]"==v||"string"==typeof f.message&&"string"==typeof f.name&&!qh(f)}function Rl(f){if(!Uo(f))return!1;var v=du(f);return v==Qn||v==Zr||"[object AsyncFunction]"==v||"[object Proxy]"==v}function qu(f){return"number"==typeof f&&f==Si(f)}function Wh(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=Dt}function Uo(f){var v=typeof f;return null!=f&&("object"==v||"function"==v)}function Us(f){return null!=f&&"object"==typeof f}var ch=Ea?B(Ea):function vf(f){return Us(f)&&wu(f)==Wr};function zh(f){return"number"==typeof f||Us(f)&&du(f)==br}function qh(f){if(!Us(f)||du(f)!=rr)return!1;var v=Ni(f);if(null===v)return!0;var I=di.call(v,"constructor")&&v.constructor;return"function"==typeof I&&I instanceof I&&ku.call(I)==re}var Kh=bo?B(bo):function Ef(f){return Us(f)&&du(f)==yn},kp=$o?B($o):function bf(f){return Us(f)&&wu(f)==Sr};function Fp(f){return"string"==typeof f||!li(f)&&Us(f)&&du(f)==Fi}function Qo(f){return"symbol"==typeof f||Us(f)&&du(f)==Ii}var dh=No?B(No):function M_(f){return Us(f)&&Wh(f.length)&&!!_i[du(f)]},tv=qd(Ah),hy=qd(function(f,v){return f<=v});function zg(f){if(!f)return[];if(zu(f))return Fp(f)?ua(f):eu(f);if(Ho&&f[Ho])return function Co(Ge){for(var It,ut=[];!(It=Ge.next()).done;)ut.push(It.value);return ut}(f[Ho]());var v=wu(f);return(v==Wr?qi:v==Sr?_s:kl)(f)}function nd(f){return f?(f=zs(f))===st||f===-st?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}function Si(f){var v=nd(f),I=v%1;return v==v?I?v-I:v:0}function Lp(f){return f?z(Si(f),0,qt):0}function zs(f){if("number"==typeof f)return f;if(Qo(f))return NaN;if(Uo(f)){var v="function"==typeof f.valueOf?f.valueOf():f;f=Uo(v)?v+"":v}if("string"!=typeof f)return 0===f?f:+f;f=Ra(f);var I=fs.test(f);return I||Hi.test(f)?Vl(f.slice(2),I?2:8):si.test(f)?NaN:+f}function qg(f){return Mr(f,Pl(f))}function Es(f){return null==f?"":b(f)}var hh=gr(function(f,v){if(Ed(v)||zu(v))Mr(v,hu(v),f);else for(var I in v)di.call(v,I)&&go(f,I,v[I])}),nv=gr(function(f,v){Mr(v,Pl(v),f)}),fh=gr(function(f,v,I,q){Mr(v,Pl(v),f,q)}),Ym=gr(function(f,v,I,q){Mr(v,hu(v),f,q)}),Kg=Ic(dd),Sd=Ir(function(f,v){f=Vr(f);var I=-1,q=v.length,ne=q>2?v[2]:M;for(ne&&Bo(v[0],v[1],ne)&&(q=1);++I<q;)for(var ye=v[I],Ve=Pl(ye),qe=-1,pt=Ve.length;++qe<pt;){var ln=Ve[qe],cn=f[ln];(cn===M||Mc(cn,ou[ln])&&!di.call(f,ln))&&(f[ln]=ye[ln])}return f}),gh=Ir(function(f){return f.push(M,Dg),lo(hc,M,f)});function Kl(f,v,I){var q=null==f?M:Ei(f,v);return q===M?I:q}function _h(f,v){return null!=f&&Yc(f,v,nc)}var vh=Mm(function(f,v,I){null!=v&&"function"!=typeof v.toString&&(v=H.call(v)),f[v]=I},om(ma)),Zh=Mm(function(f,v,I){null!=v&&"function"!=typeof v.toString&&(v=H.call(v)),di.call(f,v)?f[v].push(I):f[v]=[I]},Rr),Vp=Ir(ul);function hu(f){return zu(f)?en(f):$d(f)}function Pl(f){return zu(f)?en(f,!0):function wf(f){if(!Uo(f))return function Rm(f){var v=[];if(null!=f)for(var I in Vr(f))v.push(I);return v}(f);var v=Ed(f),I=[];for(var q in f)"constructor"==q&&(v||!di.call(f,q))||I.push(q);return I}(f)}var Yh=gr(function(f,v,I){Vc(f,v,I)}),hc=gr(function(f,v,I,q){Vc(f,v,I,q)}),Hp=Ic(function(f,v){var I={};if(null==f)return I;var q=!1;v=an(v,function(ye){return ye=un(ye,f),q||(q=ye.length>1),ye}),Mr(f,Ac(f),I),q&&(I=Y(I,7,Kd));for(var ne=v.length;ne--;)F(I,v[ne]);return I}),sv=Ic(function(f,v){return null==f?{}:function bg(f,v){return Cf(f,v,function(I,q){return _h(f,q)})}(f,v)});function Yg(f,v){if(null==f)return{};var I=an(Ac(f),function(q){return[q]});return v=Rr(v),Cf(f,I,function(q,ne){return v(q,ne[0])})}var Qh=Ot(hu),yh=Ot(Pl);function kl(f){return null==f?[]:W(f,hu(f))}var Wp=Ln(function(f,v,I){return v=v.toLowerCase(),f+(I?ef(v):v)});function ef(f){return Fl(Es(f).toLowerCase())}function Xg(f){return(f=Es(f))&&f.replace(oo,zi).replace(ji,"")}var tm=Ln(function(f,v,I){return f+(I?"-":"")+v.toLowerCase()}),av=Ln(function(f,v,I){return f+(I?" ":"")+v.toLowerCase()}),Eh=Ws("toLowerCase"),xd=Ln(function(f,v,I){return f+(I?"_":"")+v.toLowerCase()}),gy=Ln(function(f,v,I){return f+(I?" ":"")+Fl(v)}),rd=Ln(function(f,v,I){return f+(I?" ":"")+v.toUpperCase()}),Fl=Ws("toUpperCase");function o_(f,v,I){return f=Es(f),(v=I?M:v)===M?function aa(Ge){return ja.test(Ge)}(f)?function $l(Ge){return Ge.match(Ga)||[]}(f):function Zs(Ge){return Ge.match(nt)||[]}(f):f.match(v)||[]}var tf=Ir(function(f,v){try{return lo(f,M,v)}catch(I){return Pp(I)?I:new kr(I)}}),cv=Ic(function(f,v){return $s(v,function(I){I=fi(I),cu(f,I,Td(f[I],f))}),f});function om(f){return function(){return f}}var ga=Df(),Ku=Df(!0);function ma(f){return f}function qf(f){return Eg("function"==typeof f?f:Y(f,1))}var Nc=Ir(function(f,v){return function(I){return ul(I,f,v)}}),id=Ir(function(f,v){return function(I){return ul(f,I,v)}});function Md(f,v,I){var q=hu(v),ne=ko(v,q);null==I&&(!Uo(v)||!ne.length&&q.length)&&(I=v,v=f,f=this,ne=ko(v,hu(v)));var ye=!(Uo(I)&&"chain"in I&&!I.chain),Ve=Rl(f);return $s(ne,function(qe){var pt=v[qe];f[qe]=pt,Ve&&(f.prototype[qe]=function(){var ln=this.__chain__;if(ye||ln){var cn=f(this.__wrapped__),gn=cn.__actions__=eu(this.__actions__);return gn.push({func:pt,args:arguments,thisArg:f}),cn.__chain__=ln,cn}return pt.apply(f,Ki([this.value()],arguments))})}),f}function Oc(){}var Rc=jc(an),Od=jc(ws),bh=jc(Oo);function qp(f){return ac(f)?Ro(fi(f)):function Hd(f){return function(v){return Ei(v,f)}}(f)}var dv=zc(),Kf=zc(!0);function Kp(){return[]}function Zf(){return!1}var Yf=Gc(function(f,v){return f+v},0),am=sc("ceil"),Jf=Gc(function(f,v){return f/v},1),Zp=sc("floor"),Jp=Gc(function(f,v){return f*v},1),c_=sc("round"),Qp=Gc(function(f,v){return f-v},0);return ce.after=function iy(f,v){if("function"!=typeof v)throw new Ta(Me);return f=Si(f),function(){if(--f<1)return v.apply(this,arguments)}},ce.ary=Vf,ce.assign=hh,ce.assignIn=nv,ce.assignInWith=fh,ce.assignWith=Ym,ce.at=Kg,ce.before=$f,ce.bind=Td,ce.bindAll=cv,ce.bindKey=Mp,ce.castArray=function jm(){if(!arguments.length)return[];var f=arguments[0];return li(f)?f:[f]},ce.chain=oh,ce.chunk=function km(f,v,I){v=(I?Bo(f,v,I):v===M)?1:ks(Si(v),0);var q=null==f?0:f.length;if(!q||v<1)return[];for(var ne=0,ye=0,Ve=ut(vu(q/v));ne<q;)Ve[ye++]=Va(f,ne,ne+=v);return Ve},ce.compact=function R_(f){for(var v=-1,I=null==f?0:f.length,q=0,ne=[];++v<I;){var ye=f[v];ye&&(ne[q++]=ye)}return ne},ce.concat=function xg(){var f=arguments.length;if(!f)return[];for(var v=ut(f-1),I=arguments[0],q=f;q--;)v[q-1]=arguments[q];return Ki(li(I)?eu(I):[I],ns(v,1))},ce.cond=function a_(f){var v=null==f?0:f.length,I=Rr();return f=v?an(f,function(q){if("function"!=typeof q[1])throw new Ta(Me);return[I(q[0]),q[1]]}):[],Ir(function(q){for(var ne=-1;++ne<v;){var ye=f[ne];if(lo(ye[0],this,q))return lo(ye[1],this,q)}})},ce.conforms=function u_(f){return function ae(f){var v=hu(f);return function(I){return Le(I,f,v)}}(Y(f,1))},ce.constant=om,ce.countBy=ah,ce.create=function ph(f,v){var I=Ls(f);return null==v?I:Wo(I,v)},ce.curry=function ui(f,v,I){var q=Hu(f,8,M,M,M,M,M,v=I?M:v);return q.placeholder=ui.placeholder,q},ce.curryRight=function Hf(f,v,I){var q=Hu(f,16,M,M,M,M,M,v=I?M:v);return q.placeholder=Hf.placeholder,q},ce.debounce=Gf,ce.defaults=Sd,ce.defaultsDeep=gh,ce.defer=Cd,ce.delay=z_,ce.difference=Bh,ce.differenceBy=P_,ce.differenceWith=Mg,ce.drop=function ey(f,v,I){var q=null==f?0:f.length;return q?Va(f,(v=I||v===M?1:Si(v))<0?0:v,q):[]},ce.dropRight=function ha(f,v,I){var q=null==f?0:f.length;return q?Va(f,0,(v=q-(v=I||v===M?1:Si(v)))<0?0:v):[]},ce.dropRightWhile=function k_(f,v){return f&&f.length?he(f,Rr(v,3),!0,!0):[]},ce.dropWhile=function Ng(f,v){return f&&f.length?he(f,Rr(v,3),!0):[]},ce.fill=function ty(f,v,I,q){var ne=null==f?0:f.length;return ne?(I&&"number"!=typeof I&&Bo(f,v,I)&&(I=0,q=ne),function Or(f,v,I,q){var ne=f.length;for((I=Si(I))<0&&(I=-I>ne?0:ne+I),(q=q===M||q>ne?ne:Si(q))<0&&(q+=ne),q=I>q?0:Lp(q);I<q;)f[I++]=v;return f}(f,v,I,q)):[]},ce.filter=function lc(f,v){return(li(f)?cr:Fr)(f,Rr(v,3))},ce.flatMap=function Lg(f,v){return ns(Bg(f,v),1)},ce.flatMapDeep=function Vm(f,v){return ns(Bg(f,v),st)},ce.flatMapDepth=function uh(f,v,I){return I=I===M?1:Si(I),ns(Bg(f,v),I)},ce.flatten=L_,ce.flattenDeep=function Mf(f){return null!=f&&f.length?ns(f,st):[]},ce.flattenDepth=function ny(f,v){return null!=f&&f.length?ns(f,v=v===M?1:Si(v)):[]},ce.flip=function q_(f){return Hu(f,512)},ce.flow=ga,ce.flowRight=Ku,ce.fromPairs=function Yo(f){for(var v=-1,I=null==f?0:f.length,q={};++v<I;){var ne=f[v];q[ne[0]]=ne[1]}return q},ce.functions=function fy(f){return null==f?[]:ko(f,hu(f))},ce.functionsIn=function iv(f){return null==f?[]:ko(f,Pl(f))},ce.groupBy=ry,ce.initial=function Ci(f){return null!=f&&f.length?Va(f,0,-1):[]},ce.intersection=th,ce.intersectionBy=Uh,ce.intersectionWith=cl,ce.invert=vh,ce.invertBy=Zh,ce.invokeMap=ys,ce.iteratee=qf,ce.keyBy=$m,ce.keys=hu,ce.keysIn=Pl,ce.map=Bg,ce.mapKeys=function Zg(f,v){var I={};return v=Rr(v,3),Ao(f,function(q,ne,ye){cu(I,v(q,ne,ye),q)}),I},ce.mapValues=function $p(f,v){var I={};return v=Rr(v,3),Ao(f,function(q,ne,ye){cu(I,ne,v(q,ne,ye))}),I},ce.matches=function gc(f){return Qa(Y(f,1))},ce.matchesProperty=function zp(f,v){return Tf(f,Y(v,1))},ce.memoize=Np,ce.merge=Yh,ce.mergeWith=hc,ce.method=Nc,ce.methodOf=id,ce.mixin=Md,ce.negate=$g,ce.nthArg=function Nd(f){return f=Si(f),Ir(function(v){return Dl(v,f)})},ce.omit=Hp,ce.omitBy=function Jh(f,v){return Yg(f,$g(Rr(v)))},ce.once=function K_(f){return $f(2,f)},ce.orderBy=function ed(f,v,I,q){return null==f?[]:(li(v)||(v=null==v?[]:[v]),li(I=q?M:I)||(I=null==I?[]:[I]),rc(f,v,I))},ce.over=Rc,ce.overArgs=sy,ce.overEvery=Od,ce.overSome=bh,ce.partial=lh,ce.partialRight=Z_,ce.partition=Hm,ce.pick=sv,ce.pickBy=Yg,ce.property=qp,ce.propertyOf=function l_(f){return function(v){return null==f?M:Ei(f,v)}},ce.pull=Vh,ce.pullAll=Al,ce.pullAllBy=function nh(f,v,I){return f&&f.length&&v&&v.length?ca(f,v,Rr(I,2)):f},ce.pullAllWith=function bi(f,v,I){return f&&f.length&&v&&v.length?ca(f,v,M,I):f},ce.pullAt=Lm,ce.range=dv,ce.rangeRight=Kf,ce.rearg=Y_,ce.reject=function Vg(f,v){return(li(f)?cr:Fr)(f,$g(Rr(v,3)))},ce.remove=function Aa(f,v){var I=[];if(!f||!f.length)return I;var q=-1,ne=[],ye=f.length;for(v=Rr(v,3);++q<ye;){var Ve=f[q];v(Ve,q,f)&&(I.push(Ve),ne.push(q))}return Tc(f,ne),I},ce.rest=function pa(f,v){if("function"!=typeof f)throw new Ta(Me);return Ir(f,v=v===M?v:Si(v))},ce.reverse=dl,ce.sampleSize=function tu(f,v,I){return v=(I?Bo(f,v,I):v===M)?1:Si(v),(li(f)?xn:Xa)(f,v)},ce.set=function Jg(f,v,I){return null==f?f:Sl(f,v,I)},ce.setWith=function Xm(f,v,I,q){return q="function"==typeof q?q:M,null==f?f:Sl(f,v,I,q)},ce.shuffle=function xp(f){return(li(f)?Hr:Ia)(f)},ce.slice=function uc(f,v,I){var q=null==f?0:f.length;return q?(I&&"number"!=typeof I&&Bo(f,v,I)?(v=0,I=q):(v=null==v?0:Si(v),I=I===M?q:Si(I)),Va(f,v,I)):[]},ce.sortBy=W_,ce.sortedUniq=function Qc(f){return f&&f.length?Lo(f):[]},ce.sortedUniqBy=function xa(f,v){return f&&f.length?Lo(f,Rr(v,2)):[]},ce.split=function uv(f,v,I){return I&&"number"!=typeof I&&Bo(f,v,I)&&(v=I=M),(I=I===M?qt:I>>>0)?(f=Es(f))&&("string"==typeof v||null!=v&&!Kh(v))&&!(v=b(v))&&cs(f)?Jt(ua(f),0,I):f.split(v,I):[]},ce.spread=function Dd(f,v){if("function"!=typeof f)throw new Ta(Me);return v=null==v?0:ks(Si(v),0),Ir(function(I){var q=I[v],ne=Jt(I,0,v);return q&&Ki(ne,q),lo(f,this,ne)})},ce.tail=function Pg(f){var v=null==f?0:f.length;return v?Va(f,1,v):[]},ce.take=function Rf(f,v,I){return f&&f.length?Va(f,0,(v=I||v===M?1:Si(v))<0?0:v):[]},ce.takeRight=function Pf(f,v,I){var q=null==f?0:f.length;return q?Va(f,(v=q-(v=I||v===M?1:Si(v)))<0?0:v,q):[]},ce.takeRightWhile=function B_(f,v){return f&&f.length?he(f,Rr(v,3),!1,!0):[]},ce.takeWhile=function kf(f,v){return f&&f.length?he(f,Rr(v,3)):[]},ce.tap=function Ml(f,v){return v(f),f},ce.throttle=function Gm(f,v,I){var q=!0,ne=!0;if("function"!=typeof f)throw new Ta(Me);return Uo(I)&&(q="leading"in I?!!I.leading:q,ne="trailing"in I?!!I.trailing:ne),Gf(f,v,{leading:q,maxWait:v,trailing:ne})},ce.thru=Bf,ce.toArray=zg,ce.toPairs=Qh,ce.toPairsIn=yh,ce.toPath=function gv(f){return li(f)?an(f,fi):Qo(f)?[f]:eu(Nr(Es(f)))},ce.toPlainObject=qg,ce.transform=function Gp(f,v,I){var q=li(f),ne=q||td(f)||dh(f);if(v=Rr(v,4),null==I){var ye=f&&f.constructor;I=ne?q?new ye:[]:Uo(f)&&Rl(ye)?Ls(Ni(f)):{}}return(ne?$s:Ao)(f,function(Ve,qe,pt){return v(I,Ve,qe,pt)}),I},ce.unary=function Ns(f){return Vf(f,1)},ce.union=ih,ce.unionBy=Di,ce.unionWith=Bm,ce.uniq=function Ff(f){return f&&f.length?D(f):[]},ce.uniqBy=function Cp(f,v){return f&&f.length?D(f,Rr(v,2)):[]},ce.uniqWith=function Dp(f,v){return v="function"==typeof v?v:M,f&&f.length?D(f,M,v):[]},ce.unset=function fc(f,v){return null==f||F(f,v)},ce.unzip=Lf,ce.unzipWith=$h,ce.update=function Qg(f,v,I){return null==f?f:Q(f,v,$r(I))},ce.updateWith=function Wf(f,v,I,q){return q="function"==typeof q?q:M,null==f?f:Q(f,v,$r(I),q)},ce.values=kl,ce.valuesIn=function py(f){return null==f?[]:W(f,Pl(f))},ce.without=U_,ce.words=o_,ce.wrap=function cc(f,v){return lh($r(v),f)},ce.xor=A0,ce.xorBy=V_,ce.xorWith=xl,ce.zip=sh,ce.zipObject=function Hh(f,v){return Ut(f||[],v||[],go)},ce.zipObjectDeep=function Du(f,v){return Ut(f||[],v||[],Sl)},ce.zipWith=kg,ce.entries=Qh,ce.entriesIn=yh,ce.extend=nv,ce.extendWith=fh,Md(ce,ce),ce.add=Yf,ce.attempt=tf,ce.camelCase=Wp,ce.capitalize=ef,ce.ceil=am,ce.clamp=function e_(f,v,I){return I===M&&(I=v,v=M),I!==M&&(I=(I=zs(I))==I?I:0),v!==M&&(v=(v=zs(v))==v?v:0),z(zs(f),v,I)},ce.clone=function oy(f){return Y(f,4)},ce.cloneDeep=function J_(f){return Y(f,5)},ce.cloneDeepWith=function Wm(f,v){return Y(f,5,v="function"==typeof v?v:M)},ce.cloneWith=function Op(f,v){return Y(f,4,v="function"==typeof v?v:M)},ce.conformsTo=function Hg(f,v){return null==v||Le(f,v,hu(v))},ce.deburr=Xg,ce.defaultTo=function pc(f,v){return null==f||f!=f?v:f},ce.divide=Jf,ce.endsWith=function Zl(f,v,I){f=Es(f),v=b(v);var q=f.length,ne=I=I===M?q:z(Si(I),0,q);return(I-=v.length)>=0&&f.slice(I,ne)==v},ce.eq=Mc,ce.escape=function t_(f){return(f=Es(f))&&Zt.test(f)?f.replace(Tn,Qi):f},ce.escapeRegExp=function em(f){return(f=Es(f))&&vt.test(f)?f.replace(Ae,"\\$&"):f},ce.every=function Um(f,v,I){var q=li(f)?ws:ir;return I&&Bo(f,v,I)&&(v=M),q(f,Rr(v,3))},ce.find=Xc,ce.findIndex=xf,ce.findKey=function dc(f,v){return sa(f,Rr(v,3),Ao)},ce.findLast=wd,ce.findLastIndex=F_,ce.findLastKey=function Jm(f,v){return sa(f,Rr(v,3),Ya)},ce.floor=Zp,ce.forEach=ju,ce.forEachRight=Ap,ce.forIn=function Bp(f,v){return null==f?f:mo(f,Rr(v,3),Pl)},ce.forInRight=function Up(f,v){return null==f?f:$u(f,Rr(v,3),Pl)},ce.forOwn=function Qm(f,v){return f&&Ao(f,Rr(v,3))},ce.forOwnRight=function rv(f,v){return f&&Ya(f,Rr(v,3))},ce.get=Kl,ce.gt=ay,ce.gte=Ol,ce.has=function mh(f,v){return null!=f&&Yc(f,v,_f)},ce.hasIn=_h,ce.head=Og,ce.identity=ma,ce.includes=function $a(f,v,I,q){f=zu(f)?f:kl(f),I=I&&!q?Si(I):0;var ne=f.length;return I<0&&(I=ks(ne+I,0)),Fp(f)?I<=ne&&f.indexOf(v,I)>-1:!!ne&&To(f,v,I)>-1},ce.indexOf=function Tu(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var ne=null==I?0:Si(I);return ne<0&&(ne=ks(q+ne,0)),To(f,v,ne)},ce.inRange=function Xh(f,v,I){return v=nd(v),I===M?(I=v,v=0):I=nd(I),function fd(f,v,I){return f>=Fs(v,I)&&f<ks(v,I)}(f=zs(f),v,I)},ce.invoke=Vp,ce.isArguments=Wu,ce.isArray=li,ce.isArrayBuffer=Rp,ce.isArrayLike=zu,ce.isArrayLikeObject=Jo,ce.isBoolean=function uy(f){return!0===f||!1===f||Us(f)&&du(f)==Pr},ce.isBuffer=td,ce.isDate=zm,ce.isElement=function ly(f){return Us(f)&&1===f.nodeType&&!qh(f)},ce.isEmpty=function cy(f){if(null==f)return!0;if(zu(f)&&(li(f)||"string"==typeof f||"function"==typeof f.splice||td(f)||dh(f)||Wu(f)))return!f.length;var v=wu(f);if(v==Wr||v==Sr)return!f.size;if(Ed(f))return!$d(f).length;for(var I in f)if(di.call(f,I))return!1;return!0},ce.isEqual=function jh(f,v){return Cl(f,v)},ce.isEqualWith=function Ha(f,v,I){var q=(I="function"==typeof I?I:M)?I(f,v):M;return q===M?Cl(f,v,M,I):!!q},ce.isError=Pp,ce.isFinite=function Gg(f){return"number"==typeof f&&ka(f)},ce.isFunction=Rl,ce.isInteger=qu,ce.isLength=Wh,ce.isMap=ch,ce.isMatch=function jf(f,v){return f===v||pd(f,v,xc(v))},ce.isMatchWith=function qm(f,v,I){return I="function"==typeof I?I:M,pd(f,v,xc(v),I)},ce.isNaN=function Q_(f){return zh(f)&&f!=+f},ce.isNative=function dy(f){if(Xv(f))throw new kr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return yf(f)},ce.isNil=function jg(f){return null==f},ce.isNull=function X_(f){return null===f},ce.isNumber=zh,ce.isObject=Uo,ce.isObjectLike=Us,ce.isPlainObject=qh,ce.isRegExp=Kh,ce.isSafeInteger=function Km(f){return qu(f)&&f>=-Dt&&f<=Dt},ce.isSet=kp,ce.isString=Fp,ce.isSymbol=Qo,ce.isTypedArray=dh,ce.isUndefined=function Wg(f){return f===M},ce.isWeakMap=function ev(f){return Us(f)&&wu(f)==qr},ce.isWeakSet=function Zm(f){return Us(f)&&"[object WeakSet]"==du(f)},ce.join=function fa(f,v){return null==f?"":yu.call(f,v)},ce.kebabCase=tm,ce.last=Cu,ce.lastIndexOf=function Bs(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var ne=q;return I!==M&&(ne=(ne=Si(I))<0?ks(q+ne,0):Fs(ne,q-1)),v==v?function nl(Ge,It,ut){for(var Hn=ut+1;Hn--;)if(Ge[Hn]===It)return Hn;return Hn}(f,v,ne):_l(f,co,ne,!0)},ce.lowerCase=av,ce.lowerFirst=Eh,ce.lt=tv,ce.lte=hy,ce.max=function mv(f){return f&&f.length?pr(f,ma,mf):M},ce.maxBy=function Yp(f,v){return f&&f.length?pr(f,Rr(v,2),mf):M},ce.mean=function um(f){return nr(f,ma)},ce.meanBy=function Yl(f,v){return nr(f,Rr(v,2))},ce.min=function _v(f){return f&&f.length?pr(f,ma,Ah):M},ce.minBy=function Qf(f,v){return f&&f.length?pr(f,Rr(v,2),Ah):M},ce.stubArray=Kp,ce.stubFalse=Zf,ce.stubObject=function hv(){return{}},ce.stubString=function fv(){return""},ce.stubTrue=function yy(){return!0},ce.multiply=Jp,ce.nth=function Fm(f,v){return f&&f.length?Dl(f,Si(v)):M},ce.noConflict=function nf(){return ps._===this&&(ps._=Be),this},ce.noop=Oc,ce.now=ai,ce.pad=function Id(f,v,I){f=Es(f);var q=(v=Si(v))?_u(f):0;if(!v||q>=v)return f;var ne=(v-q)/2;return Wc(Fu(ne),I)+f+Wc(vu(ne),I)},ce.padEnd=function nm(f,v,I){f=Es(f);var q=(v=Si(v))?_u(f):0;return v&&q<v?f+Wc(v-q,I):f},ce.padStart=function Ad(f,v,I){f=Es(f);var q=(v=Si(v))?_u(f):0;return v&&q<v?Wc(v-q,I)+f:f},ce.parseInt=function rm(f,v,I){return I||null==v?v=0:v&&(v=+v),Sh(Es(f).replace(Kt,""),v||0)},ce.random=function jp(f,v,I){if(I&&"boolean"!=typeof I&&Bo(f,v,I)&&(v=I=M),I===M&&("boolean"==typeof v?(I=v,v=M):"boolean"==typeof f&&(I=f,f=M)),f===M&&v===M?(f=0,v=1):(f=nd(f),v===M?(v=f,f=0):v=nd(v)),f>v){var q=f;f=v,v=q}if(I||f%1||v%1){var ne=no();return Fs(f+ne*(v-f+yo("1e-"+((ne+"").length-1))),v)}return Sa(f,v)},ce.reduce=function Nl(f,v,I){var q=li(f)?qn:mu,ne=arguments.length<3;return q(f,Rr(v,4),I,ne,nn)},ce.reduceRight=function Ug(f,v,I){var q=li(f)?wo:mu,ne=arguments.length<3;return q(f,Rr(v,4),I,ne,Zn)},ce.repeat=function zf(f,v,I){return v=(I?Bo(f,v,I):v===M)?1:Si(v),$c(Es(f),v)},ce.replace=function im(){var f=arguments,v=Es(f[0]);return f.length<3?v:v.replace(f[1],f[2])},ce.result=function ov(f,v,I){var q=-1,ne=(v=un(v,f)).length;for(ne||(ne=1,f=M);++q<ne;){var ye=null==f?M:f[fi(v[q])];ye===M&&(q=ne,ye=I),f=Rl(ye)?ye.call(f):ye}return f},ce.round=c_,ce.runInContext=Ge,ce.sample=function G_(f){return(li(f)?Kn:Gd)(f)},ce.size=function Gh(f){if(null==f)return 0;if(zu(f))return Fp(f)?_u(f):f.length;var v=wu(f);return v==Wr||v==Sr?f.size:$d(f).length},ce.snakeCase=xd,ce.some=function j_(f,v,I){var q=li(f)?Oo:Hc;return I&&Bo(f,v,I)&&(v=M),q(f,Rr(v,3))},ce.sortedIndex=function Jc(f,v){return Cc(f,v)},ce.sortedIndexBy=function Nf(f,v,I){return jd(f,v,Rr(I,2))},ce.sortedIndexOf=function Of(f,v){var I=null==f?0:f.length;if(I){var q=Cc(f,v);if(q<I&&Mc(f[q],v))return q}return-1},ce.sortedLastIndex=function rh(f,v){return Cc(f,v,!0)},ce.sortedLastIndexBy=function Rg(f,v,I){return jd(f,v,Rr(I,2),!0)},ce.sortedLastIndexOf=function Tp(f,v){if(null!=f&&f.length){var q=Cc(f,v,!0)-1;if(Mc(f[q],v))return q}return-1},ce.startCase=gy,ce.startsWith=function my(f,v,I){return f=Es(f),I=null==I?0:z(Si(I),0,f.length),v=b(v),f.slice(I,I+v.length)==v},ce.subtract=Qp,ce.sum=function Xf(f){return f&&f.length?qa(f,ma):0},ce.sumBy=function ep(f,v){return f&&f.length?qa(f,Rr(v,2)):0},ce.template=function _y(f,v,I){var q=ce.templateSettings;I&&Bo(f,v,I)&&(v=M),f=Es(f),v=fh({},v,q,oc);var qe,pt,ne=fh({},v.imports,q.imports,oc),ye=hu(ne),Ve=W(ne,ye),ln=0,cn=v.interpolate||bs,gn="__p += '",Vn=Po((v.escape||bs).source+"|"+cn.source+"|"+(cn===Se?Mn:bs).source+"|"+(v.evaluate||bs).source+"|$","g"),_r="//# sourceURL="+(di.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_c+"]")+"\n";f.replace(Vn,function(Kr,Yi,is,Zu,Yu,Ju){return is||(is=Zu),gn+=f.slice(ln,Ju).replace(oi,oa),Yi&&(qe=!0,gn+="' +\n__e("+Yi+") +\n'"),Yu&&(pt=!0,gn+="';\n"+Yu+";\n__p += '"),is&&(gn+="' +\n((__t = ("+is+")) == null ? '' : __t) +\n'"),ln=Ju+Kr.length,Kr}),gn+="';\n";var Gr=di.call(v,"variable")&&v.variable;if(Gr){if(Ht.test(Gr))throw new kr("Invalid `variable` option passed into `_.template`")}else gn="with (obj) {\n"+gn+"\n}\n";gn=(pt?gn.replace(os,""):gn).replace(gi,"$1").replace(on,"$1;"),gn="function("+(Gr||"obj")+") {\n"+(Gr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(qe?", __e = _.escape":"")+(pt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+gn+"return __p\n}";var Pi=tf(function(){return Mi(ye,_r+"return "+gn).apply(M,Ve)});if(Pi.source=gn,Pp(Pi))throw Pi;return Pi},ce.times=function pv(f,v){if((f=Si(f))<1||f>Dt)return[];var I=qt,q=Fs(f,qt);v=Rr(v),f-=qt;for(var ne=Gs(q,v);++I<f;)v(I);return ne},ce.toFinite=nd,ce.toInteger=Si,ce.toLength=Lp,ce.toLower=function vy(f){return Es(f).toLowerCase()},ce.toNumber=zs,ce.toSafeInteger=function hl(f){return f?z(Si(f),-Dt,Dt):0===f?f:0},ce.toString=Es,ce.toUpper=function sm(f){return Es(f).toUpperCase()},ce.trim=function n_(f,v,I){if((f=Es(f))&&(I||v===M))return Ra(f);if(!f||!(v=b(v)))return f;var q=ua(f),ne=ua(v);return Jt(q,se(q,ne),gt(q,ne)+1).join("")},ce.trimEnd=function r_(f,v,I){if((f=Es(f))&&(I||v===M))return f.slice(0,wa(f)+1);if(!f||!(v=b(v)))return f;var q=ua(f);return Jt(q,0,gt(q,ua(v))+1).join("")},ce.trimStart=function lv(f,v,I){if((f=Es(f))&&(I||v===M))return f.replace(Kt,"");if(!f||!(v=b(v)))return f;var q=ua(f);return Jt(q,se(q,ua(v))).join("")},ce.truncate=function i_(f,v){var I=30,q="...";if(Uo(v)){var ne="separator"in v?v.separator:ne;I="length"in v?Si(v.length):I,q="omission"in v?b(v.omission):q}var ye=(f=Es(f)).length;if(cs(f)){var Ve=ua(f);ye=Ve.length}if(I>=ye)return f;var qe=I-_u(q);if(qe<1)return q;var pt=Ve?Jt(Ve,0,qe).join(""):f.slice(0,qe);if(ne===M)return pt+q;if(Ve&&(qe+=pt.length-qe),Kh(ne)){if(f.slice(qe).search(ne)){var ln,cn=pt;for(ne.global||(ne=Po(ne.source,Es(ii.exec(ne))+"g")),ne.lastIndex=0;ln=ne.exec(cn);)var gn=ln.index;pt=pt.slice(0,gn===M?qe:gn)}}else if(f.indexOf(b(ne),qe)!=qe){var Vn=pt.lastIndexOf(ne);Vn>-1&&(pt=pt.slice(0,Vn))}return pt+q},ce.unescape=function s_(f){return(f=Es(f))&&Wn.test(f)?f.replace($t,rl):f},ce.uniqueId=function Pc(f){var v=++U;return Es(f)+v},ce.upperCase=rd,ce.upperFirst=Fl,ce.each=ju,ce.eachRight=Ap,ce.first=Og,Md(ce,function(){var f={};return Ao(ce,function(v,I){di.call(ce.prototype,I)||(f[I]=v)}),f}(),{chain:!1}),ce.VERSION="4.17.21",$s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){ce[f].placeholder=ce}),$s(["drop","take"],function(f,v){Xr.prototype[f]=function(I){I=I===M?1:ks(Si(I),0);var q=this.__filtered__&&!v?new Xr(this):this.clone();return q.__filtered__?q.__takeCount__=Fs(I,q.__takeCount__):q.__views__.push({size:Fs(I,qt),type:f+(q.__dir__<0?"Right":"")}),q},Xr.prototype[f+"Right"]=function(I){return this.reverse()[f](I).reverse()}}),$s(["filter","map","takeWhile"],function(f,v){var I=v+1,q=1==I||3==I;Xr.prototype[f]=function(ne){var ye=this.clone();return ye.__iteratees__.push({iteratee:Rr(ne,3),type:I}),ye.__filtered__=ye.__filtered__||q,ye}}),$s(["head","last"],function(f,v){var I="take"+(v?"Right":"");Xr.prototype[f]=function(){return this[I](1).value()[0]}}),$s(["initial","tail"],function(f,v){var I="drop"+(v?"":"Right");Xr.prototype[f]=function(){return this.__filtered__?new Xr(this):this[I](1)}}),Xr.prototype.compact=function(){return this.filter(ma)},Xr.prototype.find=function(f){return this.filter(f).head()},Xr.prototype.findLast=function(f){return this.reverse().find(f)},Xr.prototype.invokeMap=Ir(function(f,v){return"function"==typeof f?new Xr(this):this.map(function(I){return ul(I,f,v)})}),Xr.prototype.reject=function(f){return this.filter($g(Rr(f)))},Xr.prototype.slice=function(f,v){f=Si(f);var I=this;return I.__filtered__&&(f>0||v<0)?new Xr(I):(f<0?I=I.takeRight(-f):f&&(I=I.drop(f)),v!==M&&(I=(v=Si(v))<0?I.dropRight(-v):I.take(v-f)),I)},Xr.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Xr.prototype.toArray=function(){return this.take(qt)},Ao(Xr.prototype,function(f,v){var I=/^(?:filter|find|map|reject)|While$/.test(v),q=/^(?:head|last)$/.test(v),ne=ce[q?"take"+("last"==v?"Right":""):v],ye=q||/^find/.test(v);ne&&(ce.prototype[v]=function(){var Ve=this.__wrapped__,qe=q?[1]:arguments,pt=Ve instanceof Xr,ln=qe[0],cn=pt||li(Ve),gn=function(Yi){var is=ne.apply(ce,Ki([Yi],qe));return q&&Vn?is[0]:is};cn&&I&&"function"==typeof ln&&1!=ln.length&&(pt=cn=!1);var Vn=this.__chain__,_r=!!this.__actions__.length,Gr=ye&&!Vn,Pi=pt&&!_r;if(!ye&&cn){Ve=Pi?Ve:new Xr(this);var Kr=f.apply(Ve,qe);return Kr.__actions__.push({func:Bf,args:[gn],thisArg:M}),new Ua(Kr,Vn)}return Gr&&Pi?f.apply(this,qe):(Kr=this.thru(gn),Gr?q?Kr.value()[0]:Kr.value():Kr)})}),$s(["pop","push","shift","sort","splice","unshift"],function(f){var v=Hl[f],I=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",q=/^(?:pop|shift)$/.test(f);ce.prototype[f]=function(){var ne=arguments;if(q&&!this.__chain__){var ye=this.value();return v.apply(li(ye)?ye:[],ne)}return this[I](function(Ve){return v.apply(li(Ve)?Ve:[],ne)})}}),Ao(Xr.prototype,function(f,v){var I=ce[v];if(I){var q=I.name+"";di.call(So,q)||(So[q]=[]),So[q].push({name:v,func:I})}}),So[_d(M,2).name]=[{name:"wrapper",func:M}],Xr.prototype.clone=function Io(){var f=new Xr(this.__wrapped__);return f.__actions__=eu(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=eu(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=eu(this.__views__),f},Xr.prototype.reverse=function bl(){if(this.__filtered__){var f=new Xr(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},Xr.prototype.value=function wl(){var f=this.__wrapped__.value(),v=this.__dir__,I=li(f),q=v<0,ne=I?f.length:0,ye=function da(f,v,I){for(var q=-1,ne=I.length;++q<ne;){var ye=I[q],Ve=ye.size;switch(ye.type){case"drop":f+=Ve;break;case"dropRight":v-=Ve;break;case"take":v=Fs(v,f+Ve);break;case"takeRight":f=ks(f,v-Ve)}}return{start:f,end:v}}(0,ne,this.__views__),Ve=ye.start,qe=ye.end,pt=qe-Ve,ln=q?qe:Ve-1,cn=this.__iteratees__,gn=cn.length,Vn=0,_r=Fs(pt,this.__takeCount__);if(!I||!q&&ne==pt&&_r==pt)return dt(f,this.__actions__);var Gr=[];e:for(;pt--&&Vn<_r;){for(var Pi=-1,Kr=f[ln+=v];++Pi<gn;){var Yi=cn[Pi],Zu=Yi.type,Yu=(0,Yi.iteratee)(Kr);if(2==Zu)Kr=Yu;else if(!Yu){if(1==Zu)continue e;break e}}Gr[Vn++]=Kr}return Gr},ce.prototype.at=Sp,ce.prototype.chain=function $_(){return oh(this)},ce.prototype.commit=function H_(){return new Ua(this.value(),this.__chain__)},ce.prototype.next=function vo(){this.__values__===M&&(this.__values__=zg(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?M:this.__values__[this.__index__++]}},ce.prototype.plant=function Ip(f){for(var v,I=this;I instanceof la;){var q=wp(I);q.__index__=0,q.__values__=M,v?ne.__wrapped__=q:v=q;var ne=q;I=I.__wrapped__}return ne.__wrapped__=f,v},ce.prototype.reverse=function Fg(){var f=this.__wrapped__;if(f instanceof Xr){var v=f;return this.__actions__.length&&(v=new Xr(this)),(v=v.reverse()).__actions__.push({func:Bf,args:[dl],thisArg:M}),new Ua(v,this.__chain__)}return this.thru(dl)},ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=function bd(){return dt(this.__wrapped__,this.__actions__)},ce.prototype.first=ce.prototype.head,Ho&&(ce.prototype[Ho]=function Uf(){return this}),ce}();ps._=su,(w=function(){return su}.call(be,L,be,He))!==M&&(He.exports=w)}.call(this)},1135:(He,be,L)=>{"use strict";L.d(be,{X:()=>M});var w=L(7579);class M extends w.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const me=super._subscribe(pe);return!me.closed&&pe.next(this._value),me}getValue(){const{hasError:pe,thrownError:me,_value:Me}=this;if(pe)throw me;return this._throwIfClosed(),Me}next(pe){super.next(this._value=pe)}}},9751:(He,be,L)=>{"use strict";L.d(be,{y:()=>_e});var w=L(930),M=L(727),l=L(8822),pe=L(9635),me=L(2416),Me=L(576),Ie=L(2806);let _e=(()=>{class Ne{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const yt=new Ne;return yt.source=this,yt.operator=Ye,yt}subscribe(Ye,yt,lt){const Ze=function we(Ne){return Ne&&Ne instanceof w.Lv||function ge(Ne){return Ne&&(0,Me.m)(Ne.next)&&(0,Me.m)(Ne.error)&&(0,Me.m)(Ne.complete)}(Ne)&&(0,M.Nn)(Ne)}(Ye)?Ye:new w.Hp(Ye,yt,lt);return(0,Ie.x)(()=>{const{operator:ot,source:it}=this;Ze.add(ot?ot.call(Ze,it):it?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(yt){Ye.error(yt)}}forEach(Ye,yt){return new(yt=Ee(yt))((lt,Ze)=>{const ot=new w.Hp({next:it=>{try{Ye(it)}catch(wt){Ze(wt),ot.unsubscribe()}},error:Ze,complete:lt});this.subscribe(ot)})}_subscribe(Ye){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(Ye)}[l.L](){return this}pipe(...Ye){return(0,pe.U)(Ye)(this)}toPromise(Ye){return new(Ye=Ee(Ye))((yt,lt)=>{let Ze;this.subscribe(ot=>Ze=ot,ot=>lt(ot),()=>yt(Ze))})}}return Ne.create=at=>new Ne(at),Ne})();function Ee(Ne){var at;return null!==(at=Ne??me.v.Promise)&&void 0!==at?at:Promise}},4707:(He,be,L)=>{"use strict";L.d(be,{t:()=>l});var w=L(7579),M=L(6063);class l extends w.x{constructor(me=1/0,Me=1/0,Ie=M.l){super(),this._bufferSize=me,this._windowTime=Me,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Me===1/0,this._bufferSize=Math.max(1,me),this._windowTime=Math.max(1,Me)}next(me){const{isStopped:Me,_buffer:Ie,_infiniteTimeWindow:_e,_timestampProvider:Ee,_windowTime:ge}=this;Me||(Ie.push(me),!_e&&Ie.push(Ee.now()+ge)),this._trimBuffer(),super.next(me)}_subscribe(me){this._throwIfClosed(),this._trimBuffer();const Me=this._innerSubscribe(me),{_infiniteTimeWindow:Ie,_buffer:_e}=this,Ee=_e.slice();for(let ge=0;ge<Ee.length&&!me.closed;ge+=Ie?1:2)me.next(Ee[ge]);return this._checkFinalizedStatuses(me),Me}_trimBuffer(){const{_bufferSize:me,_timestampProvider:Me,_buffer:Ie,_infiniteTimeWindow:_e}=this,Ee=(_e?1:2)*me;if(me<1/0&&Ee<Ie.length&&Ie.splice(0,Ie.length-Ee),!_e){const ge=Me.now();let we=0;for(let Ne=1;Ne<Ie.length&&Ie[Ne]<=ge;Ne+=2)we=Ne;we&&Ie.splice(0,we+1)}}}},7579:(He,be,L)=>{"use strict";L.d(be,{x:()=>Ie});var w=L(9751),M=L(727);const pe=(0,L(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=L(8737),Me=L(2806);let Ie=(()=>{class Ee extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(we){const Ne=new _e(this,this);return Ne.operator=we,Ne}_throwIfClosed(){if(this.closed)throw new pe}next(we){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(we)}})}error(we){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=we;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(we)}})}complete(){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:we}=this;for(;we.length;)we.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var we;return(null===(we=this.observers)||void 0===we?void 0:we.length)>0}_trySubscribe(we){return this._throwIfClosed(),super._trySubscribe(we)}_subscribe(we){return this._throwIfClosed(),this._checkFinalizedStatuses(we),this._innerSubscribe(we)}_innerSubscribe(we){const{hasError:Ne,isStopped:at,observers:Ye}=this;return Ne||at?M.Lc:(this.currentObservers=null,Ye.push(we),new M.w0(()=>{this.currentObservers=null,(0,me.P)(Ye,we)}))}_checkFinalizedStatuses(we){const{hasError:Ne,thrownError:at,isStopped:Ye}=this;Ne?we.error(at):Ye&&we.complete()}asObservable(){const we=new w.y;return we.source=this,we}}return Ee.create=(ge,we)=>new _e(ge,we),Ee})();class _e extends Ie{constructor(ge,we){super(),this.destination=ge,this.source=we}next(ge){var we,Ne;null===(Ne=null===(we=this.destination)||void 0===we?void 0:we.next)||void 0===Ne||Ne.call(we,ge)}error(ge){var we,Ne;null===(Ne=null===(we=this.destination)||void 0===we?void 0:we.error)||void 0===Ne||Ne.call(we,ge)}complete(){var ge,we;null===(we=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===we||we.call(ge)}_subscribe(ge){var we,Ne;return null!==(Ne=null===(we=this.source)||void 0===we?void 0:we.subscribe(ge))&&void 0!==Ne?Ne:M.Lc}}},930:(He,be,L)=>{"use strict";L.d(be,{Hp:()=>lt,Lv:()=>Ne});var w=L(576),M=L(727),l=L(2416),pe=L(7849),me=L(5032);const Me=Ee("C",void 0,void 0);function Ee(ct,At,bt){return{kind:ct,value:At,error:bt}}var ge=L(3410),we=L(2806);class Ne extends M.w0{constructor(At){super(),this.isStopped=!1,At?(this.destination=At,(0,M.Nn)(At)&&At.add(this)):this.destination=wt}static create(At,bt,Bt){return new lt(At,bt,Bt)}next(At){this.isStopped?it(function _e(ct){return Ee("N",ct,void 0)}(At),this):this._next(At)}error(At){this.isStopped?it(function Ie(ct){return Ee("E",void 0,ct)}(At),this):(this.isStopped=!0,this._error(At))}complete(){this.isStopped?it(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(At){this.destination.next(At)}_error(At){try{this.destination.error(At)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function Ye(ct,At){return at.call(ct,At)}class yt{constructor(At){this.partialObserver=At}next(At){const{partialObserver:bt}=this;if(bt.next)try{bt.next(At)}catch(Bt){Ze(Bt)}}error(At){const{partialObserver:bt}=this;if(bt.error)try{bt.error(At)}catch(Bt){Ze(Bt)}else Ze(At)}complete(){const{partialObserver:At}=this;if(At.complete)try{At.complete()}catch(bt){Ze(bt)}}}class lt extends Ne{constructor(At,bt,Bt){let ze;if(super(),(0,w.m)(At)||!At)ze={next:At??void 0,error:bt??void 0,complete:Bt??void 0};else{let ht;this&&l.v.useDeprecatedNextContext?(ht=Object.create(At),ht.unsubscribe=()=>this.unsubscribe(),ze={next:At.next&&Ye(At.next,ht),error:At.error&&Ye(At.error,ht),complete:At.complete&&Ye(At.complete,ht)}):ze=At}this.destination=new yt(ze)}}function Ze(ct){l.v.useDeprecatedSynchronousErrorHandling?(0,we.O)(ct):(0,pe.h)(ct)}function it(ct,At){const{onStoppedNotification:bt}=l.v;bt&&ge.z.setTimeout(()=>bt(ct,At))}const wt={closed:!0,next:me.Z,error:function ot(ct){throw ct},complete:me.Z}},727:(He,be,L)=>{"use strict";L.d(be,{Lc:()=>Me,w0:()=>me,Nn:()=>Ie});var w=L(576);const l=(0,L(3888).d)(Ee=>function(we){Ee(this),this.message=we?`${we.length} errors occurred during unsubscription:\n${we.map((Ne,at)=>`${at+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=we});var pe=L(8737);class me{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:we}=this;if(we)if(this._parentage=null,Array.isArray(we))for(const Ye of we)Ye.remove(this);else we.remove(this);const{initialTeardown:Ne}=this;if((0,w.m)(Ne))try{Ne()}catch(Ye){ge=Ye instanceof l?Ye.errors:[Ye]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const Ye of at)try{_e(Ye)}catch(yt){ge=ge??[],yt instanceof l?ge=[...ge,...yt.errors]:ge.push(yt)}}if(ge)throw new l(ge)}}add(ge){var we;if(ge&&ge!==this)if(this.closed)_e(ge);else{if(ge instanceof me){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(we=this._finalizers)&&void 0!==we?we:[]).push(ge)}}_hasParent(ge){const{_parentage:we}=this;return we===ge||Array.isArray(we)&&we.includes(ge)}_addParent(ge){const{_parentage:we}=this;this._parentage=Array.isArray(we)?(we.push(ge),we):we?[we,ge]:ge}_removeParent(ge){const{_parentage:we}=this;we===ge?this._parentage=null:Array.isArray(we)&&(0,pe.P)(we,ge)}remove(ge){const{_finalizers:we}=this;we&&(0,pe.P)(we,ge),ge instanceof me&&ge._removeParent(this)}}me.EMPTY=(()=>{const Ee=new me;return Ee.closed=!0,Ee})();const Me=me.EMPTY;function Ie(Ee){return Ee instanceof me||Ee&&"closed"in Ee&&(0,w.m)(Ee.remove)&&(0,w.m)(Ee.add)&&(0,w.m)(Ee.unsubscribe)}function _e(Ee){(0,w.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(He,be,L)=>{"use strict";L.d(be,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(He,be,L)=>{"use strict";L.d(be,{c:()=>Me});var w=L(9751),M=L(727),l=L(8343),pe=L(5403),me=L(4482);class Me extends w.y{constructor(_e,Ee){super(),this.source=_e,this.subjectFactory=Ee,this._subject=null,this._refCount=0,this._connection=null,(0,me.A)(_e)&&(this.lift=_e.lift)}_subscribe(_e){return this.getSubject().subscribe(_e)}getSubject(){const _e=this._subject;return(!_e||_e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_e}=this;this._subject=this._connection=null,_e?.unsubscribe()}connect(){let _e=this._connection;if(!_e){_e=this._connection=new M.w0;const Ee=this.getSubject();_e.add(this.source.subscribe((0,pe.x)(Ee,void 0,()=>{this._teardown(),Ee.complete()},ge=>{this._teardown(),Ee.error(ge)},()=>this._teardown()))),_e.closed&&(this._connection=null,_e=M.w0.EMPTY)}return _e}refCount(){return(0,l.x)()(this)}}},9841:(He,be,L)=>{"use strict";L.d(be,{a:()=>ge});var w=L(9751),M=L(4742),l=L(8996),pe=L(4671),me=L(3268),Me=L(3269),Ie=L(1810),_e=L(5403),Ee=L(9672);function ge(...at){const Ye=(0,Me.yG)(at),yt=(0,Me.jO)(at),{args:lt,keys:Ze}=(0,M.D)(at);if(0===lt.length)return(0,l.D)([],Ye);const ot=new w.y(function we(at,Ye,yt=pe.y){return lt=>{Ne(Ye,()=>{const{length:Ze}=at,ot=new Array(Ze);let it=Ze,wt=Ze;for(let ct=0;ct<Ze;ct++)Ne(Ye,()=>{const At=(0,l.D)(at[ct],Ye);let bt=!1;At.subscribe((0,_e.x)(lt,Bt=>{ot[ct]=Bt,bt||(bt=!0,wt--),wt||lt.next(yt(ot.slice()))},()=>{--it||lt.complete()}))},lt)},lt)}}(lt,Ye,Ze?it=>(0,Ie.n)(Ze,it):pe.y));return yt?ot.pipe((0,me.Z)(yt)):ot}function Ne(at,Ye,yt){at?(0,Ee.f)(yt,at,Ye):Ye()}},7272:(He,be,L)=>{"use strict";L.d(be,{z:()=>me});var w=L(8189),l=L(3269),pe=L(8996);function me(...Me){return function M(){return(0,w.J)(1)}()((0,pe.D)(Me,(0,l.yG)(Me)))}},9770:(He,be,L)=>{"use strict";L.d(be,{P:()=>l});var w=L(9751),M=L(8421);function l(pe){return new w.y(me=>{(0,M.Xf)(pe()).subscribe(me)})}},515:(He,be,L)=>{"use strict";L.d(be,{E:()=>M});const M=new(L(9751).y)(me=>me.complete())},8996:(He,be,L)=>{"use strict";L.d(be,{D:()=>At});var w=L(8421),M=L(5363),l=L(9468),Me=L(9751),_e=L(2202),Ee=L(576),ge=L(9672);function Ne(bt,Bt){if(!bt)throw new Error("Iterable cannot be null");return new Me.y(ze=>{(0,ge.f)(ze,Bt,()=>{const ht=bt[Symbol.asyncIterator]();(0,ge.f)(ze,Bt,()=>{ht.next().then(Ft=>{Ft.done?ze.complete():ze.next(Ft.value)})},0,!0)})})}var at=L(3670),Ye=L(8239),yt=L(1144),lt=L(6495),Ze=L(2206),ot=L(4532),it=L(3260);function At(bt,Bt){return Bt?function ct(bt,Bt){if(null!=bt){if((0,at.c)(bt))return function pe(bt,Bt){return(0,w.Xf)(bt).pipe((0,l.R)(Bt),(0,M.Q)(Bt))}(bt,Bt);if((0,yt.z)(bt))return function Ie(bt,Bt){return new Me.y(ze=>{let ht=0;return Bt.schedule(function(){ht===bt.length?ze.complete():(ze.next(bt[ht++]),ze.closed||this.schedule())})})}(bt,Bt);if((0,Ye.t)(bt))return function me(bt,Bt){return(0,w.Xf)(bt).pipe((0,l.R)(Bt),(0,M.Q)(Bt))}(bt,Bt);if((0,Ze.D)(bt))return Ne(bt,Bt);if((0,lt.T)(bt))return function we(bt,Bt){return new Me.y(ze=>{let ht;return(0,ge.f)(ze,Bt,()=>{ht=bt[_e.h](),(0,ge.f)(ze,Bt,()=>{let Ft,Qt;try{({value:Ft,done:Qt}=ht.next())}catch(jt){return void ze.error(jt)}Qt?ze.complete():ze.next(Ft)},0,!0)}),()=>(0,Ee.m)(ht?.return)&&ht.return()})}(bt,Bt);if((0,it.L)(bt))return function wt(bt,Bt){return Ne((0,it.Q)(bt),Bt)}(bt,Bt)}throw(0,ot.z)(bt)}(bt,Bt):(0,w.Xf)(bt)}},8421:(He,be,L)=>{"use strict";L.d(be,{Xf:()=>at});var w=L(655),M=L(1144),l=L(8239),pe=L(9751),me=L(3670),Me=L(2206),Ie=L(4532),_e=L(6495),Ee=L(3260),ge=L(576),we=L(7849),Ne=L(8822);function at(ct){if(ct instanceof pe.y)return ct;if(null!=ct){if((0,me.c)(ct))return function Ye(ct){return new pe.y(At=>{const bt=ct[Ne.L]();if((0,ge.m)(bt.subscribe))return bt.subscribe(At);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ct);if((0,M.z)(ct))return function yt(ct){return new pe.y(At=>{for(let bt=0;bt<ct.length&&!At.closed;bt++)At.next(ct[bt]);At.complete()})}(ct);if((0,l.t)(ct))return function lt(ct){return new pe.y(At=>{ct.then(bt=>{At.closed||(At.next(bt),At.complete())},bt=>At.error(bt)).then(null,we.h)})}(ct);if((0,Me.D)(ct))return ot(ct);if((0,_e.T)(ct))return function Ze(ct){return new pe.y(At=>{for(const bt of ct)if(At.next(bt),At.closed)return;At.complete()})}(ct);if((0,Ee.L)(ct))return function it(ct){return ot((0,Ee.Q)(ct))}(ct)}throw(0,Ie.z)(ct)}function ot(ct){return new pe.y(At=>{(function wt(ct,At){var bt,Bt,ze,ht;return(0,w.mG)(this,void 0,void 0,function*(){try{for(bt=(0,w.KL)(ct);!(Bt=yield bt.next()).done;)if(At.next(Bt.value),At.closed)return}catch(Ft){ze={error:Ft}}finally{try{Bt&&!Bt.done&&(ht=bt.return)&&(yield ht.call(bt))}finally{if(ze)throw ze.error}}At.complete()})})(ct,At).catch(bt=>At.error(bt))})}},6451:(He,be,L)=>{"use strict";L.d(be,{T:()=>Me});var w=L(8189),M=L(8421),l=L(515),pe=L(3269),me=L(8996);function Me(...Ie){const _e=(0,pe.yG)(Ie),Ee=(0,pe._6)(Ie,1/0),ge=Ie;return ge.length?1===ge.length?(0,M.Xf)(ge[0]):(0,w.J)(Ee)((0,me.D)(ge,_e)):l.E}},9646:(He,be,L)=>{"use strict";L.d(be,{of:()=>l});var w=L(3269),M=L(8996);function l(...pe){const me=(0,w.yG)(pe);return(0,M.D)(pe,me)}},2843:(He,be,L)=>{"use strict";L.d(be,{_:()=>l});var w=L(9751),M=L(576);function l(pe,me){const Me=(0,M.m)(pe)?pe:()=>pe,Ie=_e=>_e.error(Me());return new w.y(me?_e=>me.schedule(Ie,0,_e):Ie)}},5403:(He,be,L)=>{"use strict";L.d(be,{Q:()=>l,x:()=>M});var w=L(930);function M(pe,me,Me,Ie,_e){return new l(pe,me,Me,Ie,_e)}class l extends w.Lv{constructor(me,Me,Ie,_e,Ee,ge){super(me),this.onFinalize=Ee,this.shouldUnsubscribe=ge,this._next=Me?function(we){try{Me(we)}catch(Ne){me.error(Ne)}}:super._next,this._error=_e?function(we){try{_e(we)}catch(Ne){me.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(we){me.error(we)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Me}=this;super.unsubscribe(),!Me&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},262:(He,be,L)=>{"use strict";L.d(be,{K:()=>pe});var w=L(8421),M=L(5403),l=L(4482);function pe(me){return(0,l.e)((Me,Ie)=>{let ge,_e=null,Ee=!1;_e=Me.subscribe((0,M.x)(Ie,void 0,void 0,we=>{ge=(0,w.Xf)(me(we,pe(me)(Me))),_e?(_e.unsubscribe(),_e=null,ge.subscribe(Ie)):Ee=!0})),Ee&&(_e.unsubscribe(),_e=null,ge.subscribe(Ie))})}},4351:(He,be,L)=>{"use strict";L.d(be,{b:()=>l});var w=L(5577),M=L(576);function l(pe,me){return(0,M.m)(me)?(0,w.z)(pe,me,1):(0,w.z)(pe,1)}},8372:(He,be,L)=>{"use strict";L.d(be,{b:()=>pe});var w=L(4986),M=L(4482),l=L(5403);function pe(me,Me=w.z){return(0,M.e)((Ie,_e)=>{let Ee=null,ge=null,we=null;const Ne=()=>{if(Ee){Ee.unsubscribe(),Ee=null;const Ye=ge;ge=null,_e.next(Ye)}};function at(){const Ye=we+me,yt=Me.now();if(yt<Ye)return Ee=this.schedule(void 0,Ye-yt),void _e.add(Ee);Ne()}Ie.subscribe((0,l.x)(_e,Ye=>{ge=Ye,we=Me.now(),Ee||(Ee=Me.schedule(at,me),_e.add(Ee))},()=>{Ne(),_e.complete()},void 0,()=>{ge=Ee=null}))})}},6590:(He,be,L)=>{"use strict";L.d(be,{d:()=>l});var w=L(4482),M=L(5403);function l(pe){return(0,w.e)((me,Me)=>{let Ie=!1;me.subscribe((0,M.x)(Me,_e=>{Ie=!0,Me.next(_e)},()=>{Ie||Me.next(pe),Me.complete()}))})}},1884:(He,be,L)=>{"use strict";L.d(be,{x:()=>pe});var w=L(4671),M=L(4482),l=L(5403);function pe(Me,Ie=w.y){return Me=Me??me,(0,M.e)((_e,Ee)=>{let ge,we=!0;_e.subscribe((0,l.x)(Ee,Ne=>{const at=Ie(Ne);(we||!Me(ge,at))&&(we=!1,ge=at,Ee.next(Ne))}))})}function me(Me,Ie){return Me===Ie}},9300:(He,be,L)=>{"use strict";L.d(be,{h:()=>l});var w=L(4482),M=L(5403);function l(pe,me){return(0,w.e)((Me,Ie)=>{let _e=0;Me.subscribe((0,M.x)(Ie,Ee=>pe.call(me,Ee,_e++)&&Ie.next(Ee)))})}},8746:(He,be,L)=>{"use strict";L.d(be,{x:()=>M});var w=L(4482);function M(l){return(0,w.e)((pe,me)=>{try{pe.subscribe(me)}finally{me.add(l)}})}},590:(He,be,L)=>{"use strict";L.d(be,{P:()=>Ie});var w=L(6805),M=L(9300),l=L(5698),pe=L(6590),me=L(8068),Me=L(4671);function Ie(_e,Ee){const ge=arguments.length>=2;return we=>we.pipe(_e?(0,M.h)((Ne,at)=>_e(Ne,at,we)):Me.y,(0,l.q)(1),ge?(0,pe.d)(Ee):(0,me.T)(()=>new w.K))}},4004:(He,be,L)=>{"use strict";L.d(be,{U:()=>l});var w=L(4482),M=L(5403);function l(pe,me){return(0,w.e)((Me,Ie)=>{let _e=0;Me.subscribe((0,M.x)(Ie,Ee=>{Ie.next(pe.call(me,Ee,_e++))}))})}},9718:(He,be,L)=>{"use strict";L.d(be,{h:()=>M});var w=L(4004);function M(l){return(0,w.U)(()=>l)}},8189:(He,be,L)=>{"use strict";L.d(be,{J:()=>l});var w=L(5577),M=L(4671);function l(pe=1/0){return(0,w.z)(M.y,pe)}},5577:(He,be,L)=>{"use strict";L.d(be,{z:()=>_e});var w=L(4004),M=L(8421),l=L(4482),pe=L(9672),me=L(5403),Ie=L(576);function _e(Ee,ge,we=1/0){return(0,Ie.m)(ge)?_e((Ne,at)=>(0,w.U)((Ye,yt)=>ge(Ne,Ye,at,yt))((0,M.Xf)(Ee(Ne,at))),we):("number"==typeof ge&&(we=ge),(0,l.e)((Ne,at)=>function Me(Ee,ge,we,Ne,at,Ye,yt,lt){const Ze=[];let ot=0,it=0,wt=!1;const ct=()=>{wt&&!Ze.length&&!ot&&ge.complete()},At=Bt=>ot<Ne?bt(Bt):Ze.push(Bt),bt=Bt=>{Ye&&ge.next(Bt),ot++;let ze=!1;(0,M.Xf)(we(Bt,it++)).subscribe((0,me.x)(ge,ht=>{at?.(ht),Ye?At(ht):ge.next(ht)},()=>{ze=!0},void 0,()=>{if(ze)try{for(ot--;Ze.length&&ot<Ne;){const ht=Ze.shift();yt?(0,pe.f)(ge,yt,()=>bt(ht)):bt(ht)}ct()}catch(ht){ge.error(ht)}}))};return Ee.subscribe((0,me.x)(ge,At,()=>{wt=!0,ct()})),()=>{lt?.()}}(Ne,at,Ee,we)))}},5363:(He,be,L)=>{"use strict";L.d(be,{Q:()=>pe});var w=L(9672),M=L(4482),l=L(5403);function pe(me,Me=0){return(0,M.e)((Ie,_e)=>{Ie.subscribe((0,l.x)(_e,Ee=>(0,w.f)(_e,me,()=>_e.next(Ee),Me),()=>(0,w.f)(_e,me,()=>_e.complete(),Me),Ee=>(0,w.f)(_e,me,()=>_e.error(Ee),Me)))})}},8343:(He,be,L)=>{"use strict";L.d(be,{x:()=>l});var w=L(4482),M=L(5403);function l(){return(0,w.e)((pe,me)=>{let Me=null;pe._refCount++;const Ie=(0,M.x)(me,void 0,void 0,void 0,()=>{if(!pe||pe._refCount<=0||0<--pe._refCount)return void(Me=null);const _e=pe._connection,Ee=Me;Me=null,_e&&(!Ee||_e===Ee)&&_e.unsubscribe(),me.unsubscribe()});pe.subscribe(Ie),Ie.closed||(Me=pe.connect())})}},5026:(He,be,L)=>{"use strict";L.d(be,{R:()=>pe});var w=L(4482),M=L(5403);function l(me,Me,Ie,_e,Ee){return(ge,we)=>{let Ne=Ie,at=Me,Ye=0;ge.subscribe((0,M.x)(we,yt=>{const lt=Ye++;at=Ne?me(at,yt,lt):(Ne=!0,yt),_e&&we.next(at)},Ee&&(()=>{Ne&&we.next(at),we.complete()})))}}function pe(me,Me){return(0,w.e)(l(me,Me,arguments.length>=2,!0))}},3099:(He,be,L)=>{"use strict";L.d(be,{B:()=>me});var w=L(8421),M=L(7579),l=L(930),pe=L(4482);function me(Ie={}){const{connector:_e=(()=>new M.x),resetOnError:Ee=!0,resetOnComplete:ge=!0,resetOnRefCountZero:we=!0}=Ie;return Ne=>{let at,Ye,yt,lt=0,Ze=!1,ot=!1;const it=()=>{Ye?.unsubscribe(),Ye=void 0},wt=()=>{it(),at=yt=void 0,Ze=ot=!1},ct=()=>{const At=at;wt(),At?.unsubscribe()};return(0,pe.e)((At,bt)=>{lt++,!ot&&!Ze&&it();const Bt=yt=yt??_e();bt.add(()=>{lt--,0===lt&&!ot&&!Ze&&(Ye=Me(ct,we))}),Bt.subscribe(bt),!at&&lt>0&&(at=new l.Hp({next:ze=>Bt.next(ze),error:ze=>{ot=!0,it(),Ye=Me(wt,Ee,ze),Bt.error(ze)},complete:()=>{Ze=!0,it(),Ye=Me(wt,ge),Bt.complete()}}),(0,w.Xf)(At).subscribe(at))})(Ne)}}function Me(Ie,_e,...Ee){if(!0===_e)return void Ie();if(!1===_e)return;const ge=new l.Hp({next:()=>{ge.unsubscribe(),Ie()}});return _e(...Ee).subscribe(ge)}},5684:(He,be,L)=>{"use strict";L.d(be,{T:()=>M});var w=L(9300);function M(l){return(0,w.h)((pe,me)=>l<=me)}},8675:(He,be,L)=>{"use strict";L.d(be,{O:()=>pe});var w=L(7272),M=L(3269),l=L(4482);function pe(...me){const Me=(0,M.yG)(me);return(0,l.e)((Ie,_e)=>{(Me?(0,w.z)(me,Ie,Me):(0,w.z)(me,Ie)).subscribe(_e)})}},9468:(He,be,L)=>{"use strict";L.d(be,{R:()=>M});var w=L(4482);function M(l,pe=0){return(0,w.e)((me,Me)=>{Me.add(l.schedule(()=>me.subscribe(Me),pe))})}},3900:(He,be,L)=>{"use strict";L.d(be,{w:()=>pe});var w=L(8421),M=L(4482),l=L(5403);function pe(me,Me){return(0,M.e)((Ie,_e)=>{let Ee=null,ge=0,we=!1;const Ne=()=>we&&!Ee&&_e.complete();Ie.subscribe((0,l.x)(_e,at=>{Ee?.unsubscribe();let Ye=0;const yt=ge++;(0,w.Xf)(me(at,yt)).subscribe(Ee=(0,l.x)(_e,lt=>_e.next(Me?Me(at,lt,yt,Ye++):lt),()=>{Ee=null,Ne()}))},()=>{we=!0,Ne()}))})}},5698:(He,be,L)=>{"use strict";L.d(be,{q:()=>pe});var w=L(515),M=L(4482),l=L(5403);function pe(me){return me<=0?()=>w.E:(0,M.e)((Me,Ie)=>{let _e=0;Me.subscribe((0,l.x)(Ie,Ee=>{++_e<=me&&(Ie.next(Ee),me<=_e&&Ie.complete())}))})}},2722:(He,be,L)=>{"use strict";L.d(be,{R:()=>me});var w=L(4482),M=L(5403),l=L(8421),pe=L(5032);function me(Me){return(0,w.e)((Ie,_e)=>{(0,l.Xf)(Me).subscribe((0,M.x)(_e,()=>_e.complete(),pe.Z)),!_e.closed&&Ie.subscribe(_e)})}},8505:(He,be,L)=>{"use strict";L.d(be,{b:()=>me});var w=L(576),M=L(4482),l=L(5403),pe=L(4671);function me(Me,Ie,_e){const Ee=(0,w.m)(Me)||Ie||_e?{next:Me,error:Ie,complete:_e}:Me;return Ee?(0,M.e)((ge,we)=>{var Ne;null===(Ne=Ee.subscribe)||void 0===Ne||Ne.call(Ee);let at=!0;ge.subscribe((0,l.x)(we,Ye=>{var yt;null===(yt=Ee.next)||void 0===yt||yt.call(Ee,Ye),we.next(Ye)},()=>{var Ye;at=!1,null===(Ye=Ee.complete)||void 0===Ye||Ye.call(Ee),we.complete()},Ye=>{var yt;at=!1,null===(yt=Ee.error)||void 0===yt||yt.call(Ee,Ye),we.error(Ye)},()=>{var Ye,yt;at&&(null===(Ye=Ee.unsubscribe)||void 0===Ye||Ye.call(Ee)),null===(yt=Ee.finalize)||void 0===yt||yt.call(Ee)}))}):pe.y}},8068:(He,be,L)=>{"use strict";L.d(be,{T:()=>pe});var w=L(6805),M=L(4482),l=L(5403);function pe(Me=me){return(0,M.e)((Ie,_e)=>{let Ee=!1;Ie.subscribe((0,l.x)(_e,ge=>{Ee=!0,_e.next(ge)},()=>Ee?_e.complete():_e.error(Me())))})}function me(){return new w.K}},7414:(He,be,L)=>{"use strict";L.d(be,{V:()=>Ee});var w=L(4986),M=L(1165),l=L(4482),pe=L(8421),me=L(3888),Me=L(5403),Ie=L(9672);const _e=(0,me.d)(we=>function(at=null){we(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=at});function Ee(we,Ne){const{first:at,each:Ye,with:yt=ge,scheduler:lt=Ne??w.z,meta:Ze=null}=(0,M.q)(we)?{first:we}:"number"==typeof we?{each:we}:we;if(null==at&&null==Ye)throw new TypeError("No timeout provided.");return(0,l.e)((ot,it)=>{let wt,ct,At=null,bt=0;const Bt=ze=>{ct=(0,Ie.f)(it,lt,()=>{try{wt.unsubscribe(),(0,pe.Xf)(yt({meta:Ze,lastValue:At,seen:bt})).subscribe(it)}catch(ht){it.error(ht)}},ze)};wt=ot.subscribe((0,Me.x)(it,ze=>{ct?.unsubscribe(),bt++,it.next(At=ze),Ye>0&&Bt(Ye)},void 0,void 0,()=>{ct?.closed||ct?.unsubscribe(),At=null})),!bt&&Bt(null!=at?"number"==typeof at?at:+at-lt.now():Ye)})}function ge(we){throw new _e(we)}},1365:(He,be,L)=>{"use strict";L.d(be,{M:()=>Ie});var w=L(4482),M=L(5403),l=L(8421),pe=L(4671),me=L(5032),Me=L(3269);function Ie(..._e){const Ee=(0,Me.jO)(_e);return(0,w.e)((ge,we)=>{const Ne=_e.length,at=new Array(Ne);let Ye=_e.map(()=>!1),yt=!1;for(let lt=0;lt<Ne;lt++)(0,l.Xf)(_e[lt]).subscribe((0,M.x)(we,Ze=>{at[lt]=Ze,!yt&&!Ye[lt]&&(Ye[lt]=!0,(yt=Ye.every(pe.y))&&(Ye=null))},me.Z));ge.subscribe((0,M.x)(we,lt=>{if(yt){const Ze=[lt,...at];we.next(Ee?Ee(...Ze):Ze)}}))})}},4408:(He,be,L)=>{"use strict";L.d(be,{o:()=>me});var w=L(727);class M extends w.w0{constructor(Ie,_e){super()}schedule(Ie,_e=0){return this}}const l={setInterval(Me,Ie,..._e){const{delegate:Ee}=l;return Ee?.setInterval?Ee.setInterval(Me,Ie,..._e):setInterval(Me,Ie,..._e)},clearInterval(Me){const{delegate:Ie}=l;return(Ie?.clearInterval||clearInterval)(Me)},delegate:void 0};var pe=L(8737);class me extends M{constructor(Ie,_e){super(Ie,_e),this.scheduler=Ie,this.work=_e,this.pending=!1}schedule(Ie,_e=0){var Ee;if(this.closed)return this;this.state=Ie;const ge=this.id,we=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(we,ge,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(we,this.id,_e),this}requestAsyncId(Ie,_e,Ee=0){return l.setInterval(Ie.flush.bind(Ie,this),Ee)}recycleAsyncId(Ie,_e,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return _e;null!=_e&&l.clearInterval(_e)}execute(Ie,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Ie,_e);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,_e){let ge,Ee=!1;try{this.work(Ie)}catch(we){Ee=!0,ge=we||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),ge}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:_e}=this,{actions:Ee}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Ee,this),null!=Ie&&(this.id=this.recycleAsyncId(_e,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(He,be,L)=>{"use strict";L.d(be,{v:()=>l});var w=L(6063);class M{constructor(me,Me=M.now){this.schedulerActionCtor=me,this.now=Me}schedule(me,Me=0,Ie){return new this.schedulerActionCtor(this,me).schedule(Ie,Me)}}M.now=w.l.now;class l extends M{constructor(me,Me=M.now){super(me,Me),this.actions=[],this._active=!1}flush(me){const{actions:Me}=this;if(this._active)return void Me.push(me);let Ie;this._active=!0;do{if(Ie=me.execute(me.state,me.delay))break}while(me=Me.shift());if(this._active=!1,Ie){for(;me=Me.shift();)me.unsubscribe();throw Ie}}}},4986:(He,be,L)=>{"use strict";L.d(be,{P:()=>pe,z:()=>l});var w=L(4408);const l=new(L(7565).v)(w.o),pe=l},6063:(He,be,L)=>{"use strict";L.d(be,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},233:(He,be,L)=>{"use strict";L.d(be,{N:()=>me});var w=L(4408),l=L(7565);const me=new class pe extends l.v{}(class M extends w.o{constructor(_e,Ee){super(_e,Ee),this.scheduler=_e,this.work=Ee}schedule(_e,Ee=0){return Ee>0?super.schedule(_e,Ee):(this.delay=Ee,this.state=_e,this.scheduler.flush(this),this)}execute(_e,Ee){return Ee>0||this.closed?super.execute(_e,Ee):this._execute(_e,Ee)}requestAsyncId(_e,Ee,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(_e,Ee,ge):(_e.flush(this),0)}})},3410:(He,be,L)=>{"use strict";L.d(be,{z:()=>w});const w={setTimeout(M,l,...pe){const{delegate:me}=w;return me?.setTimeout?me.setTimeout(M,l,...pe):setTimeout(M,l,...pe)},clearTimeout(M){const{delegate:l}=w;return(l?.clearTimeout||clearTimeout)(M)},delegate:void 0}},2202:(He,be,L)=>{"use strict";L.d(be,{h:()=>M});const M=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(He,be,L)=>{"use strict";L.d(be,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(He,be,L)=>{"use strict";L.d(be,{K:()=>M});const M=(0,L(3888).d)(l=>function(){l(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(He,be,L)=>{"use strict";L.d(be,{_6:()=>Me,jO:()=>pe,yG:()=>me});var w=L(576),M=L(3532);function l(Ie){return Ie[Ie.length-1]}function pe(Ie){return(0,w.m)(l(Ie))?Ie.pop():void 0}function me(Ie){return(0,M.K)(l(Ie))?Ie.pop():void 0}function Me(Ie,_e){return"number"==typeof l(Ie)?Ie.pop():_e}},4742:(He,be,L)=>{"use strict";L.d(be,{D:()=>me});const{isArray:w}=Array,{getPrototypeOf:M,prototype:l,keys:pe}=Object;function me(Ie){if(1===Ie.length){const _e=Ie[0];if(w(_e))return{args:_e,keys:null};if(function Me(Ie){return Ie&&"object"==typeof Ie&&M(Ie)===l}(_e)){const Ee=pe(_e);return{args:Ee.map(ge=>_e[ge]),keys:Ee}}}return{args:Ie,keys:null}}},8737:(He,be,L)=>{"use strict";function w(M,l){if(M){const pe=M.indexOf(l);0<=pe&&M.splice(pe,1)}}L.d(be,{P:()=>w})},3888:(He,be,L)=>{"use strict";function w(M){const pe=M(me=>{Error.call(me),me.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}L.d(be,{d:()=>w})},1810:(He,be,L)=>{"use strict";function w(M,l){return M.reduce((pe,me,Me)=>(pe[me]=l[Me],pe),{})}L.d(be,{n:()=>w})},2806:(He,be,L)=>{"use strict";L.d(be,{O:()=>pe,x:()=>l});var w=L(2416);let M=null;function l(me){if(w.v.useDeprecatedSynchronousErrorHandling){const Me=!M;if(Me&&(M={errorThrown:!1,error:null}),me(),Me){const{errorThrown:Ie,error:_e}=M;if(M=null,Ie)throw _e}}else me()}function pe(me){w.v.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=me)}},9672:(He,be,L)=>{"use strict";function w(M,l,pe,me=0,Me=!1){const Ie=l.schedule(function(){pe(),Me?M.add(this.schedule(null,me)):this.unsubscribe()},me);if(M.add(Ie),!Me)return Ie}L.d(be,{f:()=>w})},4671:(He,be,L)=>{"use strict";function w(M){return M}L.d(be,{y:()=>w})},1144:(He,be,L)=>{"use strict";L.d(be,{z:()=>w});const w=M=>M&&"number"==typeof M.length&&"function"!=typeof M},2206:(He,be,L)=>{"use strict";L.d(be,{D:()=>M});var w=L(576);function M(l){return Symbol.asyncIterator&&(0,w.m)(l?.[Symbol.asyncIterator])}},1165:(He,be,L)=>{"use strict";function w(M){return M instanceof Date&&!isNaN(M)}L.d(be,{q:()=>w})},576:(He,be,L)=>{"use strict";function w(M){return"function"==typeof M}L.d(be,{m:()=>w})},3670:(He,be,L)=>{"use strict";L.d(be,{c:()=>l});var w=L(8822),M=L(576);function l(pe){return(0,M.m)(pe[w.L])}},6495:(He,be,L)=>{"use strict";L.d(be,{T:()=>l});var w=L(2202),M=L(576);function l(pe){return(0,M.m)(pe?.[w.h])}},8239:(He,be,L)=>{"use strict";L.d(be,{t:()=>M});var w=L(576);function M(l){return(0,w.m)(l?.then)}},3260:(He,be,L)=>{"use strict";L.d(be,{L:()=>pe,Q:()=>l});var w=L(655),M=L(576);function l(me){return(0,w.FC)(this,arguments,function*(){const Ie=me.getReader();try{for(;;){const{value:_e,done:Ee}=yield(0,w.qq)(Ie.read());if(Ee)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(_e)}}finally{Ie.releaseLock()}})}function pe(me){return(0,M.m)(me?.getReader)}},3532:(He,be,L)=>{"use strict";L.d(be,{K:()=>M});var w=L(576);function M(l){return l&&(0,w.m)(l.schedule)}},4482:(He,be,L)=>{"use strict";L.d(be,{A:()=>M,e:()=>l});var w=L(576);function M(pe){return(0,w.m)(pe?.lift)}function l(pe){return me=>{if(M(me))return me.lift(function(Me){try{return pe(Me,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(He,be,L)=>{"use strict";L.d(be,{Z:()=>pe});var w=L(4004);const{isArray:M}=Array;function pe(me){return(0,w.U)(Me=>function l(me,Me){return M(Me)?me(...Me):me(Me)}(me,Me))}},5032:(He,be,L)=>{"use strict";function w(){}L.d(be,{Z:()=>w})},9635:(He,be,L)=>{"use strict";L.d(be,{U:()=>l,z:()=>M});var w=L(4671);function M(...pe){return l(pe)}function l(pe){return 0===pe.length?w.y:1===pe.length?pe[0]:function(Me){return pe.reduce((Ie,_e)=>_e(Ie),Me)}}},7849:(He,be,L)=>{"use strict";L.d(be,{h:()=>l});var w=L(2416),M=L(3410);function l(pe){M.z.setTimeout(()=>{const{onUnhandledError:me}=w.v;if(!me)throw pe;me(pe)})}},4532:(He,be,L)=>{"use strict";function w(M){return new TypeError(`You provided ${null!==M&&"object"==typeof M?"an invalid object":`'${M}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(be,{z:()=>w})},655:(He,be,L)=>{"use strict";function pe(mt,st){var Dt={};for(var Lt in mt)Object.prototype.hasOwnProperty.call(mt,Lt)&&st.indexOf(Lt)<0&&(Dt[Lt]=mt[Lt]);if(null!=mt&&"function"==typeof Object.getOwnPropertySymbols){var Wt=0;for(Lt=Object.getOwnPropertySymbols(mt);Wt<Lt.length;Wt++)st.indexOf(Lt[Wt])<0&&Object.prototype.propertyIsEnumerable.call(mt,Lt[Wt])&&(Dt[Lt[Wt]]=mt[Lt[Wt]])}return Dt}function Ne(mt,st,Dt,Lt){return new(Dt||(Dt=Promise))(function(qt,En){function dn(Un){try{mn(Lt.next(Un))}catch(wn){En(wn)}}function An(Un){try{mn(Lt.throw(Un))}catch(wn){En(wn)}}function mn(Un){Un.done?qt(Un.value):function Wt(qt){return qt instanceof Dt?qt:new Dt(function(En){En(qt)})}(Un.value).then(dn,An)}mn((Lt=Lt.apply(mt,st||[])).next())})}function ct(mt){return this instanceof ct?(this.v=mt,this):new ct(mt)}function At(mt,st,Dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Wt,Lt=Dt.apply(mt,st||[]),qt=[];return Wt={},En("next"),En("throw"),En("return"),Wt[Symbol.asyncIterator]=function(){return this},Wt;function En(Pr){Lt[Pr]&&(Wt[Pr]=function(Br){return new Promise(function(yr,dr){qt.push([Pr,Br,yr,dr])>1||dn(Pr,Br)})})}function dn(Pr,Br){try{!function An(Pr){Pr.value instanceof ct?Promise.resolve(Pr.value.v).then(mn,Un):wn(qt[0][2],Pr)}(Lt[Pr](Br))}catch(yr){wn(qt[0][3],yr)}}function mn(Pr){dn("next",Pr)}function Un(Pr){dn("throw",Pr)}function wn(Pr,Br){Pr(Br),qt.shift(),qt.length&&dn(qt[0][0],qt[0][1])}}function Bt(mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt,st=mt[Symbol.asyncIterator];return st?st.call(mt):(mt=function lt(mt){var st="function"==typeof Symbol&&Symbol.iterator,Dt=st&&mt[st],Lt=0;if(Dt)return Dt.call(mt);if(mt&&"number"==typeof mt.length)return{next:function(){return mt&&Lt>=mt.length&&(mt=void 0),{value:mt&&mt[Lt++],done:!mt}}};throw new TypeError(st?"Object is not iterable.":"Symbol.iterator is not defined.")}(mt),Dt={},Lt("next"),Lt("throw"),Lt("return"),Dt[Symbol.asyncIterator]=function(){return this},Dt);function Lt(qt){Dt[qt]=mt[qt]&&function(En){return new Promise(function(dn,An){!function Wt(qt,En,dn,An){Promise.resolve(An).then(function(mn){qt({value:mn,done:dn})},En)}(dn,An,(En=mt[qt](En)).done,En.value)})}}}L.d(be,{FC:()=>At,KL:()=>Bt,_T:()=>pe,mG:()=>Ne,qq:()=>ct})},6895:(He,be,L)=>{"use strict";L.d(be,{Do:()=>it,EM:()=>Ea,HT:()=>pe,JF:()=>Gt,K0:()=>Me,Mn:()=>Lt,Mx:()=>xi,NF:()=>Wa,O5:()=>fr,Ov:()=>Nn,PM:()=>ru,S$:()=>lt,Tn:()=>jt,UT:()=>Wt,V_:()=>Ee,Ye:()=>wt,Zx:()=>el,ax:()=>Rs,b0:()=>ot,bD:()=>Mo,ez:()=>gu,mk:()=>hr,ol:()=>Dt,p6:()=>Fn,q:()=>l,sg:()=>Rs,tP:()=>Pt,uU:()=>ji,w_:()=>me,x:()=>Qt});var w=L(4650);let M=null;function l(){return M}function pe(U){M||(M=U)}class me{}const Me=new w.OlP("DocumentToken");let Ie=(()=>{class U{historyGo(H){throw new Error("Not implemented")}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275prov=w.Yz7({token:U,factory:function(){return function _e(){return(0,w.LFG)(ge)}()},providedIn:"platform"}),U})();const Ee=new w.OlP("Location Initialized");let ge=(()=>{class U extends Ie{constructor(H){super(),this._doc=H,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return l().getBaseHref(this._doc)}onPopState(H){const re=l().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",H,!1),()=>re.removeEventListener("popstate",H)}onHashChange(H){const re=l().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",H,!1),()=>re.removeEventListener("hashchange",H)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(H){this._location.pathname=H}pushState(H,re,Be){we()?this._history.pushState(H,re,Be):this._location.hash=Be}replaceState(H,re,Be){we()?this._history.replaceState(H,re,Be):this._location.hash=Be}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return U.\u0275fac=function(H){return new(H||U)(w.LFG(Me))},U.\u0275prov=w.Yz7({token:U,factory:function(){return function Ne(){return new ge((0,w.LFG)(Me))}()},providedIn:"platform"}),U})();function we(){return!!window.history.pushState}function at(U,ee){if(0==U.length)return ee;if(0==ee.length)return U;let H=0;return U.endsWith("/")&&H++,ee.startsWith("/")&&H++,2==H?U+ee.substring(1):1==H?U+ee:U+"/"+ee}function Ye(U){const ee=U.match(/#|\?|$/),H=ee&&ee.index||U.length;return U.slice(0,H-("/"===U[H-1]?1:0))+U.slice(H)}function yt(U){return U&&"?"!==U[0]?"?"+U:U}let lt=(()=>{class U{historyGo(H){throw new Error("Not implemented")}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275prov=w.Yz7({token:U,factory:function(){return(0,w.f3M)(ot)},providedIn:"root"}),U})();const Ze=new w.OlP("appBaseHref");let ot=(()=>{class U extends lt{constructor(H,re){super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=re??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return at(this._baseHref,H)}path(H=!1){const re=this._platformLocation.pathname+yt(this._platformLocation.search),Be=this._platformLocation.hash;return Be&&H?`${re}${Be}`:re}pushState(H,re,Be,xt){const zt=this.prepareExternalUrl(Be+yt(xt));this._platformLocation.pushState(H,re,zt)}replaceState(H,re,Be,xt){const zt=this.prepareExternalUrl(Be+yt(xt));this._platformLocation.replaceState(H,re,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return U.\u0275fac=function(H){return new(H||U)(w.LFG(Ie),w.LFG(Ze,8))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),it=(()=>{class U extends lt{constructor(H,re){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let re=this._platformLocation.hash;return null==re&&(re="#"),re.length>0?re.substring(1):re}prepareExternalUrl(H){const re=at(this._baseHref,H);return re.length>0?"#"+re:re}pushState(H,re,Be,xt){let zt=this.prepareExternalUrl(Be+yt(xt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(H,re,zt)}replaceState(H,re,Be,xt){let zt=this.prepareExternalUrl(Be+yt(xt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(H,re,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return U.\u0275fac=function(H){return new(H||U)(w.LFG(Ie),w.LFG(Ze,8))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})(),wt=(()=>{class U{constructor(H){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const re=this._locationStrategy.getBaseHref();this._basePath=function Bt(U){if(new RegExp("^(https?:)?//").test(U)){const[,H]=U.split(/\/\/[^\/]+/);return H}return U}(Ye(bt(re))),this._locationStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,re=""){return this.path()==this.normalize(H+yt(re))}normalize(H){return U.stripTrailingSlash(function At(U,ee){return U&&new RegExp(`^${U}([/;?#]|$)`).test(ee)?ee.substring(U.length):ee}(this._basePath,bt(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,re="",Be=null){this._locationStrategy.pushState(Be,"",H,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+yt(re)),Be)}replaceState(H,re="",Be=null){this._locationStrategy.replaceState(Be,"",H,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+yt(re)),Be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){this._locationStrategy.historyGo?.(H)}onUrlChange(H){return this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(re=>{this._notifyUrlChangeListeners(re.url,re.state)})),()=>{const re=this._urlChangeListeners.indexOf(H);this._urlChangeListeners.splice(re,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",re){this._urlChangeListeners.forEach(Be=>Be(H,re))}subscribe(H,re,Be){return this._subject.subscribe({next:H,error:re,complete:Be})}}return U.normalizeQueryParams=yt,U.joinWithSlash=at,U.stripTrailingSlash=Ye,U.\u0275fac=function(H){return new(H||U)(w.LFG(lt))},U.\u0275prov=w.Yz7({token:U,factory:function(){return function ct(){return new wt((0,w.LFG)(lt))}()},providedIn:"root"}),U})();function bt(U){return U.replace(/\/index.html$/,"")}var ht=(()=>((ht=ht||{})[ht.Decimal=0]="Decimal",ht[ht.Percent=1]="Percent",ht[ht.Currency=2]="Currency",ht[ht.Scientific=3]="Scientific",ht))(),Qt=(()=>((Qt=Qt||{})[Qt.Format=0]="Format",Qt[Qt.Standalone=1]="Standalone",Qt))(),jt=(()=>((jt=jt||{})[jt.Narrow=0]="Narrow",jt[jt.Abbreviated=1]="Abbreviated",jt[jt.Wide=2]="Wide",jt[jt.Short=3]="Short",jt))(),Jn=(()=>((Jn=Jn||{})[Jn.Short=0]="Short",Jn[Jn.Medium=1]="Medium",Jn[Jn.Long=2]="Long",Jn[Jn.Full=3]="Full",Jn))(),vn=(()=>((vn=vn||{})[vn.Decimal=0]="Decimal",vn[vn.Group=1]="Group",vn[vn.List=2]="List",vn[vn.PercentSign=3]="PercentSign",vn[vn.PlusSign=4]="PlusSign",vn[vn.MinusSign=5]="MinusSign",vn[vn.Exponential=6]="Exponential",vn[vn.SuperscriptingExponent=7]="SuperscriptingExponent",vn[vn.PerMille=8]="PerMille",vn[vn.Infinity=9]="Infinity",vn[vn.NaN=10]="NaN",vn[vn.TimeSeparator=11]="TimeSeparator",vn[vn.CurrencyDecimal=12]="CurrencyDecimal",vn[vn.CurrencyGroup=13]="CurrencyGroup",vn))();function Dt(U,ee,H){const re=(0,w.cg1)(U),xt=Xn([re[w.wAp.DayPeriodsFormat],re[w.wAp.DayPeriodsStandalone]],ee);return Xn(xt,H)}function Lt(U,ee,H){const re=(0,w.cg1)(U),xt=Xn([re[w.wAp.DaysFormat],re[w.wAp.DaysStandalone]],ee);return Xn(xt,H)}function Wt(U,ee,H){const re=(0,w.cg1)(U),xt=Xn([re[w.wAp.MonthsFormat],re[w.wAp.MonthsStandalone]],ee);return Xn(xt,H)}function An(U,ee){return Xn((0,w.cg1)(U)[w.wAp.DateFormat],ee)}function mn(U,ee){return Xn((0,w.cg1)(U)[w.wAp.TimeFormat],ee)}function Un(U,ee){return Xn((0,w.cg1)(U)[w.wAp.DateTimeFormat],ee)}function wn(U,ee){const H=(0,w.cg1)(U),re=H[w.wAp.NumberSymbols][ee];if(typeof re>"u"){if(ee===vn.CurrencyDecimal)return H[w.wAp.NumberSymbols][vn.Decimal];if(ee===vn.CurrencyGroup)return H[w.wAp.NumberSymbols][vn.Group]}return re}function Wr(U){if(!U[w.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[w.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xn(U,ee){for(let H=ee;H>-1;H--)if(typeof U[H]<"u")return U[H];throw new Error("Locale data API: locale data undefined")}function Yr(U){const[ee,H]=U.split(":");return{hours:+ee,minutes:+H}}const Ii=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ti={},qr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var St=(()=>((St=St||{})[St.Short=0]="Short",St[St.ShortGMT=1]="ShortGMT",St[St.Long=2]="Long",St[St.Extended=3]="Extended",St))(),kn=(()=>((kn=kn||{})[kn.FullYear=0]="FullYear",kn[kn.Month=1]="Month",kn[kn.Date=2]="Date",kn[kn.Hours=3]="Hours",kn[kn.Minutes=4]="Minutes",kn[kn.Seconds=5]="Seconds",kn[kn.FractionalSeconds=6]="FractionalSeconds",kn[kn.Day=7]="Day",kn))(),pn=(()=>((pn=pn||{})[pn.DayPeriods=0]="DayPeriods",pn[pn.Days=1]="Days",pn[pn.Months=2]="Months",pn[pn.Eras=3]="Eras",pn))();function Fn(U,ee,H,re){let Be=function Ae(U){if(Kt(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[Be,xt=1,zt=1]=U.split("-").map(Cn=>+Cn);return jn(Be,xt-1,zt)}const H=parseFloat(U);if(!isNaN(U-H))return new Date(H);let re;if(re=U.match(Ii))return function vt(U){const ee=new Date(0);let H=0,re=0;const Be=U[8]?ee.setUTCFullYear:ee.setFullYear,xt=U[8]?ee.setUTCHours:ee.setHours;U[9]&&(H=Number(U[9]+U[10]),re=Number(U[9]+U[11])),Be.call(ee,Number(U[1]),Number(U[2])-1,Number(U[3]));const zt=Number(U[4]||0)-H,Cn=Number(U[5]||0)-re,vi=Number(U[6]||0),hi=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return xt.call(ee,zt,Cn,vi,hi),ee}(re)}const ee=new Date(U);if(!Kt(ee))throw new Error(`Unable to convert "${U}" into a date`);return ee}(U);ee=zr(H,ee)||ee;let Cn,zt=[];for(;ee;){if(Cn=qr.exec(ee),!Cn){zt.push(ee);break}{zt=zt.concat(Cn.slice(1));const Ni=zt.pop();if(!Ni)break;ee=Ni}}let vi=Be.getTimezoneOffset();re&&(vi=je(re,vi),Be=function ue(U,ee,H){const re=H?-1:1,Be=U.getTimezoneOffset();return function Ce(U,ee){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+ee),U}(U,re*(je(ee,Be)-Be))}(Be,re,!0));let hi="";return zt.forEach(Ni=>{const ri=function Se(U){if(Ue[U])return Ue[U];let ee;switch(U){case"G":case"GG":case"GGG":ee=lr(pn.Eras,jt.Abbreviated);break;case"GGGG":ee=lr(pn.Eras,jt.Wide);break;case"GGGGG":ee=lr(pn.Eras,jt.Narrow);break;case"y":ee=mr(kn.FullYear,1,0,!1,!0);break;case"yy":ee=mr(kn.FullYear,2,0,!0,!0);break;case"yyy":ee=mr(kn.FullYear,3,0,!1,!0);break;case"yyyy":ee=mr(kn.FullYear,4,0,!1,!0);break;case"Y":ee=Ar(1);break;case"YY":ee=Ar(2,!0);break;case"YYY":ee=Ar(3);break;case"YYYY":ee=Ar(4);break;case"M":case"L":ee=mr(kn.Month,1,1);break;case"MM":case"LL":ee=mr(kn.Month,2,1);break;case"MMM":ee=lr(pn.Months,jt.Abbreviated);break;case"MMMM":ee=lr(pn.Months,jt.Wide);break;case"MMMMM":ee=lr(pn.Months,jt.Narrow);break;case"LLL":ee=lr(pn.Months,jt.Abbreviated,Qt.Standalone);break;case"LLLL":ee=lr(pn.Months,jt.Wide,Qt.Standalone);break;case"LLLLL":ee=lr(pn.Months,jt.Narrow,Qt.Standalone);break;case"w":ee=Zt(1);break;case"ww":ee=Zt(2);break;case"W":ee=Zt(1,!0);break;case"d":ee=mr(kn.Date,1);break;case"dd":ee=mr(kn.Date,2);break;case"c":case"cc":ee=mr(kn.Day,1);break;case"ccc":ee=lr(pn.Days,jt.Abbreviated,Qt.Standalone);break;case"cccc":ee=lr(pn.Days,jt.Wide,Qt.Standalone);break;case"ccccc":ee=lr(pn.Days,jt.Narrow,Qt.Standalone);break;case"cccccc":ee=lr(pn.Days,jt.Short,Qt.Standalone);break;case"E":case"EE":case"EEE":ee=lr(pn.Days,jt.Abbreviated);break;case"EEEE":ee=lr(pn.Days,jt.Wide);break;case"EEEEE":ee=lr(pn.Days,jt.Narrow);break;case"EEEEEE":ee=lr(pn.Days,jt.Short);break;case"a":case"aa":case"aaa":ee=lr(pn.DayPeriods,jt.Abbreviated);break;case"aaaa":ee=lr(pn.DayPeriods,jt.Wide);break;case"aaaaa":ee=lr(pn.DayPeriods,jt.Narrow);break;case"b":case"bb":case"bbb":ee=lr(pn.DayPeriods,jt.Abbreviated,Qt.Standalone,!0);break;case"bbbb":ee=lr(pn.DayPeriods,jt.Wide,Qt.Standalone,!0);break;case"bbbbb":ee=lr(pn.DayPeriods,jt.Narrow,Qt.Standalone,!0);break;case"B":case"BB":case"BBB":ee=lr(pn.DayPeriods,jt.Abbreviated,Qt.Format,!0);break;case"BBBB":ee=lr(pn.DayPeriods,jt.Wide,Qt.Format,!0);break;case"BBBBB":ee=lr(pn.DayPeriods,jt.Narrow,Qt.Format,!0);break;case"h":ee=mr(kn.Hours,1,-12);break;case"hh":ee=mr(kn.Hours,2,-12);break;case"H":ee=mr(kn.Hours,1);break;case"HH":ee=mr(kn.Hours,2);break;case"m":ee=mr(kn.Minutes,1);break;case"mm":ee=mr(kn.Minutes,2);break;case"s":ee=mr(kn.Seconds,1);break;case"ss":ee=mr(kn.Seconds,2);break;case"S":ee=mr(kn.FractionalSeconds,1);break;case"SS":ee=mr(kn.FractionalSeconds,2);break;case"SSS":ee=mr(kn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=gi(St.Short);break;case"ZZZZZ":ee=gi(St.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=gi(St.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=gi(St.Long);break;default:return null}return Ue[U]=ee,ee}(Ni);hi+=ri?ri(Be,H,vi):"''"===Ni?"'":Ni.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),hi}function jn(U,ee,H){const re=new Date(0);return re.setFullYear(U,ee,H),re.setHours(0,0,0),re}function zr(U,ee){const H=function st(U){return(0,w.cg1)(U)[w.wAp.LocaleId]}(U);if(ti[H]=ti[H]||{},ti[H][ee])return ti[H][ee];let re="";switch(ee){case"shortDate":re=An(U,Jn.Short);break;case"mediumDate":re=An(U,Jn.Medium);break;case"longDate":re=An(U,Jn.Long);break;case"fullDate":re=An(U,Jn.Full);break;case"shortTime":re=mn(U,Jn.Short);break;case"mediumTime":re=mn(U,Jn.Medium);break;case"longTime":re=mn(U,Jn.Long);break;case"fullTime":re=mn(U,Jn.Full);break;case"short":const Be=zr(U,"shortTime"),xt=zr(U,"shortDate");re=Ji(Un(U,Jn.Short),[Be,xt]);break;case"medium":const zt=zr(U,"mediumTime"),Cn=zr(U,"mediumDate");re=Ji(Un(U,Jn.Medium),[zt,Cn]);break;case"long":const vi=zr(U,"longTime"),hi=zr(U,"longDate");re=Ji(Un(U,Jn.Long),[vi,hi]);break;case"full":const Ni=zr(U,"fullTime"),ri=zr(U,"fullDate");re=Ji(Un(U,Jn.Full),[Ni,ri])}return re&&(ti[H][ee]=re),re}function Ji(U,ee){return ee&&(U=U.replace(/\{([^}]+)}/g,function(H,re){return null!=ee&&re in ee?ee[re]:H})),U}function In(U,ee,H="-",re,Be){let xt="";(U<0||Be&&U<=0)&&(Be?U=1-U:(U=-U,xt=H));let zt=String(U);for(;zt.length<ee;)zt="0"+zt;return re&&(zt=zt.slice(zt.length-ee)),xt+zt}function mr(U,ee,H=0,re=!1,Be=!1){return function(xt,zt){let Cn=function hs(U,ee){switch(U){case kn.FullYear:return ee.getFullYear();case kn.Month:return ee.getMonth();case kn.Date:return ee.getDate();case kn.Hours:return ee.getHours();case kn.Minutes:return ee.getMinutes();case kn.Seconds:return ee.getSeconds();case kn.FractionalSeconds:return ee.getMilliseconds();case kn.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,xt);if((H>0||Cn>-H)&&(Cn+=H),U===kn.Hours)0===Cn&&-12===H&&(Cn=12);else if(U===kn.FractionalSeconds)return function ss(U,ee){return In(U,3).substring(0,ee)}(Cn,ee);const vi=wn(zt,vn.MinusSign);return In(Cn,ee,vi,re,Be)}}function lr(U,ee,H=Qt.Format,re=!1){return function(Be,xt){return function os(U,ee,H,re,Be,xt){switch(H){case pn.Months:return Wt(ee,Be,re)[U.getMonth()];case pn.Days:return Lt(ee,Be,re)[U.getDay()];case pn.DayPeriods:const zt=U.getHours(),Cn=U.getMinutes();if(xt){const hi=function br(U){const ee=(0,w.cg1)(U);return Wr(ee),(ee[w.wAp.ExtraData][2]||[]).map(re=>"string"==typeof re?Yr(re):[Yr(re[0]),Yr(re[1])])}(ee),Ni=function pi(U,ee,H){const re=(0,w.cg1)(U);Wr(re);const xt=Xn([re[w.wAp.ExtraData][0],re[w.wAp.ExtraData][1]],ee)||[];return Xn(xt,H)||[]}(ee,Be,re),ri=hi.findIndex(Zi=>{if(Array.isArray(Zi)){const[Oi,Qr]=Zi,Ho=zt>=Oi.hours&&Cn>=Oi.minutes,vs=zt<Qr.hours||zt===Qr.hours&&Cn<Qr.minutes;if(Oi.hours<Qr.hours){if(Ho&&vs)return!0}else if(Ho||vs)return!0}else if(Zi.hours===zt&&Zi.minutes===Cn)return!0;return!1});if(-1!==ri)return Ni[ri]}return Dt(ee,Be,re)[zt<12?0:1];case pn.Eras:return function qt(U,ee){return Xn((0,w.cg1)(U)[w.wAp.Eras],ee)}(ee,re)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${H}`)}}(Be,xt,U,ee,H,re)}}function gi(U){return function(ee,H,re){const Be=-1*re,xt=wn(H,vn.MinusSign),zt=Be>0?Math.floor(Be/60):Math.ceil(Be/60);switch(U){case St.Short:return(Be>=0?"+":"")+In(zt,2,xt)+In(Math.abs(Be%60),2,xt);case St.ShortGMT:return"GMT"+(Be>=0?"+":"")+In(zt,1,xt);case St.Long:return"GMT"+(Be>=0?"+":"")+In(zt,2,xt)+":"+In(Math.abs(Be%60),2,xt);case St.Extended:return 0===re?"Z":(Be>=0?"+":"")+In(zt,2,xt)+":"+In(Math.abs(Be%60),2,xt);default:throw new Error(`Unknown zone width "${U}"`)}}}function Wn(U){return jn(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function Zt(U,ee=!1){return function(H,re){let Be;if(ee){const xt=new Date(H.getFullYear(),H.getMonth(),1).getDay()-1,zt=H.getDate();Be=1+Math.floor((zt+xt)/7)}else{const xt=Wn(H),zt=function Tn(U){const ee=jn(U,0,1).getDay();return jn(U,0,1+(ee<=4?4:11)-ee)}(xt.getFullYear()),Cn=xt.getTime()-zt.getTime();Be=1+Math.round(Cn/6048e5)}return In(Be,U,wn(re,vn.MinusSign))}}function Ar(U,ee=!1){return function(H,re){return In(Wn(H).getFullYear(),U,wn(re,vn.MinusSign),ee)}}const Ue={};function je(U,ee){U=U.replace(/:/g,"");const H=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(H)?ee:H}function Kt(U){return U instanceof Date&&!isNaN(U.valueOf())}const Dn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function qs(U){const ee=parseInt(U);if(isNaN(ee))throw new Error("Invalid integer literal when parsing "+U);return ee}function xi(U,ee){ee=encodeURIComponent(ee);for(const H of U.split(";")){const re=H.indexOf("="),[Be,xt]=-1==re?[H,""]:[H.slice(0,re),H.slice(re+1)];if(Be.trim()===ee)return decodeURIComponent(xt)}return null}const ni=/\s+/,Pn=[];let hr=(()=>{class U{constructor(H,re,Be,xt){this._iterableDiffers=H,this._keyValueDiffers=re,this._ngEl=Be,this._renderer=xt,this.initialClasses=Pn,this.stateMap=new Map}set klass(H){this.initialClasses=null!=H?H.trim().split(ni):Pn}set ngClass(H){this.rawClass="string"==typeof H?H.trim().split(ni):H}ngDoCheck(){for(const re of this.initialClasses)this._updateState(re,!0);const H=this.rawClass;if(Array.isArray(H)||H instanceof Set)for(const re of H)this._updateState(re,!0);else if(null!=H)for(const re of Object.keys(H))this._updateState(re,Boolean(H[re]));this._applyStateDiff()}_updateState(H,re){const Be=this.stateMap.get(H);void 0!==Be?(Be.enabled!==re&&(Be.changed=!0,Be.enabled=re),Be.touched=!0):this.stateMap.set(H,{enabled:re,changed:!0,touched:!0})}_applyStateDiff(){for(const H of this.stateMap){const re=H[0],Be=H[1];Be.changed?(this._toggleClass(re,Be.enabled),Be.changed=!1):Be.touched||(Be.enabled&&this._toggleClass(re,!1),this.stateMap.delete(re)),Be.touched=!1}}_toggleClass(H,re){(H=H.trim()).length>0&&H.split(ni).forEach(Be=>{re?this._renderer.addClass(this._ngEl.nativeElement,Be):this._renderer.removeClass(this._ngEl.nativeElement,Be)})}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),U})();class hn{constructor(ee,H,re,Be){this.$implicit=ee,this.ngForOf=H,this.index=re,this.count=Be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rs=(()=>{class U{set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}constructor(H,re,Be){this._viewContainer=H,this._template=re,this._differs=Be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const re=this._viewContainer;H.forEachOperation((Be,xt,zt)=>{if(null==Be.previousIndex)re.createEmbeddedView(this._template,new hn(Be.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)re.remove(null===xt?void 0:xt);else if(null!==xt){const Cn=re.get(xt);re.move(Cn,zt),Er(Cn,Be)}});for(let Be=0,xt=re.length;Be<xt;Be++){const Cn=re.get(Be).context;Cn.index=Be,Cn.count=xt,Cn.ngForOf=this._ngForOf}H.forEachIdentityChange(Be=>{Er(re.get(Be.currentIndex),Be)})}static ngTemplateContextGuard(H,re){return!0}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),U})();function Er(U,ee){U.context.$implicit=ee.item}let fr=(()=>{class U{constructor(H,re){this._viewContainer=H,this._context=new tr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){xo("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){xo("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,re){return!0}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(w.s_b),w.Y36(w.Rgc))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),U})();class tr{constructor(){this.$implicit=null,this.ngIf=null}}function xo(U,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,w.AaK)(ee)}'.`)}let Pt=(()=>{class U{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(H){if(H.ngTemplateOutlet||H.ngTemplateOutletInjector){const re=this._viewContainerRef;if(this._viewRef&&re.remove(re.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Be,ngTemplateOutletContext:xt,ngTemplateOutletInjector:zt}=this;this._viewRef=re.createEmbeddedView(Be,xt,zt?{injector:zt}:void 0)}else this._viewRef=null}else this._viewRef&&H.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(w.s_b))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]}),U})();function Te(U,ee){return new w.vHH(2100,!1)}class Ke{createSubscription(ee,H){return ee.subscribe({next:H,error:re=>{throw re}})}dispose(ee){ee.unsubscribe()}}class Nt{createSubscription(ee,H){return ee.then(H,re=>{throw re})}dispose(ee){}}const rn=new Nt,On=new Ke;let Nn=(()=>{class U{constructor(H){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=H}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(H){return this._obj?H!==this._obj?(this._dispose(),this.transform(H)):this._latestValue:(H&&this._subscribe(H),this._latestValue)}_subscribe(H){this._obj=H,this._strategy=this._selectStrategy(H),this._subscription=this._strategy.createSubscription(H,re=>this._updateLatestValue(H,re))}_selectStrategy(H){if((0,w.QGY)(H))return rn;if((0,w.F4k)(H))return On;throw Te()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(H,re){H===this._obj&&(this._latestValue=re,this._ref.markForCheck())}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(w.sBO,16))},U.\u0275pipe=w.Yjl({name:"async",type:U,pure:!1,standalone:!0}),U})();const Pe=new w.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Bl=new w.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ji=(()=>{class U{constructor(H,re,Be){this.locale=H,this.defaultTimezone=re,this.defaultOptions=Be}transform(H,re,Be,xt){if(null==H||""===H||H!=H)return null;try{return Fn(H,re??this.defaultOptions?.dateFormat??"mediumDate",xt||this.locale,Be??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(zt){throw Te()}}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(w.soG,16),w.Y36(Pe,24),w.Y36(Bl,24))},U.\u0275pipe=w.Yjl({name:"date",type:U,pure:!0,standalone:!0}),U})(),el=(()=>{class U{constructor(H){this._locale=H}transform(H,re,Be){if(!function Ul(U){return!(null==U||""===U||U!=U)}(H))return null;Be=Be||this._locale;try{return function Ur(U,ee,H){return function si(U,ee,H,re,Be,xt,zt=!1){let Cn="",vi=!1;if(isFinite(U)){let hi=function bs(U){let re,Be,xt,zt,Cn,ee=Math.abs(U)+"",H=0;for((Be=ee.indexOf("."))>-1&&(ee=ee.replace(".","")),(xt=ee.search(/e/i))>0?(Be<0&&(Be=xt),Be+=+ee.slice(xt+1),ee=ee.substring(0,xt)):Be<0&&(Be=ee.length),xt=0;"0"===ee.charAt(xt);xt++);if(xt===(Cn=ee.length))re=[0],Be=1;else{for(Cn--;"0"===ee.charAt(Cn);)Cn--;for(Be-=xt,re=[],zt=0;xt<=Cn;xt++,zt++)re[zt]=Number(ee.charAt(xt))}return Be>22&&(re=re.splice(0,21),H=Be-1,Be=1),{digits:re,exponent:H,integerLen:Be}}(U);zt&&(hi=function oo(U){if(0===U.digits[0])return U;const ee=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===ee?U.digits.push(0,0):1===ee&&U.digits.push(0),U.integerLen+=2),U}(hi));let Ni=ee.minInt,ri=ee.minFrac,Zi=ee.maxFrac;if(xt){const xs=xt.match(Dn);if(null===xs)throw new Error(`${xt} is not a valid digit info`);const Pa=xs[1],il=xs[3],vu=xs[5];null!=Pa&&(Ni=qs(Pa)),null!=il&&(ri=qs(il)),null!=vu?Zi=qs(vu):null!=il&&ri>Zi&&(Zi=ri)}!function oi(U,ee,H){if(ee>H)throw new Error(`The minimum number of digits after fraction (${ee}) is higher than the maximum (${H}).`);let re=U.digits,Be=re.length-U.integerLen;const xt=Math.min(Math.max(ee,Be),H);let zt=xt+U.integerLen,Cn=re[zt];if(zt>0){re.splice(Math.max(U.integerLen,zt));for(let ri=zt;ri<re.length;ri++)re[ri]=0}else{Be=Math.max(0,Be),U.integerLen=1,re.length=Math.max(1,zt=xt+1),re[0]=0;for(let ri=1;ri<zt;ri++)re[ri]=0}if(Cn>=5)if(zt-1<0){for(let ri=0;ri>zt;ri--)re.unshift(0),U.integerLen++;re.unshift(1),U.integerLen++}else re[zt-1]++;for(;Be<Math.max(0,xt);Be++)re.push(0);let vi=0!==xt;const hi=ee+U.integerLen,Ni=re.reduceRight(function(ri,Zi,Oi,Qr){return Qr[Oi]=(Zi+=ri)<10?Zi:Zi-10,vi&&(0===Qr[Oi]&&Oi>=hi?Qr.pop():vi=!1),Zi>=10?1:0},0);Ni&&(re.unshift(Ni),U.integerLen++)}(hi,ri,Zi);let Oi=hi.digits,Qr=hi.integerLen;const Ho=hi.exponent;let vs=[];for(vi=Oi.every(xs=>!xs);Qr<Ni;Qr++)Oi.unshift(0);for(;Qr<0;Qr++)Oi.unshift(0);Qr>0?vs=Oi.splice(Qr,Oi.length):(vs=Oi,Oi=[0]);const to=[];for(Oi.length>=ee.lgSize&&to.unshift(Oi.splice(-ee.lgSize,Oi.length).join(""));Oi.length>ee.gSize;)to.unshift(Oi.splice(-ee.gSize,Oi.length).join(""));Oi.length&&to.unshift(Oi.join("")),Cn=to.join(wn(H,re)),vs.length&&(Cn+=wn(H,Be)+vs.join("")),Ho&&(Cn+=wn(H,vn.Exponential)+"+"+Ho)}else Cn=wn(H,vn.Infinity);return Cn=U<0&&!vi?ee.negPre+Cn+ee.negSuf:ee.posPre+Cn+ee.posSuf,Cn}(U,function Os(U,ee="-"){const H={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},re=U.split(";"),Be=re[0],xt=re[1],zt=-1!==Be.indexOf(".")?Be.split("."):[Be.substring(0,Be.lastIndexOf("0")+1),Be.substring(Be.lastIndexOf("0")+1)],Cn=zt[0],vi=zt[1]||"";H.posPre=Cn.substring(0,Cn.indexOf("#"));for(let Ni=0;Ni<vi.length;Ni++){const ri=vi.charAt(Ni);"0"===ri?H.minFrac=H.maxFrac=Ni+1:"#"===ri?H.maxFrac=Ni+1:H.posSuf+=ri}const hi=Cn.split(",");if(H.gSize=hi[1]?hi[1].length:0,H.lgSize=hi[2]||hi[1]?(hi[2]||hi[1]).length:0,xt){const Ni=Be.length-H.posPre.length-H.posSuf.length,ri=xt.indexOf("#");H.negPre=xt.substring(0,ri).replace(/'/g,""),H.negSuf=xt.slice(ri+Ni).replace(/'/g,"")}else H.negPre=ee+H.posPre,H.negSuf=H.posSuf;return H}(function Pr(U,ee){return(0,w.cg1)(U)[w.wAp.NumberFormats][ee]}(ee,ht.Percent),wn(ee,vn.MinusSign)),ee,vn.Group,vn.Decimal,H,!0).replace(new RegExp("%","g"),wn(ee,vn.PercentSign))}(function ra(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}(H),Be,re)}catch(xt){throw Te()}}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(w.soG,16))},U.\u0275pipe=w.Yjl({name:"percent",type:U,pure:!0,standalone:!0}),U})();let gu=(()=>{class U{}return U.\u0275fac=function(H){return new(H||U)},U.\u0275mod=w.oAB({type:U}),U.\u0275inj=w.cJS({}),U})();const Mo="browser";function Wa(U){return U===Mo}function ru(U){return"server"===U}let Ea=(()=>{class U{}return U.\u0275prov=(0,w.Yz7)({token:U,providedIn:"root",factory:()=>new bo((0,w.LFG)(Me),window)}),U})();class bo{constructor(ee,H){this.document=ee,this.window=H,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const H=function No(U,ee){const H=U.getElementById(ee)||U.getElementsByName(ee)[0];if(H)return H;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const re=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Be=re.currentNode;for(;Be;){const xt=Be.shadowRoot;if(xt){const zt=xt.getElementById(ee)||xt.querySelector(`[name="${ee}"]`);if(zt)return zt}Be=re.nextNode()}}return null}(this.document,ee);H&&(this.scrollToElement(H),H.focus())}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=ee)}}scrollToElement(ee){const H=ee.getBoundingClientRect(),re=H.left+this.window.pageXOffset,Be=H.top+this.window.pageYOffset,xt=this.offset();this.window.scrollTo(re-xt[0],Be-xt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=$o(this.window.history)||$o(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $o(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Gt{}},4650:(He,be,L)=>{"use strict";L.d(be,{$8M:()=>Xr,$WT:()=>wi,$Z:()=>jf,AFp:()=>GT,ALo:()=>xb,AaK:()=>_e,AsE:()=>Sy,BQk:()=>Jp,CHM:()=>G,CRH:()=>N1,CZH:()=>mE,CqO:()=>f,D6c:()=>sD,EJc:()=>W1,EpF:()=>Qp,F$t:()=>ln,F4k:()=>ep,FYo:()=>oh,FiY:()=>tt,G48:()=>iC,Gf:()=>ST,GfV:()=>$_,Gpc:()=>we,Hsn:()=>cn,Ikx:()=>u,JOm:()=>Dl,KtG:()=>se,LFG:()=>on,LMc:()=>LS,Lbi:()=>$1,Lck:()=>c1,MAs:()=>am,MGl:()=>Vn,MMx:()=>X0,MR2:()=>Cu,MT6:()=>Tv,NdJ:()=>v,OlP:()=>yi,Oqu:()=>wv,P3R:()=>Yo,PXZ:()=>Bc,Q6J:()=>Jf,QGY:()=>Xf,Qsj:()=>Ml,QtT:()=>u1,R0b:()=>Ch,RDi:()=>Jd,RIp:()=>Bs,Rgc:()=>zy,SBq:()=>Du,SDv:()=>Eb,Sil:()=>qT,Suo:()=>M1,TTD:()=>Eo,TgZ:()=>Yp,Tol:()=>JE,Udp:()=>f_,VKq:()=>p1,W1O:()=>Lb,WLB:()=>oE,X6Q:()=>rC,XFs:()=>yn,Xpm:()=>si,Xts:()=>th,Y36:()=>ch,YKP:()=>Q0,YNc:()=>Pc,Yjl:()=>qs,Yz7:()=>wn,Z0I:()=>dr,ZZ4:()=>pw,_Bn:()=>Ov,_UZ:()=>Yl,_Vd:()=>xl,_uU:()=>P0,aQg:()=>gw,c2e:()=>G1,cJS:()=>Br,cg1:()=>oe,dDg:()=>Y1,dqk:()=>St,ekj:()=>rp,eoX:()=>tC,f3M:()=>Tn,g9A:()=>V1,h0i:()=>m_,hij:()=>mm,iGM:()=>DT,iPO:()=>Lv,ifc:()=>Kt,ip1:()=>Kb,jDz:()=>Db,kEZ:()=>_T,kL8:()=>et,lG2:()=>oi,lcZ:()=>lE,lqb:()=>xa,lri:()=>eC,n5z:()=>ce,oAB:()=>Os,oxw:()=>qe,pQV:()=>lf,q4F:()=>H_,qLn:()=>bd,qOj:()=>rm,qZA:()=>um,rWj:()=>_a,s9C:()=>gn,sBO:()=>sw,s_b:()=>qy,soG:()=>w_,tBr:()=>Le,tb:()=>zT,tp0:()=>nn,uIk:()=>zp,vHH:()=>Ze,vpe:()=>cf,wAp:()=>Rt,xi3:()=>Wy,xp6:()=>Hf,ynx:()=>Qf,z2F:()=>n0,zSh:()=>Of,zs3:()=>Dd});var w=L(7579),M=L(727),l=L(9751),pe=L(6451),me=L(3099);function Me(s){for(let a in s)if(s[a]===Me)return a;throw Error("Could not find renamed property on target object.")}function Ie(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function _e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(_e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Ee(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const ge=Me({__forward_ref__:Me});function we(s){return s.__forward_ref__=we,s.toString=function(){return _e(this())},s}function Ne(s){return at(s)?s():s}function at(s){return"function"==typeof s&&s.hasOwnProperty(ge)&&s.__forward_ref__===we}function Ye(s){return s&&!!s.\u0275providers}const lt="https://g.co/ng/security#xss";class Ze extends Error{constructor(a,c){super(function ot(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function it(s){return"string"==typeof s?s:null==s?"":String(s)}function Bt(s,a){throw new Ze(-201,!1)}function dn(s,a,c,g){throw new Error(`ASSERTION ERROR: ${s}`+(null==g?"":` [Expected=> ${c} ${g} ${a} <=Actual]`))}function wn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Br(s){return{providers:s.providers||[],imports:s.imports||[]}}function yr(s){return Qn(s,pi)||Qn(s,Xn)}function dr(s){return null!==yr(s)}function Qn(s,a){return s.hasOwnProperty(a)?s[a]:null}function br(s){return s&&(s.hasOwnProperty(rr)||s.hasOwnProperty(Yr))?s[rr]:null}const pi=Me({\u0275prov:Me}),rr=Me({\u0275inj:Me}),Xn=Me({ngInjectableDef:Me}),Yr=Me({ngInjectorDef:Me});var yn=(()=>((yn=yn||{})[yn.Default=0]="Default",yn[yn.Host=1]="Host",yn[yn.Self=2]="Self",yn[yn.SkipSelf=4]="SkipSelf",yn[yn.Optional=8]="Optional",yn))();let Sr;function Ii(s){const a=Sr;return Sr=s,a}function ti(s,a,c){const g=yr(s);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:c&yn.Optional?null:void 0!==a?a:void Bt(_e(s))}const St=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jn={},zr="__NG_DI_FLAG__",Ji="ngTempTokenPath",ss=/\n/gm,hs="__source";let lr;function os(s){const a=lr;return lr=s,a}function gi(s,a=yn.Default){if(void 0===lr)throw new Ze(-203,!1);return null===lr?ti(s,void 0,a):lr.get(s,a&yn.Optional?null:void 0,a)}function on(s,a=yn.Default){return(function Fi(){return Sr}()||gi)(Ne(s),a)}function Tn(s,a=yn.Default){return on(s,Wn(a))}function Wn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Zt(s){const a=[];for(let c=0;c<s.length;c++){const g=Ne(s[c]);if(Array.isArray(g)){if(0===g.length)throw new Ze(900,!1);let m,E=yn.Default;for(let A=0;A<g.length;A++){const k=g[A],j=Ue(k);"number"==typeof j?-1===j?m=k.token:E|=j:m=k}a.push(on(m,E))}else a.push(on(g))}return a}function Ar(s,a){return s[zr]=a,s.prototype[zr]=a,s}function Ue(s){return s[zr]}function Ce(s){return{toString:s}.toString()}var ue=(()=>((ue=ue||{})[ue.OnPush=0]="OnPush",ue[ue.Default=1]="Default",ue))(),Kt=(()=>{return(s=Kt||(Kt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Kt;var s})();const Dn={},$e=[],Fe=Me({\u0275cmp:Me}),ve=Me({\u0275dir:Me}),nt=Me({\u0275pipe:Me}),Ht=Me({\u0275mod:Me}),Xt=Me({\u0275fac:Me}),Mn=Me({__NG_ELEMENT_ID__:Me});let ii=0;function si(s){return Ce(()=>{const c=!0===s.standalone,g={},m={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:g,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ue.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||$e,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Kt.Emulated,id:"c"+ii++,styles:s.styles||$e,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},E=s.dependencies,A=s.features;return m.inputs=bs(s.inputs,g),m.outputs=bs(s.outputs),A&&A.forEach(k=>k(m)),m.directiveDefs=E?()=>("function"==typeof E?E():E).map(Ur).filter(Hi):null,m.pipeDefs=E?()=>("function"==typeof E?E():E).map(Ai).filter(Hi):null,m})}function Ur(s){return Jr(s)||mi(s)}function Hi(s){return null!==s}function Os(s){return Ce(()=>({type:s.type,bootstrap:s.bootstrap||$e,declarations:s.declarations||$e,imports:s.imports||$e,exports:s.exports||$e,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function bs(s,a){if(null==s)return Dn;const c={};for(const g in s)if(s.hasOwnProperty(g)){let m=s[g],E=m;Array.isArray(m)&&(E=m[1],m=m[0]),c[m]=g,a&&(a[m]=E)}return c}const oi=si;function qs(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jr(s){return s[Fe]||null}function mi(s){return s[ve]||null}function Ai(s){return s[nt]||null}function wi(s){const a=Jr(s)||mi(s)||Ai(s);return null!==a&&a.standalone}function xi(s,a){const c=s[Ht]||null;if(!c&&!0===a)throw new Error(`Type ${_e(s)} does not have '\u0275mod' property.`);return c}function Bi(s){return Array.isArray(s)&&"object"==typeof s[1]}function us(s){return Array.isArray(s)&&!0===s[1]}function Je(s){return 0!=(4&s.flags)}function Pe(s){return s.componentOffset>-1}function Bl(s){return 1==(1&s.flags)}function ji(s){return null!==s.template}function na(s){return 0!=(256&s[2])}function Ti(s,a){return s.hasOwnProperty(Xt)?s[Xt]:null}class ia{constructor(a,c,g){this.previousValue=a,this.currentValue=c,this.firstChange=g}isFirstChange(){return this.firstChange}}function Eo(){return Ea}function Ea(s){return s.type.prototype.ngOnChanges&&(s.setInput=$o),bo}function bo(){const s=lo(this),a=s?.current;if(a){const c=s.previous;if(c===Dn)s.previous=a;else for(let g in a)c[g]=a[g];s.current=null,this.ngOnChanges(a)}}function $o(s,a,c,g){const m=this.declaredInputs[c],E=lo(s)||function Gt(s,a){return s[No]=a}(s,{previous:Dn,current:null}),A=E.current||(E.current={}),k=E.previous,j=k[m];A[m]=new ia(j&&j.currentValue,a,k===Dn),s[g]=a}Eo.ngInherit=!0;const No="__ngSimpleChanges__";function lo(s){return s[No]||null}function ci(s){for(;Array.isArray(s);)s=s[0];return s}function Ki(s,a){return ci(a[s])}function qn(s,a){return ci(a[s.index])}function Oo(s,a){return s.data[a]}function gs(s,a){return s[a]}function Wi(s,a){const c=a[s];return Bi(c)?c:c[0]}function sa(s){return 64==(64&s[2])}function To(s,a){return null==a?null:s[a]}function ms(s){s[18]=0}function co(s,a){s[5]+=a;let c=s,g=s[3];for(;null!==g&&(1===a&&1===c[5]||-1===a&&0===c[5]);)g[5]+=a,c=g,g=g[3]}const nr={lFrame:It(null),bindingsEnabled:!0};function Gs(){return nr.bindingsEnabled}function B(){return nr.lFrame.lView}function W(){return nr.lFrame.tView}function G(s){return nr.lFrame.contextLView=s,s[8]}function se(s){return nr.lFrame.contextLView=null,s}function gt(){let s=$n();for(;null!==s&&64===s.type;)s=s.parent;return s}function $n(){return nr.lFrame.currentTNode}function zi(){const s=nr.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function Qi(s,a){const c=nr.lFrame;c.currentTNode=s,c.isParent=a}function oa(){return nr.lFrame.isParent}function As(){nr.lFrame.isParent=!1}function qi(){const s=nr.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Ts(){return nr.lFrame.bindingIndex}function _s(){return nr.lFrame.bindingIndex++}function ba(s){const a=nr.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function nl(s){nr.lFrame.inI18n=s}function _u(s,a){const c=nr.lFrame;c.bindingIndex=c.bindingRootIndex=s,wa(a)}function wa(s){nr.lFrame.currentDirectiveIndex=s}function Pu(){return nr.lFrame.currentQueryIndex}function yl(s){nr.lFrame.currentQueryIndex=s}function $l(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function iu(s,a,c){if(c&yn.SkipSelf){let m=a,E=s;for(;!(m=m.parent,null!==m||c&yn.Host||(m=$l(E),null===m||(E=E[15],10&m.type))););if(null===m)return!1;a=m,s=E}const g=nr.lFrame=Ge();return g.currentTNode=a,g.lView=s,!0}function su(s){const a=Ge(),c=s[1];nr.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Ge(){const s=nr.lFrame,a=null===s?null:s.child;return null===a?It(s):a}function It(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function ut(){const s=nr.lFrame;return nr.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Hn=ut;function kr(){const s=ut();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Vr(){return nr.lFrame.selectedIndex}function Po(s){nr.lFrame.selectedIndex=s}function Xi(){const s=nr.lFrame;return Oo(s.tView,s.selectedIndex)}function di(s,a){for(let c=a.directiveStart,g=a.directiveEnd;c<g;c++){const E=s.data[c].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:k,ngAfterViewInit:j,ngAfterViewChecked:X,ngOnDestroy:le}=E;A&&(s.contentHooks||(s.contentHooks=[])).push(-c,A),k&&((s.contentHooks||(s.contentHooks=[])).push(c,k),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,k)),j&&(s.viewHooks||(s.viewHooks=[])).push(-c,j),X&&((s.viewHooks||(s.viewHooks=[])).push(c,X),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,X)),null!=le&&(s.destroyHooks||(s.destroyHooks=[])).push(c,le)}}function U(s,a,c){re(s,a,3,c)}function ee(s,a,c,g){(3&s[2])===c&&re(s,a,c,g)}function H(s,a){let c=s[2];(3&c)===a&&(c&=2047,c+=1,s[2]=c)}function re(s,a,c,g){const E=g??-1,A=a.length-1;let k=0;for(let j=void 0!==g?65535&s[18]:0;j<A;j++)if("number"==typeof a[j+1]){if(k=a[j],null!=g&&k>=g)break}else a[j]<0&&(s[18]+=65536),(k<E||-1==E)&&(Be(s,c,a,j),s[18]=(4294901760&s[18])+j+2),j++}function Be(s,a,c,g){const m=c[g]<0,E=c[g+1],k=s[m?-c[g]:c[g]];if(m){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{E.call(k)}finally{}}}else try{E.call(k)}finally{}}class zt{constructor(a,c,g){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=g}}function Ho(s,a,c){let g=0;for(;g<c.length;){const m=c[g];if("number"==typeof m){if(0!==m)break;g++;const E=c[g++],A=c[g++],k=c[g++];s.setAttribute(a,A,k,E)}else{const E=m,A=c[++g];to(E)?s.setProperty(a,E,A):s.setAttribute(a,E,A),g++}}return g}function vs(s){return 3===s||4===s||6===s}function to(s){return 64===s.charCodeAt(0)}function xs(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let g=0;g<a.length;g++){const m=a[g];"number"==typeof m?c=m:0===c||Pa(s,c,m,null,-1===c||2===c?a[++g]:null)}}return s}function Pa(s,a,c,g,m){let E=0,A=s.length;if(-1===a)A=-1;else for(;E<s.length;){const k=s[E++];if("number"==typeof k){if(k===a){A=-1;break}if(k>a){A=E-1;break}}}for(;E<s.length;){const k=s[E];if("number"==typeof k)break;if(k===c){if(null===g)return void(null!==m&&(s[E+1]=m));if(g===s[E+1])return void(s[E+2]=m)}E++,null!==g&&E++,null!==m&&E++}-1!==A&&(s.splice(A,0,a),E=A+1),s.splice(E++,0,c),null!==g&&s.splice(E++,0,g),null!==m&&s.splice(E++,0,m)}function il(s){return-1!==s}function vu(s){return 32767&s}function au(s,a){let c=function Fu(s){return s>>16}(s),g=a;for(;c>0;)g=g[15],c--;return g}let Go=!0;function ka(s){const a=Go;return Go=s,a}let Fs=0;const Fa={};function no(s,a){const c=Ms(s,a);if(-1!==c)return c;const g=a[1];g.firstCreatePass&&(s.injectorIndex=a.length,El(g.data,s),El(a,null),El(g.blueprint,null));const m=ho(s,a),E=s.injectorIndex;if(il(m)){const A=vu(m),k=au(m,a),j=k[1].data;for(let X=0;X<8;X++)a[E+X]=k[A+X]|j[A+X]}return a[E+8]=m,E}function El(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Ms(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function ho(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,g=null,m=a;for(;null!==m;){if(g=Ua(m),null===g)return-1;if(c++,m=m[15],-1!==g.injectorIndex)return g.injectorIndex|c<<16}return-1}function La(s,a,c){!function Sh(s,a,c){let g;"string"==typeof c?g=c.charCodeAt(0)||0:c.hasOwnProperty(Mn)&&(g=c[Mn]),null==g&&(g=c[Mn]=Fs++);const m=255&g;a.data[s+(m>>5)]|=1<<m}(s,a,c)}function Ys(s,a,c){if(c&yn.Optional||void 0!==s)return s;Bt()}function Bu(s,a,c,g){if(c&yn.Optional&&void 0===g&&(g=null),!(c&(yn.Self|yn.Host))){const m=s[9],E=Ii(void 0);try{return m?m.get(a,g,c&yn.Optional):ti(a,g,c&yn.Optional)}finally{Ii(E)}}return Ys(g,0,c)}function Cs(s,a,c,g=yn.Default,m){if(null!==s){if(1024&a[2]){const A=function la(s,a,c,g,m){let E=s,A=a;for(;null!==E&&null!==A&&1024&A[2]&&!(256&A[2]);){const k=So(E,A,c,g|yn.Self,Fa);if(k!==Fa)return k;let j=E.parent;if(!j){const X=A[21];if(X){const le=X.get(c,Fa,g);if(le!==Fa)return le}j=Ua(A),A=A[15]}E=j}return m}(s,a,c,g,Fa);if(A!==Fa)return A}const E=So(s,a,c,g,Fa);if(E!==Fa)return E}return Bu(a,c,g,m)}function So(s,a,c,g,m){const E=function ol(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Mn)?s[Mn]:void 0;return"number"==typeof a?a>=0?255&a:vc:a}(c);if("function"==typeof E){if(!iu(a,s,g))return g&yn.Host?Ys(m,0,g):Bu(a,c,g,m);try{const A=E(g);if(null!=A||g&yn.Optional)return A;Bt()}finally{Hn()}}else if("number"==typeof E){let A=null,k=Ms(s,a),j=-1,X=g&yn.Host?a[16][6]:null;for((-1===k||g&yn.SkipSelf)&&(j=-1===k?ho(s,a):a[k+8],-1!==j&&fo(g,!1)?(A=a[1],k=vu(j),a=au(j,a)):k=-1);-1!==k;){const le=a[1];if(Gl(E,k,le.data)){const Re=sl(k,a,c,A,g,X);if(Re!==Fa)return Re}j=a[k+8],-1!==j&&fo(g,a[1].data[k+8]===X)&&Gl(E,k,a)?(A=le,k=vu(j),a=au(j,a)):k=-1}}return m}function sl(s,a,c,g,m,E){const A=a[1],k=A.data[s+8],le=Ka(k,A,c,null==g?Pe(k)&&Go:g!=A&&0!=(3&k.type),m&yn.Host&&E===k);return null!==le?Ba(a,A,le,k):Fa}function Ka(s,a,c,g,m){const E=s.providerIndexes,A=a.data,k=1048575&E,j=s.directiveStart,le=E>>20,Xe=m?k+le:s.directiveEnd;for(let Tt=g?k:k+le;Tt<Xe;Tt++){const tn=A[Tt];if(Tt<j&&c===tn||Tt>=j&&tn.type===c)return Tt}if(m){const Tt=A[j];if(Tt&&ji(Tt)&&Tt.type===c)return j}return null}function Ba(s,a,c,g){let m=s[c];const E=a.data;if(function Cn(s){return s instanceof zt}(m)){const A=m;A.resolving&&function ct(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${s}${c}`)}(function wt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():it(s)}(E[c]));const k=ka(A.canSeeViewProviders);A.resolving=!0;const j=A.injectImpl?Ii(A.injectImpl):null;iu(s,g,yn.Default);try{m=s[c]=A.factory(void 0,E,s,g),a.firstCreatePass&&c>=g.directiveStart&&function ku(s,a,c){const{ngOnChanges:g,ngOnInit:m,ngDoCheck:E}=a.type.prototype;if(g){const A=Ea(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,A),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,A)}m&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,m),E&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,E),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,E))}(c,E[c],a)}finally{null!==j&&Ii(j),ka(k),A.resolving=!1,Hn()}}return m}function Gl(s,a,c){return!!(c[a+(s>>5)]&1<<s)}function fo(s,a){return!(s&yn.Self||s&yn.Host&&a)}class po{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,g){return Cs(this._tNode,this._lView,a,Wn(g),c)}}function vc(){return new po(gt(),B())}function ce(s){return Ce(()=>{const a=s.prototype.constructor,c=a[Xt]||Ls(a),g=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==g;){const E=m[Xt]||Ls(m);if(E&&E!==c)return E;m=Object.getPrototypeOf(m)}return E=>new E})}function Ls(s){return at(s)?()=>{const a=Ls(Ne(s));return a&&a()}:Ti(s)}function Ua(s){const a=s[1],c=a.type;return 2===c?a.declTNode:1===c?s[6]:null}function Xr(s){return function Lu(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const g=c.length;let m=0;for(;m<g;){const E=c[m];if(vs(E))break;if(0===E)m+=2;else if("number"==typeof E)for(m++;m<g&&"string"==typeof c[m];)m++;else{if(E===a)return c[m+1];m+=2}}}return null}(gt(),s)}const bl="__parameters__";function jl(s,a,c){return Ce(()=>{const g=function yc(s){return function(...c){if(s){const g=s(...c);for(const m in g)this[m]=g[m]}}}(a);function m(...E){if(this instanceof m)return g.apply(this,E),this;const A=new m(...E);return k.annotation=A,k;function k(j,X,le){const Re=j.hasOwnProperty(bl)?j[bl]:Object.defineProperty(j,bl,{value:[]})[bl];for(;Re.length<=le;)Re.push(null);return(Re[le]=Re[le]||[]).push(A),j}}return c&&(m.prototype=Object.create(c.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}class yi{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=wn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function S(s,a){s.forEach(c=>Array.isArray(c)?S(c,a):a(c))}function V(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function J(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function ie(s,a){const c=[];for(let g=0;g<s;g++)c.push(a);return c}function xn(s,a,c){let g=Vi(s,a);return g>=0?s[1|g]=c:(g=~g,function en(s,a,c,g){let m=s.length;if(m==a)s.push(c,g);else if(1===m)s.push(g,s[0]),s[0]=c;else{for(m--,s.push(s[m-1],s[m]);m>a;)s[m]=s[m-2],m--;s[a]=c,s[a+1]=g}}(s,g,a,c)),g}function Hr(s,a){const c=Vi(s,a);if(c>=0)return s[1|c]}function Vi(s,a){return function jo(s,a,c){let g=0,m=s.length>>c;for(;m!==g;){const E=g+(m-g>>1),A=s[E<<c];if(a===A)return E<<c;A>a?m=E:g=E+1}return~(m<<c)}(s,a,1)}const Le=Ar(jl("Inject",s=>({token:s})),-1),tt=Ar(jl("Optional"),8),nn=Ar(jl("SkipSelf"),4);var Dl=(()=>((Dl=Dl||{})[Dl.Important=1]="Important",Dl[Dl.DashCase=2]="DashCase",Dl))();const rc=/^>|^->|<!--|-->|--!>|<!-$/g,bg=/(<|>)/;const ca=new Map;let Tc=0;const ic="__ngContext__";function Ia(s,a){Bi(a)?(s[ic]=a[20],function zo(s){ca.set(s[20],s)}(a)):s[ic]=a}let dt;function sn(s,a){return dt(s,a)}function Yt(s){const a=s[3];return us(a)?a[3]:a}function Mt(s){return _o(s[13])}function Jt(s){return _o(s[4])}function _o(s){for(;null!==s&&!us(s);)s=s[4];return s}function Dc(s,a,c,g,m){if(null!=g){let E,A=!1;us(g)?E=g:Bi(g)&&(A=!0,g=g[0]);const k=ci(g);0===s&&null!==c?null==m?Ln(a,c,k):Ws(a,c,k,m||null,!0):1===s&&null!==c?Ws(a,c,k,m||null,!0):2===s?pp(a,k,A):3===s&&a.destroyNode(k),null!=E&&function Kd(s,a,c,g,m){const E=c[7];E!==ci(c)&&Dc(a,s,g,E,m);for(let k=10;k<c.length;k++){const j=c[k];Hu(j[1],j,s,a,g,E)}}(a,s,E,c,m)}}function gd(s,a){return s.createText(a)}function Oh(s,a,c){s.setValue(a,c)}function bu(s,a){return s.createComment(function Hd(s){return s.replace(rc,a=>a.replace(bg,"\u200b$1\u200b"))}(a))}function Wd(s,a,c){return s.createElement(a,c)}function Mr(s,a){const c=s[9],g=c.indexOf(a),m=a[3];512&a[2]&&(a[2]&=-513,co(m,-1)),c.splice(g,1)}function zd(s,a){if(s.length<=10)return;const c=10+a,g=s[c];if(g){const m=g[17];null!==m&&m!==s&&Mr(m,g),a>0&&(s[c-1][4]=g[4]);const E=J(s,10+a);!function hp(s,a){Hu(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(g[1],g);const A=E[19];null!==A&&A.detachView(E[1]),g[3]=null,g[4]=null,g[2]&=-65}return g}function Cg(s,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Hu(s,a,c,3,null,null),function wg(s){let a=s[13];if(!a)return js(s[1],s);for(;a;){let c=null;if(Bi(a))c=a[13];else{const g=a[10];g&&(c=g)}if(!c){for(;a&&!a[4]&&a!==s;)Bi(a)&&js(a[1],a),a=a[3];null===a&&(a=s),Bi(a)&&js(a[1],a),c=a&&a[4]}a=c}}(a)}}function js(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function kh(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let g=0;g<c.length;g+=2){const m=a[c[g]];if(!(m instanceof zt)){const E=c[g+1];if(Array.isArray(E))for(let A=0;A<E.length;A+=2){const k=m[E[A]],j=E[A+1];try{j.call(k)}finally{}}else try{E.call(m)}finally{}}}}(s,a),function gr(s,a){const c=s.cleanup,g=a[7];let m=-1;if(null!==c)for(let E=0;E<c.length-1;E+=2)if("string"==typeof c[E]){const A=c[E+3];A>=0?g[m=A]():g[m=-A].unsubscribe(),E+=2}else{const A=g[m=c[E+1]];c[E].call(A)}if(null!==g){for(let E=m+1;E<g.length;E++)(0,g[E])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&us(a[3])){c!==a[3]&&Mr(c,a);const g=a[19];null!==g&&g.detachView(s)}!function Ir(s){ca.delete(s[20])}(a)}}function rs(s,a,c){return es(s,a.parent,c)}function es(s,a,c){let g=a;for(;null!==g&&40&g.type;)g=(a=g).parent;if(null===g)return c[0];{const{componentOffset:m}=g;if(m>-1){const{encapsulation:E}=s.data[g.directiveStart+m];if(E===Kt.None||E===Kt.Emulated)return null}return qn(g,c)}}function Ws(s,a,c,g,m){s.insertBefore(a,c,g,m)}function Ln(s,a,c){s.appendChild(a,c)}function qo(s,a,c,g,m){null!==g?Ws(s,a,c,g,m):Ln(s,a,c)}function Df(s,a){return s.parentNode(a)}function Mm(s,a,c){return jc(s,a,c)}function Gc(s,a,c){return 40&s.type?qn(s,c):null}let Wc,Yd,xc,Zc,jc=Gc;function ll(s,a){jc=s,Wc=a}function zc(s,a,c,g){const m=rs(s,g,a),E=a[11],k=Mm(g.parent||a[6],g,a);if(null!=m)if(Array.isArray(c))for(let j=0;j<c.length;j++)qo(E,m,c[j],k,!1);else qo(E,m,c,k,!1);void 0!==Wc&&Wc(E,g,a,c,m)}function qd(s,a){if(null!==a){const c=a.type;if(3&c)return qn(a,s);if(4&c)return sc(-1,s[a.index]);if(8&c){const g=a.child;if(null!==g)return qd(s,g);{const m=s[a.index];return us(m)?sc(-1,m):ci(m)}}if(32&c)return sn(a,s)()||ci(s[a.index]);{const g=fp(s,a);return null!==g?Array.isArray(g)?g[0]:qd(Yt(s[16]),g):qd(s,a.next)}}return null}function fp(s,a){return null!==a?s[16][6].projection[a.projection]:null}function sc(s,a){const c=10+s+1;if(c<a.length){const g=a[c],m=g[1].firstChild;if(null!==m)return qd(g,m)}return a[7]}function pp(s,a,c){const g=Df(s,a);g&&function xm(s,a,c,g){s.removeChild(a,c,g)}(s,g,a,c)}function Ot(s,a,c,g,m,E,A){for(;null!=c;){const k=g[c.index],j=c.type;if(A&&0===a&&(k&&Ia(ci(k),g),c.flags|=2),32!=(32&c.flags))if(8&j)Ot(s,a,c.child,g,m,E,!1),Dc(a,s,m,k,E);else if(32&j){const X=sn(c,g);let le;for(;le=X();)Dc(a,s,m,le,E);Dc(a,s,m,k,E)}else 16&j?Dg(s,a,g,c,m,E):Dc(a,s,m,k,E);c=A?c.projectionNext:c.next}}function Hu(s,a,c,g,m,E){Ot(c,g,s.firstChild,a,m,E,!1)}function Dg(s,a,c,g,m,E){const A=c[16],j=A[6].projection[g.projection];if(Array.isArray(j))for(let X=0;X<j.length;X++)Dc(a,s,m,j[X],E);else Ot(s,a,j,A[3],m,E,!0)}function Zd(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function Ic(s,a,c){const{mergedAttrs:g,classes:m,styles:E}=c;null!==g&&Ho(s,a,g),null!==m&&Zd(s,a,m),null!==E&&function Nm(s,a,c){s.setAttribute(a,"style",c)}(s,a,E)}function qc(s){return function Ac(){if(void 0===Yd&&(Yd=null,St.trustedTypes))try{Yd=St.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Yd}()?.createHTML(s)||s}function Jd(s){xc=s}function N_(s){return function gp(){if(void 0===Zc&&(Zc=null,St.trustedTypes))try{Zc=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Zc}()?.createScriptURL(s)||s}class Yc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function Zo(s){return s instanceof Yc?s.changingThisBreaksApplicationSecurity:s}function Bo(s,a){const c=function ac(s){return s instanceof Yc&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${lt})`)}return c===a}class Qd{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(qc(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Om{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const g=this.inertDocument.createElement("body");c.appendChild(g)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=qc(a),c;const g=this.inertDocument.createElement("body");return g.innerHTML=qc(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(g),g}stripCustomNsAttrs(a){const c=a.attributes;for(let m=c.length-1;0<m;m--){const A=c.item(m).name;("xmlns:ns1"===A||0===A.indexOf("ns1:"))&&a.removeAttribute(A)}let g=a.firstChild;for(;g;)g.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(g),g=g.nextSibling}}const Rm=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function vp(s){return(s=String(s)).match(Rm)?s:"unsafe:"+s}function zl(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function ql(...s){const a={};for(const c of s)for(const g in c)c.hasOwnProperty(g)&&(a[g]=!0);return a}const Ig=zl("area,br,col,hr,img,wbr"),yp=zl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ag=zl("rp,rt"),bp=ql(Ig,ql(yp,zl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ql(Ag,zl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ql(Ag,yp)),eh=zl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ts=ql(eh,zl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var ha=(()=>((ha=ha||{})[ha.NONE=0]="NONE",ha[ha.HTML=1]="HTML",ha[ha.STYLE=2]="STYLE",ha[ha.SCRIPT=3]="SCRIPT",ha[ha.URL=4]="URL",ha[ha.RESOURCE_URL=5]="RESOURCE_URL",ha))();function ty(s){const a=Ci();return a?a.sanitize(ha.URL,s)||"":Bo(s,"URL")?Zo(s):vp(it(s))}function xf(s){const a=Ci();if(a)return N_(a.sanitize(ha.RESOURCE_URL,s)||"");if(Bo(s,"ResourceURL"))return N_(Zo(s));throw new Ze(904,!1)}function Yo(s,a,c){return function ny(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?xf:ty}(a,c)(s)}function Ci(){const s=B();return s&&s[12]}const th=new yi("ENVIRONMENT_INITIALIZER"),Uh=new yi("INJECTOR",-1),cl=new yi("INJECTOR_DEF_TYPES");class fa{get(a,c=jn){if(c===jn){const g=new Error(`NullInjectorError: No provider for ${_e(a)}!`);throw g.name="NullInjectorError",g}return c}}function Cu(s){return{\u0275providers:s}}function Bs(...s){return{\u0275providers:Fm(0,s),\u0275fromNgModule:!0}}function Fm(s,...a){const c=[],g=new Set;let m;return S(a,E=>{const A=E;Al(A,c,[],g)&&(m||(m=[]),m.push(A))}),void 0!==m&&Vh(m,c),c}function Vh(s,a){for(let c=0;c<s.length;c++){const{providers:m}=s[c];bi(m,E=>{a.push(E)})}}function Al(s,a,c,g){if(!(s=Ne(s)))return!1;let m=null,E=br(s);const A=!E&&Jr(s);if(E||A){if(A&&!A.standalone)return!1;m=s}else{const j=s.ngModule;if(E=br(j),!E)return!1;m=j}const k=g.has(m);if(A){if(k)return!1;if(g.add(m),A.dependencies){const j="function"==typeof A.dependencies?A.dependencies():A.dependencies;for(const X of j)Al(X,a,c,g)}}else{if(!E)return!1;{if(null!=E.imports&&!k){let X;g.add(m);try{S(E.imports,le=>{Al(le,a,c,g)&&(X||(X=[]),X.push(le))})}finally{}void 0!==X&&Vh(X,a)}if(!k){const X=Ti(m)||(()=>new m);a.push({provide:m,useFactory:X,deps:$e},{provide:cl,useValue:m,multi:!0},{provide:th,useValue:()=>on(m),multi:!0})}const j=E.providers;null==j||k||bi(j,le=>{a.push(le)})}}return m!==s&&void 0!==s.providers}function bi(s,a){for(let c of s)Ye(c)&&(c=c.\u0275providers),Array.isArray(c)?bi(c,a):a(c)}const Lm=Me({provide:String,useValue:Me});function Aa(s){return null!==s&&"object"==typeof s&&Lm in s}function Jc(s){return"function"==typeof s}const Of=new yi("Set Injector scope."),rh={},Rg={};let Tp;function Qc(){return void 0===Tp&&(Tp=new fa),Tp}class xa{}class Pg extends xa{get destroyed(){return this._destroyed}constructor(a,c,g,m){super(),this.parent=c,this.source=g,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cp(a,A=>this.processProvider(A)),this.records.set(Uh,ih(void 0,this)),m.has("environment")&&this.records.set(xa,ih(void 0,this));const E=this.records.get(Of);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get(cl.multi,$e,yn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=os(this),g=Ii(void 0);try{return a()}finally{os(c),Ii(g)}}get(a,c=jn,g=yn.Default){this.assertNotDestroyed(),g=Wn(g);const m=os(this),E=Ii(void 0);try{if(!(g&yn.SkipSelf)){let k=this.records.get(a);if(void 0===k){const j=function Ff(s){return"function"==typeof s||"object"==typeof s&&s instanceof yi}(a)&&yr(a);k=j&&this.injectableDefInScope(j)?ih(Rf(a),rh):null,this.records.set(a,k)}if(null!=k)return this.hydrate(a,k)}return(g&yn.Self?Qc():this.parent).get(a,c=g&yn.Optional&&c===jn?null:c)}catch(A){if("NullInjectorError"===A.name){if((A[Ji]=A[Ji]||[]).unshift(_e(a)),m)throw A;return function Se(s,a,c,g){const m=s[Ji];throw a[hs]&&m.unshift(a[hs]),s.message=function je(s,a,c,g=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let m=_e(a);if(Array.isArray(a))m=a.map(_e).join(" -> ");else if("object"==typeof a){let E=[];for(let A in a)if(a.hasOwnProperty(A)){let k=a[A];E.push(A+":"+("string"==typeof k?JSON.stringify(k):_e(k)))}m=`{${E.join(", ")}}`}return`${c}${g?"("+g+")":""}[${m}]: ${s.replace(ss,"\n  ")}`}("\n"+s.message,m,c,g),s.ngTokenPath=m,s[Ji]=null,s}(A,a,"R3InjectorError",this.source)}throw A}finally{Ii(E),os(m)}}resolveInjectorInitializers(){const a=os(this),c=Ii(void 0);try{const g=this.get(th.multi,$e,yn.Self);for(const m of g)m()}finally{os(a),Ii(c)}}toString(){const a=[],c=this.records;for(const g of c.keys())a.push(_e(g));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(a){let c=Jc(a=Ne(a))?a:Ne(a&&a.provide);const g=function B_(s){return Aa(s)?ih(void 0,s.useValue):ih(kf(s),rh)}(a);if(Jc(a)||!0!==a.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=ih(void 0,rh,!0),m.factory=()=>Zt(m.multi),this.records.set(c,m)),c=a,m.multi.push(a)}this.records.set(c,g)}hydrate(a,c){return c.value===rh&&(c.value=Rg,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Bm(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Ne(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Rf(s){const a=yr(s),c=null!==a?a.factory:Ti(s);if(null!==c)return c;if(s instanceof yi)throw new Ze(204,!1);if(s instanceof Function)return function Pf(s){const a=s.length;if(a>0)throw ie(a,"?"),new Ze(204,!1);const c=function Zr(s){const a=s&&(s[pi]||s[Xn]);if(a){const c=function Wr(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ze(204,!1)}function kf(s,a,c){let g;if(Jc(s)){const m=Ne(s);return Ti(m)||Rf(m)}if(Aa(s))g=()=>Ne(s.useValue);else if(function uc(s){return!(!s||!s.useFactory)}(s))g=()=>s.useFactory(...Zt(s.deps||[]));else if(function dl(s){return!(!s||!s.useExisting)}(s))g=()=>on(Ne(s.useExisting));else{const m=Ne(s&&(s.useClass||s.provide));if(!function Di(s){return!!s.deps}(s))return Ti(m)||Rf(m);g=()=>new m(...Zt(s.deps))}return g}function ih(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function Cp(s,a){for(const c of s)Array.isArray(c)?Cp(c,a):c&&Ye(c)?Cp(c.\u0275providers,a):a(c)}class Dp{}class Lf{}class V_{resolveComponentFactory(a){throw function $h(s){const a=Error(`No component factory found for ${_e(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let xl=(()=>{class s{}return s.NULL=new V_,s})();function sh(){return Hh(gt(),B())}function Hh(s,a){return new Du(qn(s,a))}let Du=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=sh,s})();function kg(s){return s instanceof Du?s.nativeElement:s}class oh{}let Ml=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Bf(){const s=B(),c=Wi(gt().index,s);return(Bi(c)?c:s)[11]}(),s})(),Sp=(()=>{class s{}return s.\u0275prov=wn({token:s,providedIn:"root",factory:()=>null}),s})();class $_{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const H_=new $_("15.1.1"),vo={};function Fg(s){return s.ngOriginalError}class bd{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Fg(a);for(;c&&Fg(c);)c=Fg(c);return c||null}}function ju(s){return s instanceof Function?s():s}function ed(s,a,c){let g=s.length;for(;;){const m=s.indexOf(a,c);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const E=a.length;if(m+E===g||s.charCodeAt(m+E)<=32)return m}c=m+1}}const Hm="ng-template";function Nl(s,a,c){let g=0;for(;g<s.length;){let m=s[g++];if(c&&"class"===m){if(m=s[g],-1!==ed(m.toLowerCase(),a,0))return!0}else if(1===m){for(;g<s.length&&"string"==typeof(m=s[g++]);)if(m.toLowerCase()===a)return!0;return!1}}return!1}function Ug(s){return 4===s.type&&s.value!==Hm}function Vg(s,a,c){return a===(4!==s.type||c?s.value:Hm)}function G_(s,a,c){let g=4;const m=s.attrs||[],E=function W_(s){for(let a=0;a<s.length;a++)if(vs(s[a]))return a;return s.length}(m);let A=!1;for(let k=0;k<a.length;k++){const j=a[k];if("number"!=typeof j){if(!A)if(4&g){if(g=2|1&g,""!==j&&!Vg(s,j,c)||""===j&&1===a.length){if(tu(g))return!1;A=!0}}else{const X=8&g?j:a[++k];if(8&g&&null!==s.attrs){if(!Nl(s.attrs,X,c)){if(tu(g))return!1;A=!0}continue}const Re=xp(8&g?"class":j,m,Ug(s),c);if(-1===Re){if(tu(g))return!1;A=!0;continue}if(""!==X){let Xe;Xe=Re>E?"":m[Re+1].toLowerCase();const Tt=8&g?Xe:null;if(Tt&&-1!==ed(Tt,X,0)||2&g&&X!==Xe){if(tu(g))return!1;A=!0}}}}else{if(!A&&!tu(g)&&!tu(j))return!1;if(A&&tu(j))continue;A=!1,g=j|1&g}}return tu(g)||A}function tu(s){return 0==(1&s)}function xp(s,a,c,g){if(null===a)return-1;let m=0;if(g||!c){let E=!1;for(;m<a.length;){const A=a[m];if(A===s)return m;if(3===A||6===A)E=!0;else{if(1===A||2===A){let k=a[++m];for(;"string"==typeof k;)k=a[++m];continue}if(4===A)break;if(0===A){m+=4;continue}}m+=E?1:2}return-1}return function ai(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const g=s[c];if("number"==typeof g)return-1;if(g===a)return c;c++}return-1}(a,s)}function Gh(s,a,c=!1){for(let g=0;g<a.length;g++)if(G_(s,a[g],c))return!0;return!1}function iy(s,a){e:for(let c=0;c<a.length;c++){const g=a[c];if(s.length===g.length){for(let m=0;m<s.length;m++)if(s[m]!==g[m])continue e;return!0}}return!1}function Vf(s,a){return s?":not("+a.trim()+")":a}function $f(s){let a=s[0],c=1,g=2,m="",E=!1;for(;c<s.length;){let A=s[c];if("string"==typeof A)if(2&g){const k=s[++c];m+="["+A+(k.length>0?'="'+k+'"':"")+"]"}else 8&g?m+="."+A:4&g&&(m+=" "+A);else""!==m&&!tu(A)&&(a+=Vf(E,m),m=""),g=A,E=E||!tu(g);c++}return""!==m&&(a+=Vf(E,m)),a}const ui={};function Hf(s){Gf(W(),B(),Vr()+s,!1)}function Gf(s,a,c,g){if(!g)if(3==(3&a[2])){const E=s.preOrderCheckHooks;null!==E&&U(a,E,c)}else{const E=s.preOrderHooks;null!==E&&ee(a,E,0,c)}Po(c)}function Y_(s,a=null,c=null,g){const m=pa(s,a,c,g);return m.resolveInjectorInitializers(),m}function pa(s,a=null,c=null,g,m=new Set){const E=[c||$e,Bs(s)];return g=g||("object"==typeof s?void 0:_e(s)),new Pg(E,a||Qc(),g||null,m)}let Dd=(()=>{class s{static create(c,g){if(Array.isArray(c))return Y_({name:""},g,c,"");{const m=c.name??"";return Y_({name:m},c.parent,c.providers,m)}}}return s.THROW_IF_NOT_FOUND=jn,s.NULL=new fa,s.\u0275prov=wn({token:s,providedIn:"any",factory:()=>on(Uh)}),s.__NG_ELEMENT_ID__=-1,s})();function ch(s,a=yn.Default){const c=B();return null===c?on(s,a):Cs(gt(),c,Ne(s),a)}function jf(){throw new Error("invalid")}function Q_(s,a){const c=s.contentQueries;if(null!==c)for(let g=0;g<c.length;g+=2){const E=c[g+1];if(-1!==E){const A=s.data[E];yl(c[g]),A.contentQueries(2,a[E],E)}}}function jg(s,a,c,g,m,E,A,k,j,X,le){const Re=a.blueprint.slice();return Re[0]=m,Re[2]=76|g,(null!==le||s&&1024&s[2])&&(Re[2]|=1024),ms(Re),Re[3]=Re[15]=s,Re[8]=c,Re[10]=A||s&&s[10],Re[11]=k||s&&s[11],Re[12]=j||s&&s[12]||null,Re[9]=X||s&&s[9]||null,Re[6]=E,Re[20]=function Sa(){return Tc++}(),Re[21]=le,Re[16]=2==a.type?s[16]:Re,Re}function zh(s,a,c,g,m){let E=s.data[a];if(null===E)E=qh(s,a,c,g,m),function ld(){return nr.lFrame.inI18n}()&&(E.flags|=32);else if(64&E.type){E.type=c,E.value=g,E.attrs=m;const A=zi();E.injectorIndex=null===A?-1:A.injectorIndex}return Qi(E,!0),E}function qh(s,a,c,g,m){const E=$n(),A=oa(),j=s.data[a]=function nd(s,a,c,g,m,E){return{type:c,index:g,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?E:E&&E.parent,c,a,g,m);return null===s.firstChild&&(s.firstChild=j),null!==E&&(A?null==E.child&&null!==j.parent&&(E.child=j):null===E.next&&(E.next=j)),j}function Kh(s,a,c,g){if(0===c)return-1;const m=a.length;for(let E=0;E<c;E++)a.push(g),s.blueprint.push(g),s.data.push(null);return m}function Km(s,a,c){su(a);try{const g=s.viewQuery;null!==g&&Yg(1,g,c);const m=s.template;null!==m&&Fp(s,a,m,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Q_(s,a),s.staticViewQueries&&Yg(2,s.viewQuery,c);const E=s.components;null!==E&&function X_(s,a){for(let c=0;c<a.length;c++)$p(s,a[c])}(a,E)}catch(g){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),g}finally{a[2]&=-5,kr()}}function kp(s,a,c,g){const m=a[2];if(128!=(128&m)){su(a);try{ms(a),function eo(s){return nr.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Fp(s,a,c,2,g);const A=3==(3&m);if(A){const X=s.preOrderCheckHooks;null!==X&&U(a,X,null)}else{const X=s.preOrderHooks;null!==X&&ee(a,X,0,null),H(a,0)}if(function hu(s){for(let a=Mt(s);null!==a;a=Jt(a)){if(!a[2])continue;const c=a[9];for(let g=0;g<c.length;g++){const m=c[g];512&m[2]||co(m[3],1),m[2]|=512}}}(a),function Vp(s){for(let a=Mt(s);null!==a;a=Jt(a))for(let c=10;c<a.length;c++){const g=a[c],m=g[1];sa(g)&&kp(m,g,m.template,g[8])}}(a),null!==s.contentQueries&&Q_(s,a),A){const X=s.contentCheckHooks;null!==X&&U(a,X)}else{const X=s.contentHooks;null!==X&&ee(a,X,1),H(a,1)}!function qm(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let g=0;g<c.length;g++){const m=c[g];if(m<0)Po(~m);else{const E=m,A=c[++g],k=c[++g];_u(A,E),k(2,a[E])}}}finally{Po(-1)}}(s,a);const k=s.components;null!==k&&function dy(s,a){for(let c=0;c<a.length;c++)Pl(s,a[c])}(a,k);const j=s.viewQuery;if(null!==j&&Yg(2,j,g),A){const X=s.viewCheckHooks;null!==X&&U(a,X)}else{const X=s.viewHooks;null!==X&&ee(a,X,2),H(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,co(a[3],-1))}finally{kr()}}}function Fp(s,a,c,g,m){const E=Vr(),A=2&g;try{Po(-1),A&&a.length>22&&Gf(s,a,22,!1),c(g,m)}finally{Po(E)}}function Qo(s,a,c){if(Je(a)){const m=a.directiveEnd;for(let E=a.directiveStart;E<m;E++){const A=s.data[E];A.contentQueries&&A.contentQueries(1,c[E],E)}}}function dh(s,a,c){Gs()&&(function Sd(s,a,c,g){const m=c.directiveStart,E=c.directiveEnd;Pe(c)&&function iv(s,a,c){const g=qn(a,s),m=ev(c),E=s[10],A=hc(s,jg(s,m,null,c.onPush?32:16,g,a,E,E.createRenderer(g,c),null,null,null));s[a.index]=A}(a,c,s.data[m+c.componentOffset]),s.firstCreatePass||no(c,a),Ia(g,a);const A=c.initialInputs;for(let k=m;k<E;k++){const j=s.data[k],X=Ba(a,s,k,c);Ia(X,a),null!==A&&_h(0,k-m,X,j,0,A),ji(j)&&(Wi(c.index,a)[8]=Ba(a,s,k,c))}}(s,a,c,qn(c,a)),64==(64&c.flags)&&gh(s,a,c))}function Wg(s,a,c=qn){const g=a.localNames;if(null!==g){let m=a.index+1;for(let E=0;E<g.length;E+=2){const A=g[E+1],k=-1===A?c(a,s):s[A];s[m++]=k}}}function ev(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Zm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Zm(s,a,c,g,m,E,A,k,j,X){const le=22+g,Re=le+m,Xe=function tv(s,a){const c=[];for(let g=0;g<a;g++)c.push(g<s?null:ui);return c}(le,Re),Tt="function"==typeof X?X():X;return Xe[1]={type:s,blueprint:Xe,template:c,queries:null,viewQuery:k,declTNode:a,data:Xe.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:j,consts:Tt,incompleteFirstPass:!1}}function zg(s,a,c,g){const m=Jg(a);null===c?m.push(g):(m.push(c),s.firstCreatePass&&Xm(s).push(g,m.length-1))}function Si(s,a,c,g){for(let m in s)if(s.hasOwnProperty(m)){c=null===c?{}:c;const E=s[m];null===g?Lp(c,a,m,E):g.hasOwnProperty(m)&&Lp(c,a,g[m],E)}return c}function Lp(s,a,c,g){s.hasOwnProperty(c)?s[c].push(a,g):s[c]=[a,g]}function hl(s,a,c,g,m,E,A,k){const j=qn(a,c);let le,X=a.inputs;!k&&null!=X&&(le=X[g])?(Gp(s,c,le,g,m),Pe(a)&&Es(c,a.index)):3&a.type&&(g=function qg(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(g),m=null!=A?A(m,a.value||"",g):m,E.setProperty(j,g,m))}function Es(s,a){const c=Wi(a,s);16&c[2]||(c[2]|=32)}function fh(s,a,c,g){let m=!1;if(Gs()){const E=null===g?null:{"":-1},A=function Jm(s,a){const c=s.directiveRegistry;let g=null,m=null;if(c)for(let E=0;E<c.length;E++){const A=c[E];if(Gh(a,A.selectors,!1))if(g||(g=[]),ji(A))if(null!==A.findHostDirectiveDefs){const k=[];m=m||new Map,A.findHostDirectiveDefs(A,k,m),g.unshift(...k,A),Bp(s,a,k.length)}else g.unshift(A),Bp(s,a,0);else m=m||new Map,A.findHostDirectiveDefs?.(A,g,m),g.push(A)}return null===g?null:[g,m]}(s,c);let k,j;null===A?k=j=null:[k,j]=A,null!==k&&(m=!0,Ym(s,a,c,k,E,j)),E&&function Up(s,a,c){if(a){const g=s.localNames=[];for(let m=0;m<a.length;m+=2){const E=c[a[m+1]];if(null==E)throw new Ze(-301,!1);g.push(a[m],E)}}}(c,g,E)}return c.mergedAttrs=xs(c.mergedAttrs,c.attrs),m}function Ym(s,a,c,g,m,E){for(let X=0;X<g.length;X++)La(no(c,a),s,g[X].type);!function rv(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,g.length);for(let X=0;X<g.length;X++){const le=g[X];le.providersResolver&&le.providersResolver(le)}let A=!1,k=!1,j=Kh(s,a,g.length,null);for(let X=0;X<g.length;X++){const le=g[X];c.mergedAttrs=xs(c.mergedAttrs,le.hostAttrs),fy(s,c,a,j,le),Qm(j,le,m),null!==le.contentQueries&&(c.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(c.flags|=64);const Re=le.type.prototype;!A&&(Re.ngOnChanges||Re.ngOnInit||Re.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),A=!0),!k&&(Re.ngOnChanges||Re.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),k=!0),j++}!function zs(s,a,c){const m=a.directiveEnd,E=s.data,A=a.attrs,k=[];let j=null,X=null;for(let le=a.directiveStart;le<m;le++){const Re=E[le],Xe=c?c.get(Re):null,tn=Xe?Xe.outputs:null;j=Si(Re.inputs,le,j,Xe?Xe.inputs:null),X=Si(Re.outputs,le,X,tn);const Rn=null===j||null===A||Ug(a)?null:vh(j,le,A);k.push(Rn)}null!==j&&(j.hasOwnProperty("class")&&(a.flags|=8),j.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=k,a.inputs=j,a.outputs=X}(s,c,E)}function gh(s,a,c){const g=c.directiveStart,m=c.directiveEnd,E=c.index,A=function ua(){return nr.lFrame.currentDirectiveIndex}();try{Po(E);for(let k=g;k<m;k++){const j=s.data[k],X=a[k];wa(k),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&dc(j,X)}}finally{Po(-1),wa(A)}}function dc(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Bp(s,a,c){a.componentOffset=c,(s.components||(s.components=[])).push(a.index)}function Qm(s,a,c){if(c){if(a.exportAs)for(let g=0;g<a.exportAs.length;g++)c[a.exportAs[g]]=s;ji(a)&&(c[""]=s)}}function fy(s,a,c,g,m){s.data[g]=m;const E=m.factory||(m.factory=Ti(m.type)),A=new zt(E,ji(m),ch);s.blueprint[g]=A,c[g]=A,function Kg(s,a,c,g,m){const E=m.hostBindings;if(E){let A=s.hostBindingOpCodes;null===A&&(A=s.hostBindingOpCodes=[]);const k=~a.index;(function ph(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(A)!=k&&A.push(k),A.push(c,g,E)}}(s,a,g,Kh(s,c,m.hostVars,ui),m)}function mh(s,a,c,g,m,E,A){if(null==E)s.removeAttribute(a,m,c);else{const k=null==A?it(E):A(E,g||"",m);s.setAttribute(a,m,k,c)}}function _h(s,a,c,g,m,E){const A=E[a];if(null!==A){const k=g.setInput;for(let j=0;j<A.length;){const X=A[j++],le=A[j++],Re=A[j++];null!==k?g.setInput(c,Re,X,le):c[le]=Re}}}function vh(s,a,c){let g=null,m=0;for(;m<c.length;){const E=c[m];if(0!==E)if(5!==E){if("number"==typeof E)break;if(s.hasOwnProperty(E)){null===g&&(g=[]);const A=s[E];for(let k=0;k<A.length;k+=2)if(A[k]===a){g.push(E,A[k+1],c[m+1]);break}}m+=2}else m+=2;else m+=4}return g}function Zh(s,a,c,g){return[s,!0,!1,a,null,0,g,c,null,null]}function Pl(s,a){const c=Wi(a,s);if(sa(c)){const g=c[1];48&c[2]?kp(g,c,g.template,c[8]):c[5]>0&&Zg(c)}}function Zg(s){for(let g=Mt(s);null!==g;g=Jt(g))for(let m=10;m<g.length;m++){const E=g[m];if(sa(E))if(512&E[2]){const A=E[1];kp(A,E,A.template,E[8])}else E[5]>0&&Zg(E)}const c=s[1].components;if(null!==c)for(let g=0;g<c.length;g++){const m=Wi(c[g],s);sa(m)&&m[5]>0&&Zg(m)}}function $p(s,a){const c=Wi(a,s),g=c[1];(function Yh(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(g,c),Km(g,c,c[8])}function hc(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Hp(s){for(;s;){s[2]|=32;const a=Yt(s);if(na(s)&&!a)return s;s=a}return null}function Jh(s,a,c,g=!0){const m=a[10];m.begin&&m.begin();try{kp(s,a,s.template,c)}catch(A){throw g&&yh(a,A),A}finally{m.end&&m.end()}}function Yg(s,a,c){yl(0),a(s,c)}function Jg(s){return s[7]||(s[7]=[])}function Xm(s){return s.cleanup||(s.cleanup=[])}function yh(s,a){const c=s[9],g=c?c.get(bd,null):null;g&&g.handleError(a)}function Gp(s,a,c,g,m){for(let E=0;E<c.length;){const A=c[E++],k=c[E++],j=a[A],X=s.data[A];null!==X.setInput?X.setInput(j,m,g,k):j[k]=m}}function fc(s,a,c){const g=Ki(a,s);Oh(s[11],g,c)}function Qg(s,a,c){let g=c?s.styles:null,m=c?s.classes:null,E=0;if(null!==a)for(let A=0;A<a.length;A++){const k=a[A];"number"==typeof k?E=k:1==E?m=Ee(m,k):2==E&&(g=Ee(g,k+": "+a[++A]+";"))}c?s.styles=g:s.stylesWithoutHost=g,c?s.classes=m:s.classesWithoutHost=m}function Wf(s,a,c,g,m=!1){for(;null!==c;){const E=a[c.index];if(null!==E&&g.push(ci(E)),us(E))for(let k=10;k<E.length;k++){const j=E[k],X=j[1].firstChild;null!==X&&Wf(j[1],j,X,g)}const A=c.type;if(8&A)Wf(s,a,c.child,g);else if(32&A){const k=sn(c,a);let j;for(;j=k();)g.push(j)}else if(16&A){const k=fp(a,c);if(Array.isArray(k))g.push(...k);else{const j=Yt(a[16]);Wf(j[1],j,k,g,!0)}}c=m?c.projectionNext:c.next}return g}class kl{get rootNodes(){const a=this._lView,c=a[1];return Wf(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(us(a)){const c=a[8],g=c?c.indexOf(this):-1;g>-1&&(zd(a,g),J(c,g))}this._attachedToViewContainer=!1}Cg(this._lView[1],this._lView)}onDestroy(a){zg(this._lView[1],this._lView,null,a)}markForCheck(){Hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Jh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ph(s,a){Hu(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=a}}class py extends kl{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Jh(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class e_ extends xl{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Jr(a);return new ef(c,this.ngModule)}}function Xh(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class Wp{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,g){g=Wn(g);const m=this.injector.get(a,vo,g);return m!==vo||c===vo?m:this.parentInjector.get(a,c,g)}}class ef extends Lf{get inputs(){return Xh(this.componentDef.inputs)}get outputs(){return Xh(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Td(s){return s.map($f).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,g,m){let E=(m=m||this.ngModule)instanceof xa?m:m?.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const A=E?new Wp(a,E):a,k=A.get(oh,null);if(null===k)throw new Ze(407,!1);const j=A.get(Sp,null),X=k.createRenderer(null,this.componentDef),le=this.componentDef.selectors[0][0]||"div",Re=g?function hy(s,a,c){return s.selectRootElement(a,c===Kt.ShadowDom)}(X,g,this.componentDef.encapsulation):Wd(X,le,function jp(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(le)),Xe=this.componentDef.onPush?288:272,Tt=Zm(0,null,null,1,0,null,null,null,null,null),tn=jg(null,Tt,null,Xe,null,null,k,X,j,A,null);let Rn,Yn;su(tn);try{const Tr=this.componentDef;let ei,bn=null;Tr.findHostDirectiveDefs?(ei=[],bn=new Map,Tr.findHostDirectiveDefs(Tr,ei,bn),ei.push(Tr)):ei=[Tr];const ki=function t_(s,a){const c=s[1];return s[22]=a,zh(c,22,2,"#host",null)}(tn,Re),va=function em(s,a,c,g,m,E,A,k){const j=m[1];!function tm(s,a,c,g){for(const m of s)a.mergedAttrs=xs(a.mergedAttrs,m.hostAttrs);null!==a.mergedAttrs&&(Qg(a,a.mergedAttrs,!0),null!==c&&Ic(g,c,a))}(g,s,a,A);const X=E.createRenderer(a,c),le=jg(m,ev(c),null,c.onPush?32:16,m[s.index],s,E,X,k||null,null,null);return j.firstCreatePass&&Bp(j,s,g.length-1),hc(m,le),m[s.index]=le}(ki,Re,Tr,ei,tn,k,X);Yn=Oo(Tt,22),Re&&function Eh(s,a,c,g){if(g)Ho(s,c,["ng-version",H_.full]);else{const{attrs:m,classes:E}=function Mp(s){const a=[],c=[];let g=1,m=2;for(;g<s.length;){let E=s[g];if("string"==typeof E)2===m?""!==E&&a.push(E,s[++g]):8===m&&c.push(E);else{if(!tu(m))break;m=E}g++}return{attrs:a,classes:c}}(a.selectors[0]);m&&Ho(s,c,m),E&&E.length>0&&Zd(s,c,E.join(" "))}}(X,Tr,Re,g),void 0!==c&&function Id(s,a,c){const g=s.projection=[];for(let m=0;m<a.length;m++){const E=c[m];g.push(null!=E?Array.from(E):null)}}(Yn,this.ngContentSelectors,c),Rn=function av(s,a,c,g,m,E){const A=gt(),k=m[1],j=qn(A,m);Ym(k,m,A,c,null,g);for(let le=0;le<c.length;le++)Ia(Ba(m,k,A.directiveStart+le,A),m);gh(k,m,A),j&&Ia(j,m);const X=Ba(m,k,A.directiveStart+A.componentOffset,A);if(s[8]=m[8]=X,null!==E)for(const le of E)le(X,a);return Qo(k,A,s),X}(va,Tr,ei,bn,tn,[nm]),Km(Tt,tn,null)}finally{kr()}return new Xg(this.componentType,Rn,Hh(Yn,tn),tn,Yn)}}class Xg extends Dp{constructor(a,c,g,m,E){super(),this.location=g,this._rootLView=m,this._tNode=E,this.instance=c,this.hostView=this.changeDetectorRef=new py(m),this.componentType=a}setInput(a,c){const g=this._tNode.inputs;let m;if(null!==g&&(m=g[a])){const E=this._rootLView;Gp(E[1],E,m,a,c),Es(E,this._tNode.index)}}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function nm(){const s=gt();di(B()[1],s)}function rm(s){let a=function Ad(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const g=[s];for(;a;){let m;if(ji(s))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ze(903,!1);m=a.\u0275dir}if(m){if(c){g.push(m);const A=s;A.inputs=im(s.inputs),A.declaredInputs=im(s.declaredInputs),A.outputs=im(s.outputs);const k=m.hostBindings;k&&gy(s,k);const j=m.viewQuery,X=m.contentQueries;if(j&&xd(s,j),X&&uv(s,X),Ie(s.inputs,m.inputs),Ie(s.declaredInputs,m.declaredInputs),Ie(s.outputs,m.outputs),ji(m)&&m.data.animation){const le=s.data;le.animation=(le.animation||[]).concat(m.data.animation)}}const E=m.features;if(E)for(let A=0;A<E.length;A++){const k=E[A];k&&k.ngInherit&&k(s),k===rm&&(c=!1)}}a=Object.getPrototypeOf(a)}!function zf(s){let a=0,c=null;for(let g=s.length-1;g>=0;g--){const m=s[g];m.hostVars=a+=m.hostVars,m.hostAttrs=xs(m.hostAttrs,c=xs(c,m.hostAttrs))}}(g)}function im(s){return s===Dn?{}:s===$e?[]:s}function xd(s,a){const c=s.viewQuery;s.viewQuery=c?(g,m)=>{a(g,m),c(g,m)}:a}function uv(s,a){const c=s.contentQueries;s.contentQueries=c?(g,m,E)=>{a(g,m,E),c(g,m,E)}:a}function gy(s,a){const c=s.hostBindings;s.hostBindings=c?(g,m)=>{a(g,m),c(g,m)}:a}let rd=null;function Fl(){if(!rd){const s=St.Symbol;if(s&&s.iterator)rd=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const g=a[c];"entries"!==g&&"size"!==g&&Map.prototype[g]===Map.prototype.entries&&(rd=g)}}}return rd}function tf(s){return!!u_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Fl()in s)}function u_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function pc(s,a,c){return s[a]=c}function Ku(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function ma(s,a,c,g){const m=Ku(s,a,c);return Ku(s,a+1,g)||m}function zp(s,a,c,g){const m=B();return Ku(m,_s(),a)&&(W(),function Kl(s,a,c,g,m,E){const A=qn(s,a);mh(a[11],A,E,s.value,c,g,m)}(Xi(),m,s,a,c,g)),zp}function id(s,a,c,g){return Ku(s,_s(),c)?a+it(c)+g:ui}function Md(s,a,c,g,m,E){const k=ma(s,Ts(),c,m);return ba(2),k?a+it(c)+g+it(m)+E:ui}function Pc(s,a,c,g,m,E,A,k){const j=B(),X=W(),le=s+22,Re=X.firstCreatePass?function gv(s,a,c,g,m,E,A,k,j){const X=a.consts,le=zh(a,s,4,A||null,To(X,k));fh(a,c,le,To(X,j)),di(a,le);const Re=le.tViews=Zm(2,le,g,m,E,a.directiveRegistry,a.pipeRegistry,null,a.schemas,X);return null!==a.queries&&(a.queries.template(a,le),Re.queries=a.queries.embeddedTView(le)),le}(le,X,j,a,c,g,m,E,A):X.data[le];Qi(Re,!1);const Xe=j[11].createComment("");zc(X,j,Xe,Re),Ia(Xe,j),hc(j,j[le]=Zh(Xe,j,Xe,Re)),Bl(Re)&&dh(X,j,Re),null!=A&&Wg(j,Re,k)}function am(s){return gs(function cs(){return nr.lFrame.contextLView}(),22+s)}function Jf(s,a,c){const g=B();return Ku(g,_s(),a)&&hl(W(),Xi(),g,s,a,g[11],c,!1),Jf}function Zp(s,a,c,g,m){const A=m?"class":"style";Gp(s,c,a.inputs[A],A,g)}function Yp(s,a,c,g){const m=B(),E=W(),A=22+s,k=m[11],j=m[A]=Wd(k,a,function ec(){return nr.lFrame.currentNamespace}()),X=E.firstCreatePass?function mv(s,a,c,g,m,E,A){const k=a.consts,X=zh(a,s,2,m,To(k,E));return fh(a,c,X,To(k,A)),null!==X.attrs&&Qg(X,X.attrs,!1),null!==X.mergedAttrs&&Qg(X,X.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,X),X}(A,E,m,0,a,c,g):E.data[A];return Qi(X,!0),Ic(k,j,X),32!=(32&X.flags)&&zc(E,m,j,X),0===function mu(){return nr.lFrame.elementDepthCount}()&&Ia(j,m),function tl(){nr.lFrame.elementDepthCount++}(),Bl(X)&&(dh(E,m,X),Qo(E,X,m)),null!==g&&Wg(m,X),Yp}function um(){let s=gt();oa()?As():(s=s.parent,Qi(s,!1));const a=s;!function qa(){nr.lFrame.elementDepthCount--}();const c=W();return c.firstCreatePass&&(di(c,s),Je(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ri(s){return 0!=(8&s.flags)}(a)&&Zp(c,a,B(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Zi(s){return 0!=(16&s.flags)}(a)&&Zp(c,a,B(),a.stylesWithoutHost,!1),um}function Yl(s,a,c,g){return Yp(s,a,c,g),um(),Yl}function Qf(s,a,c){const g=B(),m=W(),E=s+22,A=m.firstCreatePass?function _v(s,a,c,g,m){const E=a.consts,A=To(E,g),k=zh(a,s,8,"ng-container",A);return null!==A&&Qg(k,A,!0),fh(a,c,k,To(E,m)),null!==a.queries&&a.queries.elementStart(a,k),k}(E,m,g,a,c):m.data[E];Qi(A,!0);const k=g[E]=g[11].createComment("");return zc(m,g,k,A),Ia(k,g),Bl(A)&&(dh(m,g,A),Qo(m,A,g)),null!=c&&Wg(g,A),Qf}function Jp(){let s=gt();const a=W();return oa()?As():(s=s.parent,Qi(s,!1)),a.firstCreatePass&&(di(a,s),Je(s)&&a.queries.elementEnd(s)),Jp}function Qp(){return B()}function Xf(s){return!!s&&"function"==typeof s.then}function ep(s){return!!s&&"function"==typeof s.subscribe}const f=ep;function v(s,a,c,g){const m=B(),E=W(),A=gt();return function ne(s,a,c,g,m,E,A){const k=Bl(g),X=s.firstCreatePass&&Xm(s),le=a[8],Re=Jg(a);let Xe=!0;if(3&g.type||A){const Rn=qn(g,a),Yn=A?A(Rn):Rn,Tr=Re.length,ei=A?ki=>A(ci(ki[g.index])):g.index;let bn=null;if(!A&&k&&(bn=function q(s,a,c,g){const m=s.cleanup;if(null!=m)for(let E=0;E<m.length-1;E+=2){const A=m[E];if(A===c&&m[E+1]===g){const k=a[7],j=m[E+2];return k.length>j?k[j]:null}"string"==typeof A&&(E+=2)}return null}(s,a,m,g.index)),null!==bn)(bn.__ngLastListenerFn__||bn).__ngNextListenerFn__=E,bn.__ngLastListenerFn__=E,Xe=!1;else{E=Ve(g,a,le,E,!1);const ki=c.listen(Yn,m,E);Re.push(E,ki),X&&X.push(m,ei,Tr,Tr+1)}}else E=Ve(g,a,le,E,!1);const Tt=g.outputs;let tn;if(Xe&&null!==Tt&&(tn=Tt[m])){const Rn=tn.length;if(Rn)for(let Yn=0;Yn<Rn;Yn+=2){const va=a[tn[Yn]][tn[Yn+1]].subscribe(E),xu=Re.length;Re.push(E,va),X&&X.push(m,g.index,xu,-(xu+1))}}}(E,m,m[11],A,s,a,g),v}function ye(s,a,c,g){try{return!1!==c(g)}catch(m){return yh(s,m),!1}}function Ve(s,a,c,g,m){return function E(A){if(A===Function)return g;Hp(s.componentOffset>-1?Wi(s.index,a):a);let j=ye(a,0,g,A),X=E.__ngNextListenerFn__;for(;X;)j=ye(a,0,X,A)&&j,X=X.__ngNextListenerFn__;return m&&!1===j&&(A.preventDefault(),A.returnValue=!1),j}}function qe(s=1){return function Mi(s){return(nr.lFrame.contextLView=function Ps(s,a){for(;s>0;)a=a[15],s--;return a}(s,nr.lFrame.contextLView))[8]}(s)}function pt(s,a){let c=null;const g=function j_(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(s);for(let m=0;m<a.length;m++){const E=a[m];if("*"!==E){if(null===g?Gh(s,E,!0):iy(g,E))return m}else c=m}return c}function ln(s){const a=B()[16][6];if(!a.projection){const g=a.projection=ie(s?s.length:1,null),m=g.slice();let E=a.child;for(;null!==E;){const A=s?pt(E,s):0;null!==A&&(m[A]?m[A].projectionNext=E:g[A]=E,m[A]=E),E=E.next}}}function cn(s,a=0,c){const g=B(),m=W(),E=zh(m,22+s,16,null,c||null);null===E.projection&&(E.projection=a),As(),32!=(32&E.flags)&&function oc(s,a,c){Dg(a[11],0,a,c,rs(s,c,a),Mm(c.parent||a[6],c,a))}(m,g,E)}function gn(s,a,c){return Vn(s,"",a,"",c),gn}function Vn(s,a,c,g,m){const E=B(),A=id(E,a,c,g);return A!==ui&&hl(W(),Xi(),E,s,A,E[11],m,!1),Vn}function Ju(s,a){return s<<17|a<<2}function Ds(s){return s>>17&32767}function tp(s){return 2|s}function Rd(s){return(131068&s)>>2}function np(s,a){return-131069&s|a<<2}function lm(s){return 1|s}function O0(s,a,c,g,m){const E=s[c+1],A=null===a;let k=g?Ds(E):Rd(E),j=!1;for(;0!==k&&(!1===j||A);){const le=s[k+1];vv(s[k],a)&&(j=!0,s[k+1]=g?lm(le):tp(le)),k=g?Ds(le):Rd(le)}j&&(s[c+1]=g?tp(E):lm(E))}function vv(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Vi(s,a)>=0}const fu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function d_(s){return s.substring(fu.key,fu.keyEnd)}function h_(s,a){const c=fu.textEnd;return c===a?-1:(a=fu.keyEnd=function KE(s,a,c){for(;a<c&&s.charCodeAt(a)>32;)a++;return a}(s,fu.key=a,c),eg(s,a,c))}function eg(s,a,c){for(;a<c&&s.charCodeAt(a)<=32;)a++;return a}function f_(s,a,c){return Pd(s,a,c,!1),f_}function rp(s,a){return Pd(s,a,null,!0),rp}function JE(s){pl(xn,sd,s,!0)}function sd(s,a){for(let c=function by(s){return function Xp(s){fu.key=0,fu.keyEnd=0,fu.value=0,fu.valueEnd=0,fu.textEnd=s.length}(s),h_(s,eg(s,0,fu.textEnd))}(a);c>=0;c=h_(a,c))xn(s,d_(a),!0)}function Pd(s,a,c,g){const m=B(),E=W(),A=ba(2);E.firstUpdatePass&&yv(E,s,A,g),a!==ui&&Ku(m,A,a)&&Ev(E,E.data[Vr()],m,m[11],s,m[A+1]=function Dy(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=_e(Zo(s)))),s}(a,c),g,A)}function pl(s,a,c,g){const m=W(),E=ba(2);m.firstUpdatePass&&yv(m,null,E,g);const A=B();if(c!==ui&&Ku(A,E,c)){const k=m.data[Vr()];if(eb(k,g)&&!hm(m,E)){let j=g?k.classesWithoutHost:k.stylesWithoutHost;null!==j&&(c=Ee(j,c||"")),Zp(m,k,A,c,g)}else!function XE(s,a,c,g,m,E,A,k){m===ui&&(m=$e);let j=0,X=0,le=0<m.length?m[0]:null,Re=0<E.length?E[0]:null;for(;null!==le||null!==Re;){const Xe=j<m.length?m[j+1]:void 0,Tt=X<E.length?E[X+1]:void 0;let Rn,tn=null;le===Re?(j+=2,X+=2,Xe!==Tt&&(tn=Re,Rn=Tt)):null===Re||null!==le&&le<Re?(j+=2,tn=le):(X+=2,tn=Re,Rn=Tt),null!==tn&&Ev(s,a,c,g,tn,Rn,A,k),le=j<m.length?m[j]:null,Re=X<E.length?E[X]:null}}(m,k,A,A[11],A[E+1],A[E+1]=function pm(s,a,c){if(null==c||""===c)return $e;const g=[],m=Zo(c);if(Array.isArray(m))for(let E=0;E<m.length;E++)s(g,m[E],!0);else if("object"==typeof m)for(const E in m)m.hasOwnProperty(E)&&s(g,E,m[E]);else"string"==typeof m&&a(g,m);return g}(s,a,c),g,E)}}function hm(s,a){return a>=s.expandoStartIndex}function yv(s,a,c,g){const m=s.data;if(null===m[c+1]){const E=m[Vr()],A=hm(s,c);eb(E,g)&&null===a&&!A&&(a=!1),a=function tg(s,a,c,g){const m=function rl(s){const a=nr.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let E=g?a.residualClasses:a.residualStyles;if(null===m)0===(g?a.classBindings:a.styleBindings)&&(c=fm(c=sf(null,s,a,c,g),a.attrs,g),E=null);else{const A=a.directiveStylingLast;if(-1===A||s[A]!==m)if(c=sf(m,s,a,c,g),null===E){let j=function ip(s,a,c){const g=c?a.classBindings:a.styleBindings;if(0!==Rd(g))return s[Ds(g)]}(s,a,g);void 0!==j&&Array.isArray(j)&&(j=sf(null,s,a,j[1],g),j=fm(j,a.attrs,g),function R0(s,a,c,g){s[Ds(c?a.classBindings:a.styleBindings)]=g}(s,a,g,j))}else E=function ng(s,a,c){let g;const m=a.directiveEnd;for(let E=1+a.directiveStylingLast;E<m;E++)g=fm(g,s[E].hostAttrs,c);return fm(g,a.attrs,c)}(s,a,g)}return void 0!==E&&(g?a.residualClasses=E:a.residualStyles=E),c}(m,E,a,g),function rf(s,a,c,g,m,E){let A=E?a.classBindings:a.styleBindings,k=Ds(A),j=Rd(A);s[g]=c;let le,X=!1;if(Array.isArray(c)?(le=c[1],(null===le||Vi(c,le)>0)&&(X=!0)):le=c,m)if(0!==j){const Xe=Ds(s[k+1]);s[g+1]=Ju(Xe,k),0!==Xe&&(s[Xe+1]=np(s[Xe+1],g)),s[k+1]=function fl(s,a){return 131071&s|a<<17}(s[k+1],g)}else s[g+1]=Ju(k,0),0!==k&&(s[k+1]=np(s[k+1],g)),k=g;else s[g+1]=Ju(j,0),0===k?k=g:s[j+1]=np(s[j+1],g),j=g;X&&(s[g+1]=tp(s[g+1])),O0(s,le,g,!0),O0(s,le,g,!1),function N0(s,a,c,g,m){const E=m?s.residualClasses:s.residualStyles;null!=E&&"string"==typeof a&&Vi(E,a)>=0&&(c[g+1]=lm(c[g+1]))}(a,le,s,g,E),A=Ju(k,j),E?a.classBindings=A:a.styleBindings=A}(m,E,a,c,A,g)}}function sf(s,a,c,g,m){let E=null;const A=c.directiveEnd;let k=c.directiveStylingLast;for(-1===k?k=c.directiveStart:k++;k<A&&(E=a[k],g=fm(g,E.hostAttrs,m),E!==s);)k++;return null!==s&&(c.directiveStylingLast=k),g}function fm(s,a,c){const g=c?1:2;let m=-1;if(null!==a)for(let E=0;E<a.length;E++){const A=a[E];"number"==typeof A?m=A:m===g&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),xn(s,A,!!c||a[++E]))}return void 0===s?null:s}function Ev(s,a,c,g,m,E,A,k){if(!(3&a.type))return;const j=s.data,X=j[k+1],le=function Ey(s){return 1==(1&s)}(X)?bv(j,a,c,m,Rd(X),A):void 0;gm(le)||(gm(E)||function nu(s){return 2==(2&s)}(X)&&(E=bv(j,null,c,m,k,A)),function Sc(s,a,c,g,m){if(a)m?s.addClass(c,g):s.removeClass(c,g);else{let E=-1===g.indexOf("-")?void 0:Dl.DashCase;null==m?s.removeStyle(c,g,E):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),E|=Dl.Important),s.setStyle(c,g,m,E))}}(g,A,Ki(Vr(),c),m,E))}function bv(s,a,c,g,m,E){const A=null===a;let k;for(;m>0;){const j=s[m],X=Array.isArray(j),le=X?j[1]:j,Re=null===le;let Xe=c[m+1];Xe===ui&&(Xe=Re?$e:void 0);let Tt=Re?Hr(Xe,g):le===g?Xe:void 0;if(X&&!gm(Tt)&&(Tt=Hr(j,g)),gm(Tt)&&(k=Tt,A))return k;const tn=s[m+1];m=A?Ds(tn):Rd(tn)}if(null!==a){let j=E?a.residualClasses:a.residualStyles;null!=j&&(k=Hr(j,g))}return k}function gm(s){return void 0!==s}function eb(s,a){return 0!=(s.flags&(a?8:16))}function P0(s,a=""){const c=B(),g=W(),m=s+22,E=g.firstCreatePass?zh(g,m,1,a,null):g.data[m],A=c[m]=gd(c[11],a);zc(g,c,A,E),Qi(E,!1)}function wv(s){return mm("",s,""),wv}function mm(s,a,c){const g=B(),m=id(g,s,a,c);return m!==ui&&fc(g,Vr(),m),mm}function Sy(s,a,c,g,m){const E=B(),A=Md(E,s,a,c,g,m);return A!==ui&&fc(E,Vr(),A),Sy}function Tv(s,a,c,g,m){pl(xn,sd,Md(B(),s,a,c,g,m),!0)}function u(s,a,c){const g=B();return Ku(g,_s(),a)&&hl(W(),Xi(),g,s,a,g[11],c,!0),u}const y=void 0;var P=["en",[["a","p"],["AM","PM"],y],[["AM","PM"],y,y],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],y,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],y,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",y,"{1} 'at' {0}",y],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function T(s){const c=Math.floor(Math.abs(s)),g=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===g?1:5}];let K={};function oe(s){const a=function or(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Vt(a);if(c)return c;const g=a.split("-")[0];if(c=Vt(g),c)return c;if("en"===g)return P;throw new Ze(701,!1)}function et(s){return oe(s)[Rt.PluralCase]}function Vt(s){return s in K||(K[s]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[s]),K[s]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const zn=["zero","one","two","few","many"],ar="en-US",Xo={marker:"element"},Su={marker:"ICU"};var Js=(()=>((Js=Js||{})[Js.SHIFT=2]="SHIFT",Js[Js.APPEND_EAGERLY=1]="APPEND_EAGERLY",Js[Js.COMMENT=2]="COMMENT",Js))();let kc=ar;function wr(s){(function En(s,a){null==s&&dn(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(kc=s.toLowerCase().replace(/_/g,"-"))}function so(s,a,c){const g=a.insertBeforeIndex,m=Array.isArray(g)?g[0]:g;return null===m?Gc(s,0,c):ci(c[m])}function Ll(s,a,c,g,m){const E=a.insertBeforeIndex;if(Array.isArray(E)){let A=g,k=null;if(3&a.type||(k=A,A=m),null!==A&&-1===a.componentOffset)for(let j=1;j<E.length;j++)Ws(s,A,c[E[j]],k,!1)}}function sp(s,a){if(s.push(a),s.length>1)for(let c=s.length-2;c>=0;c--){const g=s[c];kd(g)||uf(g,a)&&null===Fd(g)&&od(g,a.index)}}function kd(s){return!(64&s.type)}function uf(s,a){return kd(a)||s.index>a.index}function Fd(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function od(s,a){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=a:(ll(so,Ll),s.insertBeforeIndex=a)}function vm(s,a){const c=s.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function Qw(s,a,c){const g=qh(s,c,64,null,null);return sp(a,g),g}function By(s,a){const c=a[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function ub(s){return s>>>17}function xv(s){return(131070&s)>>>1}let Iu=0,ad=0;function cb(s,a,c,g){const m=c[11];let A,E=null;for(let k=0;k<a.length;k++){const j=a[k];if("string"==typeof j){const X=a[++k];null===c[X]&&(c[X]=gd(m,j))}else if("number"==typeof j)switch(1&j){case 0:const X=ub(j);let le,Re;if(null===E&&(E=X,A=Df(m,g)),X===E?(le=g,Re=A):(le=null,Re=ci(c[X])),null!==Re){const Rn=xv(j);Ws(m,Re,c[Rn],le,!1);const Tr=vm(s,Rn);if(null!==Tr&&"object"==typeof Tr){const ei=By(Tr,c);null!==ei&&cb(s,Tr.create[ei],c,c[Tr.anchorIdx])}}break;case 1:const Tt=a[++k],tn=a[++k];mh(m,Ki(j>>>1,c),null,null,Tt,tn,null)}else switch(j){case Su:const X=a[++k],le=a[++k];null===c[le]&&Ia(c[le]=bu(m,X),c);break;case Xo:const Re=a[++k],Xe=a[++k];null===c[Xe]&&Ia(c[Xe]=Wd(m,Re,null),c)}}}function H0(s,a,c,g,m){for(let E=0;E<c.length;E++){const A=c[E],k=c[++E];if(A&m){let j="";for(let X=E+1;X<=E+k;X++){const le=c[X];if("string"==typeof le)j+=le;else if("number"==typeof le)if(le<0)j+=it(a[g-le]);else{const Re=le>>>2;switch(3&le){case 1:const Xe=c[++X],Tt=c[++X],tn=s.data[Re];"string"==typeof tn?mh(a[11],a[Re],null,tn,Xe,j,Tt):hl(s,tn,a,Xe,j,a[11],Tt,!1);break;case 0:const Rn=a[Re];null!==Rn&&Oh(a[11],Rn,j);break;case 2:G0(s,vm(s,Re),a,j);break;case 3:db(s,vm(s,Re),g,a)}}}}else{const j=c[E+1];if(j>0&&3==(3&j)){const le=vm(s,j>>>2);a[le.currentCaseLViewIndex]<0&&db(s,le,g,a)}}E+=k}}function db(s,a,c,g){let m=g[a.currentCaseLViewIndex];if(null!==m){let E=Iu;m<0&&(m=g[a.currentCaseLViewIndex]=~m,E=-1),H0(s,g,a.update[m],c,E)}}function G0(s,a,c,g){const m=function rS(s,a){let c=s.cases.indexOf(a);if(-1===c)switch(s.type){case 1:{const g=function sr(s,a){const c=et(a)(parseInt(s,10)),g=zn[c];return void 0!==g?g:"other"}(a,function Ma(){return kc}());c=s.cases.indexOf(g),-1===c&&"other"!==g&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(a,g);if(By(a,c)!==m&&(eT(s,a,c),c[a.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const A=c[a.anchorIdx];A&&cb(s,a.create[m],c,A)}}function eT(s,a,c){let g=By(a,c);if(null!==g){const m=a.remove[g];for(let E=0;E<m.length;E++){const A=m[E];if(A>0){const k=Ki(A,c);null!==k&&pp(c[11],k)}else eT(s,vm(s,~A),c)}}}function JC(){const s=[];let c,g,a=-1;function E(k,j){a=0;const X=By(k,j);g=null!==X?k.remove[X]:$e}function A(){if(a<g.length){const k=g[a++];return k>0?c[k]:(s.push(a,g),E(c[1].data[~k],c),A())}return 0===s.length?null:(g=s.pop(),a=s.pop(),A())}return function m(k,j){for(c=j;s.length;)s.pop();return E(k.value,j),A}}const Mv=/\ufffd(\d+):?\d*\ufffd/gi,fb=/\ufffd(\d+)\ufffd/,j0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,W0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,pb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,nT=/\uE500/g;function mb(s,a,c,g,m,E,A){const k=Kh(s,g,1,null);let j=k<<Js.SHIFT,X=zi();a===X&&(X=null),null===X&&(j|=Js.APPEND_EAGERLY),A&&(j|=Js.COMMENT,function Ut(s){void 0===dt&&(dt=s())}(JC)),m.push(j,null===E?"":E);const le=qh(s,k,A?32:1,null===E?"":E,null);sp(c,le);const Re=le.index;return Qi(le,!1),null!==X&&a!==X&&function Is(s,a){let c=s.insertBeforeIndex;null===c?(ll(so,Ll),c=s.insertBeforeIndex=[null,a]):(function jt(s,a,c){s!=a&&dn(c,s,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(X,Re),le}function Nv(s,a,c,g,m,E,A){const k=A.match(Mv),j=mb(s,a,c,E,g,k?null:A,!1);k&&Uy(m,A,j.index,null,0,null)}function Uy(s,a,c,g,m,E){const A=s.length,k=A+1;s.push(null,null);const j=A+2,X=a.split(Mv);let le=0;for(let Re=0;Re<X.length;Re++){const Xe=X[Re];if(1&Re){const Tt=m+parseInt(Xe,10);s.push(-1-Tt),le|=iT(Tt)}else""!==Xe&&s.push(Xe)}return s.push(c<<2|(g?1:0)),g&&s.push(g,E),s[A]=le,s[k]=s.length-j,le}function iT(s){return 1<<Math.min(s,31)}function oT(s){let a,E,c="",g=0,m=!1;for(;null!==(a=W0.exec(s));)m?a[0]===`\ufffd/*${E}\ufffd`&&(g=a.index,m=!1):(c+=s.substring(g,a.index+a[0].length),E=a[1],m=!0);return c+=s.slice(g),c}function uT(s,a,c,g,m,E){let A=0;const k={type:m.type,currentCaseLViewIndex:Kh(s,a,1,null),anchorIdx:E,cases:[],create:[],remove:[],update:[]};(function Oa(s,a,c){s.push(iT(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,m,E),function V0(s,a,c){const g=s.data[a];null===g?s.data[a]=c:g.value=c}(s,E,k);const j=m.values;for(let X=0;X<j.length;X++){const le=j[X],Re=[];for(let Xe=0;Xe<le.length;Xe++){const Tt=le[Xe];if("string"!=typeof Tt){const tn=Re.push(Tt)-1;le[Xe]=`\x3c!--\ufffd${tn}\ufffd--\x3e`}}A=e1(s,k,a,c,g,m.cases[X],le.join(""),Re)|A}A&&function uS(s,a,c){s.push(a,1,c<<2|3)}(c,A,E)}function XC(s){const a=[],c=[];let g=1,m=0;const E=vb(s=s.replace(j0,function(A,k,j){return g="select"===j?0:1,m=parseInt(k.slice(1),10),""}));for(let A=0;A<E.length;){let k=E[A++].trim();1===g&&(k=k.replace(/\s*(?:=)?(\w+)\s*/,"$1")),k.length&&a.push(k);const j=vb(E[A++]);a.length>c.length&&c.push(j)}return{type:g,mainBinding:m,cases:a,values:c}}function vb(s){if(!s)return[];let a=0;const c=[],g=[],m=/[{}]/g;let E;for(m.lastIndex=0;E=m.exec(s);){const k=E.index;if("}"==E[0]){if(c.pop(),0==c.length){const j=s.substring(a,k);j0.test(j)?g.push(XC(j)):g.push(j),a=k+1}}else{if(0==c.length){const j=s.substring(a,k);g.push(j),a=k+1}c.push("{")}}const A=s.substring(a);return g.push(A),g}function e1(s,a,c,g,m,E,A,k){const j=[],X=[],le=[];a.cases.push(E),a.create.push(j),a.remove.push(X),a.update.push(le);const Xe=function Af(s){const a=new Om(s);return function _p(){try{return!!(new window.DOMParser).parseFromString(qc(""),"text/html")}catch{return!1}}()?new Qd(a):a}(function Sf(){return void 0!==xc?xc:typeof document<"u"?document:void 0}()).getInertBodyElement(A),Tt=function Mg(s){return"content"in s&&function ey(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(Xe)||Xe;return Tt?q0(s,a,c,g,j,X,le,Tt,m,k,0):0}function q0(s,a,c,g,m,E,A,k,j,X,le){let Re=0,Xe=k.firstChild;for(;Xe;){const Tt=Kh(s,c,1,null);switch(Xe.nodeType){case Node.ELEMENT_NODE:const tn=Xe,Rn=tn.tagName.toLowerCase();if(bp.hasOwnProperty(Rn)){cT(m,Xo,Rn,j,Tt),s.data[Tt]=Rn;const bn=tn.attributes;for(let ki=0;ki<bn.length;ki++){const va=bn.item(ki),xu=va.name.toLowerCase();va.value.match(Mv)?ts.hasOwnProperty(xu)&&Uy(A,va.value,Tt,va.name,0,eh[xu]?vp:null):Au(m,Tt,va)}Re=q0(s,a,c,g,m,E,A,Xe,Tt,X,le+1)|Re,lT(E,Tt,le)}break;case Node.TEXT_NODE:const Yn=Xe.textContent||"",Tr=Yn.match(Mv);cT(m,null,Tr?"":Yn,j,Tt),lT(E,Tt,le),Tr&&(Re=Uy(A,Yn,Tt,null,0,null)|Re);break;case Node.COMMENT_NODE:const ei=fb.exec(Xe.textContent||"");if(ei){const ki=X[parseInt(ei[1],10)];cT(m,Su,"",j,Tt),uT(s,c,g,j,ki,Tt),t1(E,Tt,le)}}Xe=Xe.nextSibling}return Re}function lT(s,a,c){0===c&&s.push(a)}function t1(s,a,c){0===c&&(s.push(~a),s.push(a))}function cT(s,a,c,g,m){null!==a&&s.push(a),s.push(c,m,function Na(s,a,c){return s|a<<17|c<<1}(0,g,m))}function Au(s,a,c){s.push(a<<1|1,c.name,c.value)}function hT(s,a,c=-1){const g=W(),m=B(),E=22+s,A=To(g.consts,a),k=zi();g.firstCreatePass&&function gb(s,a,c,g,m,E){const A=zi(),k=[],j=[],X=[[]];m=function aT(s,a){if(function sT(s){return-1===s}(a))return oT(s);{const c=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,g=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return oT(s.substring(c,g))}}(m,E);const le=function z0(s){return s.replace(nT," ")}(m).split(pb);for(let Re=0;Re<le.length;Re++){let Xe=le[Re];if(1&Re){const Tt=47===Xe.charCodeAt(0),Rn=(Xe.charCodeAt(Tt?1:0),22+Number.parseInt(Xe.substring(Tt?2:1)));if(Tt)X.shift(),Qi(zi(),!1);else{const Yn=Qw(s,X[0],Rn);X.unshift([]),Qi(Yn,!0)}}else{const Tt=vb(Xe);for(let tn=0;tn<Tt.length;tn++){let Rn=Tt[tn];if(1&tn){const Yn=Rn;if("object"!=typeof Yn)throw new Error(`Unable to parse ICU expression in "${m}" message.`);uT(s,c,j,a,Yn,mb(s,A,X[0],c,k,"",!0).index)}else""!==Rn&&Nv(s,A,X[0],k,j,c,Rn)}}}s.data[g]={create:k,update:j}}(g,null===k?0:k.index,m,E,A,c);const j=g.data[E],le=es(g,k===m[6]?null:k,m);(function $0(s,a,c,g){const m=s[11];for(let E=0;E<a.length;E++){const A=a[E++],k=a[E],X=(A&Js.APPEND_EAGERLY)===Js.APPEND_EAGERLY,le=A>>>Js.SHIFT;let Re=s[le];null===Re&&(Re=s[le]=(A&Js.COMMENT)===Js.COMMENT?m.createComment(k):gd(m,k)),X&&null!==c&&Ws(m,c,Re,g,!1)}})(m,j.create,le,k&&8&k.type?m[k.index]:null),nl(!0)}function Eb(s,a,c){hT(s,a,c),function fT(){nl(!1)}()}function lf(s){return function Xw(s){s&&(Iu|=1<<Math.min(ad,31)),ad++}(Ku(B(),_s(),s)),lf}function u1(s){!function YC(s,a,c){if(ad>0){const g=s.data[c];H0(s,a,Array.isArray(g)?g:g.update,Ts()-ad-1,Iu)}Iu=0,ad=0}(W(),B(),s+22)}function bb(s,a,c,g,m){if(s=Ne(s),Array.isArray(s))for(let E=0;E<s.length;E++)bb(s[E],a,c,g,m);else{const E=W(),A=B();let k=Jc(s)?s:Ne(s.provide),j=kf(s);const X=gt(),le=1048575&X.providerIndexes,Re=X.directiveStart,Xe=X.providerIndexes>>20;if(Jc(s)||!s.multi){const Tt=new zt(j,m,ch),tn=Z0(k,a,m?le:le+Xe,Re);-1===tn?(La(no(X,A),E,k),wb(E,s,a.length),a.push(k),X.directiveStart++,X.directiveEnd++,m&&(X.providerIndexes+=1048576),c.push(Tt),A.push(Tt)):(c[tn]=Tt,A[tn]=Tt)}else{const Tt=Z0(k,a,le+Xe,Re),tn=Z0(k,a,le,le+Xe),Yn=tn>=0&&c[tn];if(m&&!Yn||!m&&!(Tt>=0&&c[Tt])){La(no(X,A),E,k);const Tr=function J0(s,a,c,g,m){const E=new zt(s,c,ch);return E.multi=[],E.index=a,E.componentProviders=0,Tb(E,m,g&&!c),E}(m?l1:Y0,c.length,m,g,j);!m&&Yn&&(c[tn].providerFactory=Tr),wb(E,s,a.length,0),a.push(k),X.directiveStart++,X.directiveEnd++,m&&(X.providerIndexes+=1048576),c.push(Tr),A.push(Tr)}else wb(E,s,Tt>-1?Tt:tn,Tb(c[m?tn:Tt],j,!m&&g));!m&&g&&Yn&&c[tn].componentProviders++}}}function wb(s,a,c,g){const m=Jc(a),E=function Nf(s){return!!s.useClass}(a);if(m||E){const j=(E?Ne(a.useClass):a).prototype.ngOnDestroy;if(j){const X=s.destroyHooks||(s.destroyHooks=[]);if(!m&&a.multi){const le=X.indexOf(c);-1===le?X.push(c,[g,j]):X[le+1].push(g,j)}else X.push(c,j)}}}function Tb(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function Z0(s,a,c,g){for(let m=c;m<g;m++)if(a[m]===s)return m;return-1}function Y0(s,a,c,g){return ig(this.multi,[])}function l1(s,a,c,g){const m=this.multi;let E;if(this.providerFactory){const A=this.providerFactory.componentProviders,k=Ba(c,c[1],this.providerFactory.index,g);E=k.slice(0,A),ig(m,E);for(let j=A;j<k.length;j++)E.push(k[j])}else E=[],ig(m,E);return E}function ig(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function Ov(s,a=[]){return c=>{c.providersResolver=(g,m)=>function K0(s,a,c){const g=W();if(g.firstCreatePass){const m=ji(s);bb(c,g.data,g.blueprint,m,!0),bb(a,g.data,g.blueprint,m,!1)}}(g,m?m(s):s,a)}}class m_{}class Q0{}function c1(s,a){return new pT(s,a??null)}class pT extends m_{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new e_(this);const g=xi(a);this._bootstrapComponents=ju(g.bootstrap),this._r3Injector=pa(a,c,[{provide:m_,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],_e(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Vy extends Q0{constructor(a){super(),this.moduleType=a}create(a){return new pT(this.moduleType,a)}}class Cb extends m_{constructor(a,c,g){super(),this.componentFactoryResolver=new e_(this),this.instance=null;const m=new Pg([...a,{provide:m_,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],c||Qc(),g,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function X0(s,a,c=null){return new Cb(s,a,c).injector}let __=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const g=Fm(0,c.type),m=g.length>0?X0([g],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,m)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=wn({token:s,providedIn:"environment",factory:()=>new s(on(xa))}),s})();function Db(s){s.getStandaloneInjector=a=>a.get(__).getOrCreateStandaloneInjector(s)}function p1(s,a,c,g){return vT(B(),qi(),s,a,c,g)}function oE(s,a,c,g,m){return yT(B(),qi(),s,a,c,g,m)}function _T(s,a,c,g,m,E){return function Sb(s,a,c,g,m,E,A,k){const j=a+c;return function qf(s,a,c,g,m){const E=ma(s,a,c,g);return Ku(s,a+2,m)||E}(s,j,m,E,A)?pc(s,j+3,k?g.call(k,m,E,A):g(m,E,A)):Em(s,j+3)}(B(),qi(),s,a,c,g,m,E)}function Em(s,a){const c=s[a];return c===ui?void 0:c}function vT(s,a,c,g,m,E){const A=a+c;return Ku(s,A,m)?pc(s,A+1,E?g.call(E,m):g(m)):Em(s,A+1)}function yT(s,a,c,g,m,E,A){const k=a+c;return ma(s,k,m,E)?pc(s,k+2,A?g.call(A,m,E):g(m,E)):Em(s,k+2)}function xb(s,a){const c=W();let g;const m=s+22;c.firstCreatePass?(g=function ET(s,a){if(a)for(let c=a.length-1;c>=0;c--){const g=a[c];if(s===g.name)return g}}(a,c.pipeRegistry),c.data[m]=g,g.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(m,g.onDestroy)):g=c.data[m];const E=g.factory||(g.factory=Ti(g.type)),A=Ii(ch);try{const k=ka(!1),j=E();return ka(k),function Yf(s,a,c,g){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=g}(c,B(),m,j),j}finally{Ii(A)}}function lE(s,a,c){const g=s+22,m=B(),E=gs(m,g);return og(m,g)?vT(m,qi(),a,E.transform,c,E):E.transform(c)}function Wy(s,a,c,g){const m=s+22,E=B(),A=gs(E,m);return og(E,m)?yT(E,qi(),a,A.transform,c,g,A):A.transform(c,g)}function og(s,a){return s[1].data[a].pure}function Mb(s){return a=>{setTimeout(s,void 0,a)}}const cf=class bm extends w.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,g){let m=a,E=c||(()=>null),A=g;if(a&&"object"==typeof a){const j=a;m=j.next?.bind(j),E=j.error?.bind(j),A=j.complete?.bind(j)}this.__isAsync&&(E=Mb(E),m&&(m=Mb(m)),A&&(A=Mb(A)));const k=super.subscribe({next:m,error:E,complete:A});return a instanceof M.w0&&a.add(k),k}};function b1(){return this._results[Fl()]()}class ap{get changes(){return this._changes||(this._changes=new cf)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Fl(),g=ap.prototype;g[c]||(g[c]=b1)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const g=this;g.dirty=!1;const m=function R(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function x(s,a,c){if(s.length!==a.length)return!1;for(let g=0;g<s.length;g++){let m=s[g],E=a[g];if(c&&(m=c(m),E=c(E)),E!==m)return!1}return!0}(g._results,m,c))&&(g._results=m,g.length=m.length,g.last=m[this.length-1],g.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zy=(()=>{class s{}return s.__NG_ELEMENT_ID__=C1,s})();const w1=zy,T1=class extends w1{constructor(a,c,g){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=g}createEmbeddedView(a,c){const g=this._declarationTContainer.tViews,m=jg(this._declarationLView,g,a,16,null,g.declTNode,null,null,null,null,c||null);m[17]=this._declarationLView[this._declarationTContainer.index];const A=this._declarationLView[19];return null!==A&&(m[19]=A.createEmbeddedView(g)),Km(g,m,a),new kl(m)}};function C1(){return cE(gt(),B())}function cE(s,a){return 4&s.type?new T1(a,s,Hh(s,a)):null}let qy=(()=>{class s{}return s.__NG_ELEMENT_ID__=bT,s})();function bT(){return y_(gt(),B())}const D1=qy,wT=class extends D1{constructor(a,c,g){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=g}get element(){return Hh(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const a=ho(this._hostTNode,this._hostLView);if(il(a)){const c=au(a,this._hostLView),g=vu(a);return new po(c[1].data[g+8],c)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Nb(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,g){let m,E;"number"==typeof g?m=g:null!=g&&(m=g.index,E=g.injector);const A=a.createEmbeddedView(c||{},E);return this.insert(A,m),A}createComponent(a,c,g,m,E){const A=a&&!function io(s){return"function"==typeof s}(a);let k;if(A)k=c;else{const Re=c||{};k=Re.index,g=Re.injector,m=Re.projectableNodes,E=Re.environmentInjector||Re.ngModuleRef}const j=A?a:new ef(Jr(a)),X=g||this.parentInjector;if(!E&&null==j.ngModule){const Xe=(A?X:this.parentInjector).get(xa,null);Xe&&(E=Xe)}const le=j.create(X,m,void 0,E);return this.insert(le.hostView,k),le}insert(a,c){const g=a._lView,m=g[1];if(function _l(s){return us(s[3])}(g)){const le=this.indexOf(a);if(-1!==le)this.detach(le);else{const Re=g[3],Xe=new wT(Re,Re[6],Re[3]);Xe.detach(Xe.indexOf(a))}}const E=this._adjustIndex(c),A=this._lContainer;!function Tg(s,a,c,g){const m=10+g,E=c.length;g>0&&(c[m-1][4]=a),g<E-10?(a[4]=c[m],V(c,10+g,a)):(c.push(a),a[4]=null),a[3]=c;const A=a[17];null!==A&&c!==A&&function eu(s,a){const c=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===c?s[9]=[a]:c.push(a)}(A,a);const k=a[19];null!==k&&k.insertView(s),a[2]|=64}(m,g,A,E);const k=sc(E,A),j=g[11],X=Df(j,A[7]);return null!==X&&function Rh(s,a,c,g,m,E){g[0]=m,g[6]=a,Hu(s,g,c,1,m,E)}(m,A[6],j,g,X,k),a.attachToViewContainerRef(),V(Ob(A),E,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Nb(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),g=zd(this._lContainer,c);g&&(J(Ob(this._lContainer),c),Cg(g[1],g))}detach(a){const c=this._adjustIndex(a,-1),g=zd(this._lContainer,c);return g&&null!=J(Ob(this._lContainer),c)?new kl(g):null}_adjustIndex(a,c=0){return a??this.length+c}};function Nb(s){return s[8]}function Ob(s){return s[8]||(s[8]=[])}function y_(s,a){let c;const g=a[s.index];if(us(g))c=g;else{let m;if(8&s.type)m=ci(g);else{const E=a[11];m=E.createComment("");const A=qn(s,a);Ws(E,Df(E,A),m,function _d(s,a){return s.nextSibling(a)}(E,A),!1)}a[s.index]=c=Zh(g,a,m,s),hc(a,c)}return new wT(c,s,a)}class Ky{constructor(a){this.queryList=a,this.matches=null}clone(){return new Ky(this.queryList)}setDirty(){this.queryList.setDirty()}}class TT{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const g=null!==a.contentQueries?a.contentQueries[0]:c.length,m=[];for(let E=0;E<g;E++){const A=c.getByIndex(E);m.push(this.queries[A.indexInDeclarationView].clone())}return new TT(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Fb(a,c).matches&&this.queries[c].setDirty()}}class S1{constructor(a,c,g=null){this.predicate=a,this.flags=c,this.read=g}}class Rb{constructor(a=[]){this.queries=a}elementStart(a,c){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let g=0;g<this.length;g++){const m=null!==c?c.length:0,E=this.getByIndex(g).embeddedTView(a,m);E&&(E.indexInDeclarationView=g,null!==c?c.push(E):c=[E])}return null!==c?new Rb(c):null}template(a,c){for(let g=0;g<this.queries.length;g++)this.queries[g].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class dE{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new dE(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let g=a.parent;for(;null!==g&&8&g.type&&g.index!==c;)g=g.parent;return c===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const g=this.metadata.predicate;if(Array.isArray(g))for(let m=0;m<g.length;m++){const E=g[m];this.matchTNodeWithReadOption(a,c,wm(c,E)),this.matchTNodeWithReadOption(a,c,Ka(c,a,E,!1,!1))}else g===zy?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Ka(c,a,g,!1,!1))}matchTNodeWithReadOption(a,c,g){if(null!==g){const m=this.metadata.read;if(null!==m)if(m===Du||m===qy||m===zy&&4&c.type)this.addMatch(c.index,-2);else{const E=Ka(c,a,m,!1,!1);null!==E&&this.addMatch(c.index,E)}else this.addMatch(c.index,g)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function wm(s,a){const c=s.localNames;if(null!==c)for(let g=0;g<c.length;g+=2)if(c[g]===a)return c[g+1];return null}function A1(s,a,c,g){return-1===c?function I1(s,a){return 11&s.type?Hh(s,a):4&s.type?cE(s,a):null}(a,s):-2===c?function x1(s,a,c){return c===Du?Hh(a,s):c===zy?cE(a,s):c===qy?y_(a,s):void 0}(s,a,g):Ba(s,s[1],c,a)}function CT(s,a,c,g){const m=a[19].queries[g];if(null===m.matches){const E=s.data,A=c.matches,k=[];for(let j=0;j<A.length;j+=2){const X=A[j];k.push(X<0?null:A1(a,E[X],A[j+1],c.metadata.read))}m.matches=k}return m.matches}function Pb(s,a,c,g){const m=s.queries.getByIndex(c),E=m.matches;if(null!==E){const A=CT(s,a,m,c);for(let k=0;k<E.length;k+=2){const j=E[k];if(j>0)g.push(A[k/2]);else{const X=E[k+1],le=a[-j];for(let Re=10;Re<le.length;Re++){const Xe=le[Re];Xe[17]===Xe[3]&&Pb(Xe[1],Xe,X,g)}if(null!==le[9]){const Re=le[9];for(let Xe=0;Xe<Re.length;Xe++){const Tt=Re[Xe];Pb(Tt[1],Tt,X,g)}}}}}return g}function DT(s){const a=B(),c=W(),g=Pu();yl(g+1);const m=Fb(c,g);if(s.dirty&&function Zs(s){return 4==(4&s[2])}(a)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const E=m.crossesNgTemplate?Pb(c,a,g,[]):CT(c,a,m,g);s.reset(E,kg),s.notifyOnChanges()}return!0}return!1}function ST(s,a,c){const g=W();g.firstCreatePass&&(xT(g,new S1(s,a,c),-1),2==(2&a)&&(g.staticViewQueries=!0)),AT(g,B(),a)}function M1(s,a,c,g){const m=W();if(m.firstCreatePass){const E=gt();xT(m,new S1(a,c,g),E.index),function kb(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(m,s),2==(2&c)&&(m.staticContentQueries=!0)}AT(m,B(),c)}function N1(){return function IT(s,a){return s[19].queries[a].queryList}(B(),Pu())}function AT(s,a,c){const g=new ap(4==(4&c));zg(s,a,g,g.destroy),null===a[19]&&(a[19]=new TT),a[19].queries.push(new Ky(g))}function xT(s,a,c){null===s.queries&&(s.queries=new Rb),s.queries.track(new dE(a,c))}function Fb(s,a){return s.queries.getByIndex(a)}function Lb(s,a){return cE(s,a)}function gE(...s){}const Kb=new yi("Application Initializer");let mE=(()=>{class s{constructor(c){this.appInits=c,this.resolve=gE,this.reject=gE,this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,m)=>{this.resolve=g,this.reject=m})}runInitializers(){if(this.initialized)return;const c=[],g=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const E=this.appInits[m]();if(Xf(E))c.push(E);else if(f(E)){const A=new Promise((k,j)=>{E.subscribe({complete:k,error:j})});c.push(A)}}Promise.all(c).then(()=>{g()}).catch(m=>{this.reject(m)}),0===c.length&&g(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(on(Kb,8))},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const GT=new yi("AppId",{providedIn:"root",factory:function jT(){return`${df()}${df()}${df()}`}});function df(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const V1=new yi("Platform Initializer"),$1=new yi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zT=new yi("appBootstrapListener");let G1=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const w_=new yi("LocaleId",{providedIn:"root",factory:()=>Tn(w_,yn.Optional|yn.SkipSelf)||function j1(){return typeof $localize<"u"&&$localize.locale||ar}()}),W1=new yi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Zb{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let qT=(()=>{class s{compileModuleSync(c){return new Vy(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const g=this.compileModuleSync(c),E=ju(xi(c).declarations).reduce((A,k)=>{const j=Jr(k);return j&&A.push(new ef(j)),A},[]);return new Zb(g,E)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const q1=(()=>Promise.resolve(0))();function vE(s){typeof Zone>"u"?q1.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ch{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cf(!1),this.onMicrotaskEmpty=new cf(!1),this.onStable=new cf(!1),this.onError=new cf(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!g&&c,m.shouldCoalesceRunChangeDetection=g,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function JT(){let s=St.requestAnimationFrame,a=St.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Z1(s){const a=()=>{!function QT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(St,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,dg(s),s.isCheckStableRunning=!0,yE(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),dg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,g,m,E,A,k)=>{try{return Yb(s),c.invokeTask(m,E,A,k)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||s.shouldCoalesceRunChangeDetection)&&a(),XT(s)}},onInvoke:(c,g,m,E,A,k,j)=>{try{return Yb(s),c.invoke(m,E,A,k,j)}finally{s.shouldCoalesceRunChangeDetection&&a(),XT(s)}},onHasTask:(c,g,m,E)=>{c.hasTask(m,E),g===m&&("microTask"==E.change?(s._hasPendingMicrotasks=E.microTask,dg(s),yE(s)):"macroTask"==E.change&&(s.hasPendingMacrotasks=E.macroTask))},onHandleError:(c,g,m,E)=>(c.handleError(m,E),s.runOutsideAngular(()=>s.onError.emit(E)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ch.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Ch.isInAngularZone())throw new Ze(909,!1)}run(a,c,g){return this._inner.run(a,c,g)}runTask(a,c,g,m){const E=this._inner,A=E.scheduleEventTask("NgZoneEvent: "+m,a,K1,gE,gE);try{return E.runTask(A,c,g)}finally{E.cancelTask(A)}}runGuarded(a,c,g){return this._inner.runGuarded(a,c,g)}runOutsideAngular(a){return this._outer.run(a)}}const K1={};function yE(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function dg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Yb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function XT(s){s._nesting--,yE(s)}class e0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cf,this.onMicrotaskEmpty=new cf,this.onStable=new cf,this.onError=new cf}run(a,c,g){return a.apply(c,g)}runGuarded(a,c,g){return a.apply(c,g)}runOutsideAngular(a){return a()}runTask(a,c,g,m){return a.apply(c,g)}}const eC=new yi(""),_a=new yi("");let Jb,Y1=(()=>{class s{constructor(c,g,m){this._ngZone=c,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jb||(function Bn(s){Jb=s}(m),m.addToWindow(g)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ch.assertNotInAngularZone(),vE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vE(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(c)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,g,m){let E=-1;g&&g>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==E),c(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:c,timeoutId:E,updateCb:m})}whenStable(c,g,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,g,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,g,m){return[]}}return s.\u0275fac=function(c){return new(c||s)(on(Ch),on(tC),on(_a))},s.\u0275prov=wn({token:s,factory:s.\u0275fac}),s})(),tC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,g){this._applications.set(c,g)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,g=!0){return Jb?.findTestabilityInTree(this,c,g)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),hf=null;const Qb=new yi("PlatformDestroyListeners");class Bc{constructor(a,c){this.name=a,this.token=c}}function Lv(s){const{rootComponent:a,appProviders:c,platformProviders:g}=s,m=function Fv(s=[]){if(hf)return hf;const a=function T_(s=[],a){return Dd.create({name:a,providers:[{provide:Of,useValue:"platform"},{provide:Qb,useValue:new Set([()=>hf=null])},...s]})}(s);return hf=a,function Dm(s){const a=s.get(V1,null);a&&a.forEach(c=>c())}(a),a}(g),E=function tw(s,a){let c;return c="noop"===s?new e0:("zone.js"===s?void 0:s)||new Ch(a),c}("zone.js",function ew(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}());return E.run(()=>{const k=X0([{provide:Ch,useValue:E},...c||[]],m,"Environment Injector"),j=k.get(bd,null);let X;E.runOutsideAngular(()=>{X=E.onError.subscribe({next:Xe=>{j.handleError(Xe)}})});const le=()=>k.destroy(),Re=m.get(Qb);return Re.add(le),k.onDestroy(()=>{X.unsubscribe(),Re.delete(le)}),function nw(s,a,c){try{const g=c();return Xf(g)?g.catch(m=>{throw a.runOutsideAngular(()=>s.handleError(m)),m}):g}catch(g){throw a.runOutsideAngular(()=>s.handleError(g)),g}}(j,E,()=>{const Xe=k.get(mE);return Xe.runInitializers(),Xe.donePromise.then(()=>{wr(k.get(w_,ar)||ar);const tn=k.get(n0);return void 0!==a&&tn.bootstrap(a),tn})})})}let n0=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,g,m){this._zone=c,this._injector=g,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new l.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),A=new l.y(k=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{Ch.assertNotInAngularZone(),vE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const X=this._zone.onUnstable.subscribe(()=>{Ch.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{j.unsubscribe(),X.unsubscribe()}});this.isStable=(0,pe.T)(E,A.pipe((0,me.B)()))}bootstrap(c,g){const m=c instanceof Lf;if(!this._injector.get(mE).done)throw!m&&wi(c),new Ze(405,false);let A;A=m?c:this._injector.get(xl).resolveComponentFactory(c),this.componentTypes.push(A.componentType);const k=function Ld(s){return s.isBoundToModule}(A)?void 0:this._injector.get(m_),X=A.create(Dd.NULL,[],g||A.selector,k),le=X.location.nativeElement,Re=X.injector.get(eC,null);return Re?.registerApplication(le),X.onDestroy(()=>{this.detachView(X.hostView),r0(this.components,X),Re?.unregisterApplication(le)}),this._loadComponent(X),X}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const g=c;this._views.push(g),g.attachToAppRef(this)}detachView(c){const g=c;r0(this._views,g),g.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const g=this._injector.get(zT,[]);g.push(...this._bootstrapListeners),g.forEach(m=>m(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>r0(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ze(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(on(Ch),on(xa),on(bd))},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function r0(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}function rC(){return!1}function iC(){}let sw=(()=>{class s{}return s.__NG_ELEMENT_ID__=Sm,s})();function Sm(s){return function C_(s,a,c){if(Pe(s)&&!c){const g=Wi(s.index,a);return new kl(g,g)}return 47&s.type?new kl(a[16],a):null}(gt(),B(),16==(16&s))}class lw{constructor(){}supports(a){return tf(a)}create(a){return new rD(a)}}const nD=(s,a)=>a;class rD{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||nD}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,g=this._removalsHead,m=0,E=null;for(;c||g;){const A=!g||c&&c.currentIndex<hw(g,m,E)?c:g,k=hw(A,m,E),j=A.currentIndex;if(A===g)m--,g=g._nextRemoved;else if(c=c._next,null==A.previousIndex)m++;else{E||(E=[]);const X=k-m,le=j-m;if(X!=le){for(let Xe=0;Xe<X;Xe++){const Tt=Xe<E.length?E[Xe]:E[Xe]=0,tn=Tt+Xe;le<=tn&&tn<X&&(E[Xe]=Tt+1)}E[A.previousIndex]=le-X}}k!==j&&a(A,k,j)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!tf(a))throw new Ze(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,E,A,c=this._itHead,g=!1;if(Array.isArray(a)){this.length=a.length;for(let k=0;k<this.length;k++)E=a[k],A=this._trackByFn(k,E),null!==c&&Object.is(c.trackById,A)?(g&&(c=this._verifyReinsertion(c,E,A,k)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,A,k),g=!0),c=c._next}else m=0,function a_(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Fl()]();let g;for(;!(g=c.next()).done;)a(g.value)}}(a,k=>{A=this._trackByFn(m,k),null!==c&&Object.is(c.trackById,A)?(g&&(c=this._verifyReinsertion(c,k,A,m)),Object.is(c.item,k)||this._addIdentityChange(c,k)):(c=this._mismatch(c,k,A,m),g=!0),c=c._next,m++}),this.length=m;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,g,m){let E;return null===a?E=this._itTail:(E=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,E,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(g,m))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,E,m)):a=this._addAfter(new Vv(c,g),E,m),a}_verifyReinsertion(a,c,g,m){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==E?a=this._reinsertAfter(E,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,E=a._nextRemoved;return null===m?this._removalsHead=E:m._nextRemoved=E,null===E?this._removalsTail=m:E._prevRemoved=m,this._insertAfter(a,c,g),this._addToMoves(a,g),a}_moveAfter(a,c,g){return this._unlink(a),this._insertAfter(a,c,g),this._addToMoves(a,g),a}_addAfter(a,c,g){return this._insertAfter(a,c,g),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,g){const m=null===c?this._itHead:c._next;return a._next=m,a._prev=c,null===m?this._itTail=a:m._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new dw),this._linkedRecords.put(a),a.currentIndex=g,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,g=a._next;return null===c?this._itHead=g:c._next=g,null===g?this._itTail=c:g._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dw),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Vv{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cw{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===c||c<=g.currentIndex)&&Object.is(g.trackById,a))return g;return null}remove(a){const c=a._prevDup,g=a._nextDup;return null===c?this._head=g:c._nextDup=g,null===g?this._tail=c:g._prevDup=c,null===this._head}}class dw{constructor(){this.map=new Map}put(a){const c=a.trackById;let g=this.map.get(c);g||(g=new cw,this.map.set(c,g)),g.add(a)}get(a,c){const m=this.map.get(a);return m?m.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hw(s,a,c){const g=s.previousIndex;if(null===g)return g;let m=0;return c&&g<c.length&&(m=c[g]),g+a+m}class fw{constructor(){}supports(a){return a instanceof Map||u_(a)}create(){return new uC}}class uC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||u_(a)))throw new Ze(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(g,m)=>{if(c&&c.key===m)this._maybeAddToChanges(c,g),this._appendAfter=c,c=c._next;else{const E=this._getOrCreateRecordForKey(m,g);c=this._insertBeforeOrAppend(c,E)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let g=c;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const g=a._prev;return c._next=a,c._prev=g,a._prev=c,g&&(g._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,c);const E=m._prev,A=m._next;return E&&(E._next=A),A&&(A._prev=E),m._next=null,m._prev=null,m}const g=new $v(a);return this._records.set(a,g),g.currentValue=c,this._addToAdditions(g),g}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(g=>c(a[g],g))}}class $v{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lC(){return new pw([new lw])}let pw=(()=>{class s{constructor(c){this.factories=c}static create(c,g){if(null!=g){const m=g.factories.slice();c=c.concat(m)}return new s(c)}static extend(c){return{provide:s,useFactory:g=>s.create(c,g||lC()),deps:[[s,new nn,new tt]]}}find(c){const g=this.factories.find(m=>m.supports(c));if(null!=g)return g;throw new Ze(901,!1)}}return s.\u0275prov=wn({token:s,providedIn:"root",factory:lC}),s})();function SE(){return new gw([new fw])}let gw=(()=>{class s{constructor(c){this.factories=c}static create(c,g){if(g){const m=g.factories.slice();c=c.concat(m)}return new s(c)}static extend(c){return{provide:s,useFactory:g=>s.create(c,g||SE()),deps:[[s,new nn,new tt]]}}find(c){const g=this.factories.find(m=>m.supports(c));if(g)return g;throw new Ze(901,!1)}}return s.\u0275prov=wn({token:s,providedIn:"root",factory:SE}),s})();function sD(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function LS(s,a){const c=Jr(s),g=a.elementInjector||Qc();return new ef(c).create(g,a.projectableNodes,a.hostElement,a.environmentInjector)}},433:(He,be,L)=>{"use strict";L.d(be,{Fj:()=>ct,qu:()=>mu,NI:()=>Li,u:()=>Vl,cw:()=>ve,sg:()=>_i,u5:()=>Ru,Cf:()=>ze,JU:()=>yt,JJ:()=>qr,JL:()=>St,On:()=>Nn,YN:()=>uo,UX:()=>Ra,EJ:()=>Ou,kI:()=>Qt,_Y:()=>Cr,Kr:()=>Ea});var w=L(4650),M=L(6895),l=L(8996),pe=L(9751),me=L(4742),Me=L(8421),Ie=L(3269),_e=L(5403),Ee=L(3268),ge=L(1810),Ne=L(4004);let at=(()=>{class B{constructor(G,se){this._renderer=G,this._elementRef=se,this.onChange=gt=>{},this.onTouched=()=>{}}setProperty(G,se){this._renderer.setProperty(this._elementRef.nativeElement,G,se)}registerOnTouched(G){this.onTouched=G}registerOnChange(G){this.onChange=G}setDisabledState(G){this.setProperty("disabled",G)}}return B.\u0275fac=function(G){return new(G||B)(w.Y36(w.Qsj),w.Y36(w.SBq))},B.\u0275dir=w.lG2({type:B}),B})(),Ye=(()=>{class B extends at{}return B.\u0275fac=function(){let W;return function(se){return(W||(W=w.n5z(B)))(se||B)}}(),B.\u0275dir=w.lG2({type:B,features:[w.qOj]}),B})();const yt=new w.OlP("NgValueAccessor"),ot={provide:yt,useExisting:(0,w.Gpc)(()=>ct),multi:!0},wt=new w.OlP("CompositionEventMode");let ct=(()=>{class B extends at{constructor(G,se,gt){super(G,se),this._compositionMode=gt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function it(){const B=(0,M.q)()?(0,M.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(G){this.setProperty("value",G??"")}_handleInput(G){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(G)}_compositionStart(){this._composing=!0}_compositionEnd(G){this._composing=!1,this._compositionMode&&this.onChange(G)}}return B.\u0275fac=function(G){return new(G||B)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(wt,8))},B.\u0275dir=w.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,se){1&G&&w.NdJ("input",function($n){return se._handleInput($n.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function($n){return se._compositionEnd($n.target.value)})},features:[w._Bn([ot]),w.qOj]}),B})();function bt(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}function Bt(B){return null!=B&&"number"==typeof B.length}const ze=new w.OlP("NgValidators"),ht=new w.OlP("NgAsyncValidators"),Ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qt{static min(W){return function jt(B){return W=>{if(bt(W.value)||bt(B))return null;const G=parseFloat(W.value);return!isNaN(G)&&G<B?{min:{min:B,actual:W.value}}:null}}(W)}static max(W){return function Jn(B){return W=>{if(bt(W.value)||bt(B))return null;const G=parseFloat(W.value);return!isNaN(G)&&G>B?{max:{max:B,actual:W.value}}:null}}(W)}static required(W){return function vn(B){return bt(B.value)?{required:!0}:null}(W)}static requiredTrue(W){return function mt(B){return!0===B.value?null:{required:!0}}(W)}static email(W){return function st(B){return bt(B.value)||Ft.test(B.value)?null:{email:!0}}(W)}static minLength(W){return function Dt(B){return W=>bt(W.value)||!Bt(W.value)?null:W.value.length<B?{minlength:{requiredLength:B,actualLength:W.value.length}}:null}(W)}static maxLength(W){return function Lt(B){return W=>Bt(W.value)&&W.value.length>B?{maxlength:{requiredLength:B,actualLength:W.value.length}}:null}(W)}static pattern(W){return function Wt(B){if(!B)return qt;let W,G;return"string"==typeof B?(G="","^"!==B.charAt(0)&&(G+="^"),G+=B,"$"!==B.charAt(B.length-1)&&(G+="$"),W=new RegExp(G)):(G=B.toString(),W=B),se=>{if(bt(se.value))return null;const gt=se.value;return W.test(gt)?null:{pattern:{requiredPattern:G,actualValue:gt}}}}(W)}static nullValidator(W){return null}static compose(W){return Pr(W)}static composeAsync(W){return yr(W)}}function qt(B){return null}function En(B){return null!=B}function dn(B){return(0,w.QGY)(B)?(0,l.D)(B):B}function An(B){let W={};return B.forEach(G=>{W=null!=G?{...W,...G}:W}),0===Object.keys(W).length?null:W}function mn(B,W){return W.map(G=>G(B))}function wn(B){return B.map(W=>function Un(B){return!B.validate}(W)?W:G=>W.validate(G))}function Pr(B){if(!B)return null;const W=B.filter(En);return 0==W.length?null:function(G){return An(mn(G,W))}}function Br(B){return null!=B?Pr(wn(B)):null}function yr(B){if(!B)return null;const W=B.filter(En);return 0==W.length?null:function(G){return function we(...B){const W=(0,Ie.jO)(B),{args:G,keys:se}=(0,me.D)(B),gt=new pe.y($n=>{const{length:zi}=G;if(!zi)return void $n.complete();const Qi=new Array(zi);let oa=zi,As=zi;for(let cs=0;cs<zi;cs++){let aa=!1;(0,Me.Xf)(G[cs]).subscribe((0,_e.x)($n,Co=>{aa||(aa=!0,As--),Qi[cs]=Co},()=>oa--,void 0,()=>{(!oa||!aa)&&(As||$n.next(se?(0,ge.n)(se,Qi):Qi),$n.complete())}))}});return W?gt.pipe((0,Ee.Z)(W)):gt}(mn(G,W).map(dn)).pipe((0,Ne.U)(An))}}function dr(B){return null!=B?yr(wn(B)):null}function Qn(B,W){return null===B?[W]:Array.isArray(B)?[...B,W]:[B,W]}function Zr(B){return B._rawValidators}function Wr(B){return B._rawAsyncValidators}function br(B){return B?Array.isArray(B)?B:[B]:[]}function pi(B,W){return Array.isArray(B)?B.includes(W):B===W}function rr(B,W){const G=br(W);return br(B).forEach(gt=>{pi(G,gt)||G.push(gt)}),G}function Xn(B,W){return br(W).filter(G=>!pi(B,G))}class Yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(W){this._rawValidators=W||[],this._composedValidatorFn=Br(this._rawValidators)}_setAsyncValidators(W){this._rawAsyncValidators=W||[],this._composedAsyncValidatorFn=dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(W){this._onDestroyCallbacks.push(W)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(W=>W()),this._onDestroyCallbacks=[]}reset(W){this.control&&this.control.reset(W)}hasError(W,G){return!!this.control&&this.control.hasError(W,G)}getError(W,G){return this.control?this.control.getError(W,G):null}}class yn extends Yr{get formDirective(){return null}get path(){return null}}class Sr extends Yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fi{constructor(W){this._cd=W}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qr=(()=>{class B extends Fi{constructor(G){super(G)}}return B.\u0275fac=function(G){return new(G||B)(w.Y36(Sr,2))},B.\u0275dir=w.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,se){2&G&&w.ekj("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)},features:[w.qOj]}),B})(),St=(()=>{class B extends Fi{constructor(G){super(G)}}return B.\u0275fac=function(G){return new(G||B)(w.Y36(yn,10))},B.\u0275dir=w.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(G,se){2&G&&w.ekj("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)("ng-submitted",se.isSubmitted)},features:[w.qOj]}),B})();const Ar="VALID",Ue="INVALID",Se="PENDING",je="DISABLED";function Ce(B){return(Kt(B)?B.validators:B)||null}function Ae(B,W){return(Kt(W)?W.asyncValidators:B)||null}function Kt(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}function Dn(B,W,G){const se=B.controls;if(!(W?Object.keys(se):se).length)throw new w.vHH(1e3,"");if(!se[G])throw new w.vHH(1001,"")}function $e(B,W,G){B._forEachChild((se,gt)=>{if(void 0===G[gt])throw new w.vHH(1002,"")})}class Fe{constructor(W,G){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(W),this._assignAsyncValidators(G)}get validator(){return this._composedValidatorFn}set validator(W){this._rawValidators=this._composedValidatorFn=W}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(W){this._rawAsyncValidators=this._composedAsyncValidatorFn=W}get parent(){return this._parent}get valid(){return this.status===Ar}get invalid(){return this.status===Ue}get pending(){return this.status==Se}get disabled(){return this.status===je}get enabled(){return this.status!==je}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(W){this._assignValidators(W)}setAsyncValidators(W){this._assignAsyncValidators(W)}addValidators(W){this.setValidators(rr(W,this._rawValidators))}addAsyncValidators(W){this.setAsyncValidators(rr(W,this._rawAsyncValidators))}removeValidators(W){this.setValidators(Xn(W,this._rawValidators))}removeAsyncValidators(W){this.setAsyncValidators(Xn(W,this._rawAsyncValidators))}hasValidator(W){return pi(this._rawValidators,W)}hasAsyncValidator(W){return pi(this._rawAsyncValidators,W)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(W={}){this.touched=!0,this._parent&&!W.onlySelf&&this._parent.markAsTouched(W)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(W=>W.markAllAsTouched())}markAsUntouched(W={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(G=>{G.markAsUntouched({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}markAsDirty(W={}){this.pristine=!1,this._parent&&!W.onlySelf&&this._parent.markAsDirty(W)}markAsPristine(W={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(G=>{G.markAsPristine({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}markAsPending(W={}){this.status=Se,!1!==W.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!W.onlySelf&&this._parent.markAsPending(W)}disable(W={}){const G=this._parentMarkedDirty(W.onlySelf);this.status=je,this.errors=null,this._forEachChild(se=>{se.disable({...W,onlySelf:!0})}),this._updateValue(),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...W,skipPristineCheck:G}),this._onDisabledChange.forEach(se=>se(!0))}enable(W={}){const G=this._parentMarkedDirty(W.onlySelf);this.status=Ar,this._forEachChild(se=>{se.enable({...W,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent}),this._updateAncestors({...W,skipPristineCheck:G}),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(W){this._parent&&!W.onlySelf&&(this._parent.updateValueAndValidity(W),W.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(W){this._parent=W}getRawValue(){return this.value}updateValueAndValidity(W={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ar||this.status===Se)&&this._runAsyncValidator(W.emitEvent)),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!W.onlySelf&&this._parent.updateValueAndValidity(W)}_updateTreeValidity(W={emitEvent:!0}){this._forEachChild(G=>G._updateTreeValidity(W)),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?je:Ar}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(W){if(this.asyncValidator){this.status=Se,this._hasOwnPendingAsyncValidator=!0;const G=dn(this.asyncValidator(this));this._asyncValidationSubscription=G.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:W})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(W,G={}){this.errors=W,this._updateControlsErrors(!1!==G.emitEvent)}get(W){let G=W;return null==G||(Array.isArray(G)||(G=G.split(".")),0===G.length)?null:G.reduce((se,gt)=>se&&se._find(gt),this)}getError(W,G){const se=G?this.get(G):this;return se&&se.errors?se.errors[W]:null}hasError(W,G){return!!this.getError(W,G)}get root(){let W=this;for(;W._parent;)W=W._parent;return W}_updateControlsErrors(W){this.status=this._calculateStatus(),W&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(W)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?je:this.errors?Ue:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Se)?Se:this._anyControlsHaveStatus(Ue)?Ue:Ar}_anyControlsHaveStatus(W){return this._anyControls(G=>G.status===W)}_anyControlsDirty(){return this._anyControls(W=>W.dirty)}_anyControlsTouched(){return this._anyControls(W=>W.touched)}_updatePristine(W={}){this.pristine=!this._anyControlsDirty(),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}_updateTouched(W={}){this.touched=this._anyControlsTouched(),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}_registerOnCollectionChange(W){this._onCollectionChange=W}_setUpdateStrategy(W){Kt(W)&&null!=W.updateOn&&(this._updateOn=W.updateOn)}_parentMarkedDirty(W){return!W&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(W){return null}_assignValidators(W){this._rawValidators=Array.isArray(W)?W.slice():W,this._composedValidatorFn=function ue(B){return Array.isArray(B)?Br(B):B||null}(this._rawValidators)}_assignAsyncValidators(W){this._rawAsyncValidators=Array.isArray(W)?W.slice():W,this._composedAsyncValidatorFn=function vt(B){return Array.isArray(B)?dr(B):B||null}(this._rawAsyncValidators)}}class ve extends Fe{constructor(W,G,se){super(Ce(G),Ae(se,G)),this.controls=W,this._initObservables(),this._setUpdateStrategy(G),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(W,G){return this.controls[W]?this.controls[W]:(this.controls[W]=G,G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange),G)}addControl(W,G,se={}){this.registerControl(W,G),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(W,G={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}setControl(W,G,se={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],G&&this.registerControl(W,G),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(W){return this.controls.hasOwnProperty(W)&&this.controls[W].enabled}setValue(W,G={}){$e(this,0,W),Object.keys(W).forEach(se=>{Dn(this,!0,se),this.controls[se].setValue(W[se],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G)}patchValue(W,G={}){null!=W&&(Object.keys(W).forEach(se=>{const gt=this.controls[se];gt&&gt.patchValue(W[se],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G))}reset(W={},G={}){this._forEachChild((se,gt)=>{se.reset(W[gt],{onlySelf:!0,emitEvent:G.emitEvent})}),this._updatePristine(G),this._updateTouched(G),this.updateValueAndValidity(G)}getRawValue(){return this._reduceChildren({},(W,G,se)=>(W[se]=G.getRawValue(),W))}_syncPendingControls(){let W=this._reduceChildren(!1,(G,se)=>!!se._syncPendingControls()||G);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){Object.keys(this.controls).forEach(G=>{const se=this.controls[G];se&&W(se,G)})}_setUpControls(){this._forEachChild(W=>{W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(W){for(const[G,se]of Object.entries(this.controls))if(this.contains(G)&&W(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(G,se,gt)=>((se.enabled||this.disabled)&&(G[gt]=se.value),G))}_reduceChildren(W,G){let se=W;return this._forEachChild((gt,$n)=>{se=G(se,gt,$n)}),se}_allControlsDisabled(){for(const W of Object.keys(this.controls))if(this.controls[W].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(W){return this.controls.hasOwnProperty(W)?this.controls[W]:null}}class Xt extends ve{}const ii=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>si}),si="always";function fs(B,W){return[...W.path,B]}function Ur(B,W,G=si){bs(B,W),W.valueAccessor.writeValue(B.value),(B.disabled||"always"===G)&&W.valueAccessor.setDisabledState?.(B.disabled),function qs(B,W){W.valueAccessor.registerOnChange(G=>{B._pendingValue=G,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&mi(B,W)})}(B,W),function Ai(B,W){const G=(se,gt)=>{W.valueAccessor.writeValue(se),gt&&W.viewToModelUpdate(se)};B.registerOnChange(G),W._registerOnDestroy(()=>{B._unregisterOnChange(G)})}(B,W),function Jr(B,W){W.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&mi(B,W),"submit"!==B.updateOn&&B.markAsTouched()})}(B,W),function oo(B,W){if(W.valueAccessor.setDisabledState){const G=se=>{W.valueAccessor.setDisabledState(se)};B.registerOnDisabledChange(G),W._registerOnDestroy(()=>{B._unregisterOnDisabledChange(G)})}}(B,W)}function Hi(B,W,G=!0){const se=()=>{};W.valueAccessor&&(W.valueAccessor.registerOnChange(se),W.valueAccessor.registerOnTouched(se)),oi(B,W),B&&(W._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function Os(B,W){B.forEach(G=>{G.registerOnValidatorChange&&G.registerOnValidatorChange(W)})}function bs(B,W){const G=Zr(B);null!==W.validator?B.setValidators(Qn(G,W.validator)):"function"==typeof G&&B.setValidators([G]);const se=Wr(B);null!==W.asyncValidator?B.setAsyncValidators(Qn(se,W.asyncValidator)):"function"==typeof se&&B.setAsyncValidators([se]);const gt=()=>B.updateValueAndValidity();Os(W._rawValidators,gt),Os(W._rawAsyncValidators,gt)}function oi(B,W){let G=!1;if(null!==B){if(null!==W.validator){const gt=Zr(B);if(Array.isArray(gt)&&gt.length>0){const $n=gt.filter(zi=>zi!==W.validator);$n.length!==gt.length&&(G=!0,B.setValidators($n))}}if(null!==W.asyncValidator){const gt=Wr(B);if(Array.isArray(gt)&&gt.length>0){const $n=gt.filter(zi=>zi!==W.asyncValidator);$n.length!==gt.length&&(G=!0,B.setAsyncValidators($n))}}}const se=()=>{};return Os(W._rawValidators,se),Os(W._rawAsyncValidators,se),G}function mi(B,W){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),W.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function er(B,W){if(!B.hasOwnProperty("model"))return!1;const G=B.model;return!!G.isFirstChange()||!Object.is(W,G.currentValue)}function Er(B,W){if(!W)return null;let G,se,gt;return Array.isArray(W),W.forEach($n=>{$n.constructor===ct?G=$n:function hn(B){return Object.getPrototypeOf(B.constructor)===Ye}($n)?se=$n:gt=$n}),gt||se||G||null}function as(B,W){const G=B.indexOf(W);G>-1&&B.splice(G,1)}function ao(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const Li=class extends Fe{constructor(W=null,G,se){super(Ce(G),Ae(se,G)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(W),this._setUpdateStrategy(G),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kt(G)&&(G.nonNullable||G.initialValueIsDefault)&&(this.defaultValue=ao(W)?W.value:W)}setValue(W,G={}){this.value=this._pendingValue=W,this._onChange.length&&!1!==G.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==G.emitViewToModelChange)),this.updateValueAndValidity(G)}patchValue(W,G={}){this.setValue(W,G)}reset(W=this.defaultValue,G={}){this._applyFormState(W),this.markAsPristine(G),this.markAsUntouched(G),this.setValue(this.value,G),this._pendingChange=!1}_updateValue(){}_anyControls(W){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(W){this._onChange.push(W)}_unregisterOnChange(W){as(this._onChange,W)}registerOnDisabledChange(W){this._onDisabledChange.push(W)}_unregisterOnDisabledChange(W){as(this._onDisabledChange,W)}_forEachChild(W){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(W){ao(W)?(this.value=this._pendingValue=W.value,W.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=W}},rn={provide:Sr,useExisting:(0,w.Gpc)(()=>Nn)},On=(()=>Promise.resolve())();let Nn=(()=>{class B extends Sr{constructor(G,se,gt,$n,zi,Qi){super(),this._changeDetectorRef=zi,this.callSetDisabledState=Qi,this.control=new Li,this._registered=!1,this.update=new w.vpe,this._parent=G,this._setValidators(se),this._setAsyncValidators(gt),this.valueAccessor=Er(0,$n)}ngOnChanges(G){if(this._checkForErrors(),!this._registered||"name"in G){if(this._registered&&(this._checkName(),this.formDirective)){const se=G.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in G&&this._updateDisabled(G),er(G,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ur(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(G){On.then(()=>{this.control.setValue(G,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(G){const se=G.isDisabled.currentValue,gt=0!==se&&(0,w.D6c)(se);On.then(()=>{gt&&!this.control.disabled?this.control.disable():!gt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(G){return this._parent?fs(G,this._parent):[G]}}return B.\u0275fac=function(G){return new(G||B)(w.Y36(yn,9),w.Y36(ze,10),w.Y36(ht,10),w.Y36(yt,10),w.Y36(w.sBO,8),w.Y36(ii,8))},B.\u0275dir=w.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[w._Bn([rn]),w.qOj,w.TTD]}),B})(),Cr=(()=>{class B{}return B.\u0275fac=function(G){return new(G||B)},B.\u0275dir=w.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})(),Pe=(()=>{class B{}return B.\u0275fac=function(G){return new(G||B)},B.\u0275mod=w.oAB({type:B}),B.\u0275inj=w.cJS({}),B})();const Xs=new w.OlP("NgModelWithFormControlWarning"),_c={provide:yn,useExisting:(0,w.Gpc)(()=>_i)};let _i=(()=>{class B extends yn{constructor(G,se,gt){super(),this.callSetDisabledState=gt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(G),this._setAsyncValidators(se)}ngOnChanges(G){this._checkFormPresent(),G.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(oi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(G){const se=this.form.get(G.path);return Ur(se,G,this.callSetDisabledState),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(G),se}getControl(G){return this.form.get(G.path)}removeControl(G){Hi(G.control||null,G,!1),function ya(B,W){const G=B.indexOf(W);G>-1&&B.splice(G,1)}(this.directives,G)}addFormGroup(G){this._setUpFormContainer(G)}removeFormGroup(G){this._cleanUpFormContainer(G)}getFormGroup(G){return this.form.get(G.path)}addFormArray(G){this._setUpFormContainer(G)}removeFormArray(G){this._cleanUpFormContainer(G)}getFormArray(G){return this.form.get(G.path)}updateModel(G,se){this.form.get(G.path).setValue(se)}onSubmit(G){return this.submitted=!0,function Rs(B,W){B._syncPendingControls(),W.forEach(G=>{const se=G.control;"submit"===se.updateOn&&se._pendingChange&&(G.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(G),"dialog"===G?.target?.method}onReset(){this.resetForm()}resetForm(G){this.form.reset(G),this.submitted=!1}_updateDomValue(){this.directives.forEach(G=>{const se=G.control,gt=this.form.get(G.path);se!==gt&&(Hi(se||null,G),(B=>B instanceof Li)(gt)&&(Ur(gt,G,this.callSetDisabledState),G.control=gt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(G){const se=this.form.get(G.path);(function wi(B,W){bs(B,W)})(se,G),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(G){if(this.form){const se=this.form.get(G.path);se&&function xi(B,W){return oi(B,W)}(se,G)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bs(this.form,this),this._oldForm&&oi(this._oldForm,this)}_checkFormPresent(){}}return B.\u0275fac=function(G){return new(G||B)(w.Y36(ze,10),w.Y36(ht,10),w.Y36(ii,8))},B.\u0275dir=w.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function(G,se){1&G&&w.NdJ("submit",function($n){return se.onSubmit($n)})("reset",function(){return se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([_c]),w.qOj,w.TTD]}),B})();const yo={provide:Sr,useExisting:(0,w.Gpc)(()=>Vl)};let Vl=(()=>{class B extends Sr{set isDisabled(G){}constructor(G,se,gt,$n,zi){super(),this._ngModelWarningConfig=zi,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=G,this._setValidators(se),this._setAsyncValidators(gt),this.valueAccessor=Er(0,$n)}ngOnChanges(G){this._added||this._setUpControl(),er(G,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}get path(){return fs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(G){return new(G||B)(w.Y36(yn,13),w.Y36(ze,10),w.Y36(ht,10),w.Y36(yt,10),w.Y36(Xs,8))},B.\u0275dir=w.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([yo]),w.qOj,w.TTD]}),B})();const gu={provide:yt,useExisting:(0,w.Gpc)(()=>Ou),multi:!0};function Mo(B,W){return null==B?`${W}`:(W&&"object"==typeof W&&(W="Object"),`${B}: ${W}`.slice(0,50))}let Ou=(()=>{class B extends Ye{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(G){this._compareWith=G}writeValue(G){this.value=G;const gt=Mo(this._getOptionId(G),G);this.setProperty("value",gt)}registerOnChange(G){this.onChange=se=>{this.value=this._getOptionValue(se),G(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(G){for(const se of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(se),G))return se;return null}_getOptionValue(G){const se=function ps(B){return B.split(":")[0]}(G);return this._optionMap.has(se)?this._optionMap.get(se):G}}return B.\u0275fac=function(){let W;return function(se){return(W||(W=w.n5z(B)))(se||B)}}(),B.\u0275dir=w.lG2({type:B,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(G,se){1&G&&w.NdJ("change",function($n){return se.onChange($n.target.value)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([gu]),w.qOj]}),B})(),uo=(()=>{class B{constructor(G,se,gt){this._element=G,this._renderer=se,this._select=gt,this._select&&(this.id=this._select._registerOption())}set ngValue(G){null!=this._select&&(this._select._optionMap.set(this.id,G),this._setElementValue(Mo(this.id,G)),this._select.writeValue(this._select.value))}set value(G){this._setElementValue(G),this._select&&this._select.writeValue(this._select.value)}_setElementValue(G){this._renderer.setProperty(this._element.nativeElement,"value",G)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return B.\u0275fac=function(G){return new(G||B)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(Ou,9))},B.\u0275dir=w.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),B})();const Wa={provide:yt,useExisting:(0,w.Gpc)(()=>Eo),multi:!0};function ru(B,W){return null==B?`${W}`:("string"==typeof W&&(W=`'${W}'`),W&&"object"==typeof W&&(W="Object"),`${B}: ${W}`.slice(0,50))}let Eo=(()=>{class B extends Ye{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(G){this._compareWith=G}writeValue(G){let se;if(this.value=G,Array.isArray(G)){const gt=G.map($n=>this._getOptionId($n));se=($n,zi)=>{$n._setSelected(gt.indexOf(zi.toString())>-1)}}else se=(gt,$n)=>{gt._setSelected(!1)};this._optionMap.forEach(se)}registerOnChange(G){this.onChange=se=>{const gt=[],$n=se.selectedOptions;if(void 0!==$n){const zi=$n;for(let Qi=0;Qi<zi.length;Qi++){const As=this._getOptionValue(zi[Qi].value);gt.push(As)}}else{const zi=se.options;for(let Qi=0;Qi<zi.length;Qi++){const oa=zi[Qi];if(oa.selected){const As=this._getOptionValue(oa.value);gt.push(As)}}}this.value=gt,G(gt)}}_registerOption(G){const se=(this._idCounter++).toString();return this._optionMap.set(se,G),se}_getOptionId(G){for(const se of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(se)._value,G))return se;return null}_getOptionValue(G){const se=function Ti(B){return B.split(":")[0]}(G);return this._optionMap.has(se)?this._optionMap.get(se)._value:G}}return B.\u0275fac=function(){let W;return function(se){return(W||(W=w.n5z(B)))(se||B)}}(),B.\u0275dir=w.lG2({type:B,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(G,se){1&G&&w.NdJ("change",function($n){return se.onChange($n.target)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([Wa]),w.qOj]}),B})(),Ea=(()=>{class B{constructor(G,se,gt){this._element=G,this._renderer=se,this._select=gt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(G){null!=this._select&&(this._value=G,this._setElementValue(ru(this.id,G)),this._select.writeValue(this._select.value))}set value(G){this._select?(this._value=G,this._setElementValue(ru(this.id,G)),this._select.writeValue(this._select.value)):this._setElementValue(G)}_setElementValue(G){this._renderer.setProperty(this._element.nativeElement,"value",G)}_setSelected(G){this._renderer.setProperty(this._element.nativeElement,"selected",G)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return B.\u0275fac=function(G){return new(G||B)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(Eo,9))},B.\u0275dir=w.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),B})(),ms=(()=>{class B{}return B.\u0275fac=function(G){return new(G||B)},B.\u0275mod=w.oAB({type:B}),B.\u0275inj=w.cJS({imports:[Pe]}),B})();class co extends Fe{constructor(W,G,se){super(Ce(G),Ae(se,G)),this.controls=W,this._initObservables(),this._setUpdateStrategy(G),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(W){return this.controls[this._adjustIndex(W)]}push(W,G={}){this.controls.push(W),this._registerControl(W),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}insert(W,G,se={}){this.controls.splice(W,0,G),this._registerControl(G),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(W,G={}){let se=this._adjustIndex(W);se<0&&(se=0),this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),this.controls.splice(se,1),this.updateValueAndValidity({emitEvent:G.emitEvent})}setControl(W,G,se={}){let gt=this._adjustIndex(W);gt<0&&(gt=0),this.controls[gt]&&this.controls[gt]._registerOnCollectionChange(()=>{}),this.controls.splice(gt,1),G&&(this.controls.splice(gt,0,G),this._registerControl(G)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(W,G={}){$e(this,0,W),W.forEach((se,gt)=>{Dn(this,!1,gt),this.at(gt).setValue(se,{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G)}patchValue(W,G={}){null!=W&&(W.forEach((se,gt)=>{this.at(gt)&&this.at(gt).patchValue(se,{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G))}reset(W=[],G={}){this._forEachChild((se,gt)=>{se.reset(W[gt],{onlySelf:!0,emitEvent:G.emitEvent})}),this._updatePristine(G),this._updateTouched(G),this.updateValueAndValidity(G)}getRawValue(){return this.controls.map(W=>W.getRawValue())}clear(W={}){this.controls.length<1||(this._forEachChild(G=>G._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:W.emitEvent}))}_adjustIndex(W){return W<0?W+this.length:W}_syncPendingControls(){let W=this.controls.reduce((G,se)=>!!se._syncPendingControls()||G,!1);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){this.controls.forEach((G,se)=>{W(G,se)})}_updateValue(){this.value=this.controls.filter(W=>W.enabled||this.disabled).map(W=>W.value)}_anyControls(W){return this.controls.some(G=>G.enabled&&W(G))}_setUpControls(){this._forEachChild(W=>this._registerControl(W))}_allControlsDisabled(){for(const W of this.controls)if(W.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(W){W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)}_find(W){return this.at(W)??null}}function vl(B){return!!B&&(void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn)}let mu=(()=>{class B{constructor(){this.useNonNullable=!1}get nonNullable(){const G=new B;return G.useNonNullable=!0,G}group(G,se=null){const gt=this._reduceControls(G);let $n={};return vl(se)?$n=se:null!==se&&($n.validators=se.validator,$n.asyncValidators=se.asyncValidator),new ve(gt,$n)}record(G,se=null){const gt=this._reduceControls(G);return new Xt(gt,se)}control(G,se,gt){let $n={};return this.useNonNullable?(vl(se)?$n=se:($n.validators=se,$n.asyncValidators=gt),new Li(G,{...$n,nonNullable:!0})):new Li(G,se,gt)}array(G,se,gt){const $n=G.map(zi=>this._createControl(zi));return new co($n,se,gt)}_reduceControls(G){const se={};return Object.keys(G).forEach(gt=>{se[gt]=this._createControl(G[gt])}),se}_createControl(G){return G instanceof Li||G instanceof Fe?G:Array.isArray(G)?this.control(G[0],G.length>1?G[1]:null,G.length>2?G[2]:null):this.control(G)}}return B.\u0275fac=function(G){return new(G||B)},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Ru=(()=>{class B{static withConfig(G){return{ngModule:B,providers:[{provide:ii,useValue:G.callSetDisabledState??si}]}}}return B.\u0275fac=function(G){return new(G||B)},B.\u0275mod=w.oAB({type:B}),B.\u0275inj=w.cJS({imports:[ms]}),B})(),Ra=(()=>{class B{static withConfig(G){return{ngModule:B,providers:[{provide:Xs,useValue:G.warnOnNgModelWithFormControl??"always"},{provide:ii,useValue:G.callSetDisabledState??si}]}}}return B.\u0275fac=function(G){return new(G||B)},B.\u0275mod=w.oAB({type:B}),B.\u0275inj=w.cJS({imports:[ms]}),B})()},310:()=>{"use strict";class ky extends Error{constructor(r){super(`No translation found for ${U0(r)}.`),this.parsedMessage=r,this.type="MissingTranslationError"}}const _m=function(p,...r){if(_m.translate){const h=_m.translate(p,r);p=h[0],r=h[1]}let u=Av(p[0],p.raw[0]);for(let h=1;h<p.length;h++)u+=r[h-1]+Av(p[h],p.raw[h]);return u};function Av(p,r){return":"===r.charAt(0)?p.substring(function Py(p,r){for(let u=1,h=1;u<p.length;u++,h++)if("\\"===r[h])h++;else if(":"===p[u])return u;throw new Error(`Unterminated $localize metadata block in "${r}".`)}(p,r)+1):p}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=_m},1481:(He,be,L)=>{"use strict";L.d(be,{Cg:()=>wn,Dx:()=>ti});var w=L(6895),M=L(4650);class l extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends l{static makeCurrent(){(0,w.HT)(new pe)}onAndCancel(Fe,ve,nt){return Fe.addEventListener(ve,nt,!1),()=>{Fe.removeEventListener(ve,nt,!1)}}dispatchEvent(Fe,ve){Fe.dispatchEvent(ve)}remove(Fe){Fe.parentNode&&Fe.parentNode.removeChild(Fe)}createElement(Fe,ve){return(ve=ve||this.getDefaultDocument()).createElement(Fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Fe){return Fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Fe){return Fe instanceof DocumentFragment}getGlobalEventTarget(Fe,ve){return"window"===ve?window:"document"===ve?Fe:"body"===ve?Fe.body:null}getBaseHref(Fe){const ve=function Me(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==ve?null:function _e($e){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",$e);const Fe=Ie.pathname;return"/"===Fe.charAt(0)?Fe:`/${Fe}`}(ve)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(Fe){return(0,w.Mx)(document.cookie,Fe)}}let Ie,me=null,at=(()=>{class $e{build(){return new XMLHttpRequest}}return $e.\u0275fac=function(ve){return new(ve||$e)},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Ye=new M.OlP("EventManagerPlugins");let yt=(()=>{class $e{constructor(ve,nt){this._zone=nt,this._eventNameToPlugin=new Map,ve.forEach(Ht=>Ht.manager=this),this._plugins=ve.slice().reverse()}addEventListener(ve,nt,Ht){return this._findPluginFor(nt).addEventListener(ve,nt,Ht)}addGlobalEventListener(ve,nt,Ht){return this._findPluginFor(nt).addGlobalEventListener(ve,nt,Ht)}getZone(){return this._zone}_findPluginFor(ve){const nt=this._eventNameToPlugin.get(ve);if(nt)return nt;const Ht=this._plugins;for(let Xt=0;Xt<Ht.length;Xt++){const Mn=Ht[Xt];if(Mn.supports(ve))return this._eventNameToPlugin.set(ve,Mn),Mn}throw new Error(`No event manager plugin found for event ${ve}`)}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(Ye),M.LFG(M.R0b))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class lt{constructor(Fe){this._doc=Fe}addGlobalEventListener(Fe,ve,nt){const Ht=(0,w.q)().getGlobalEventTarget(this._doc,Fe);if(!Ht)throw new Error(`Unsupported event target ${Ht} for event ${ve}`);return this.addEventListener(Ht,ve,nt)}}let Ze=(()=>{class $e{constructor(){this._stylesSet=new Set}addStyles(ve){const nt=new Set;ve.forEach(Ht=>{this._stylesSet.has(Ht)||(this._stylesSet.add(Ht),nt.add(Ht))}),this.onStylesAdded(nt)}onStylesAdded(ve){}getAllStyles(){return Array.from(this._stylesSet)}}return $e.\u0275fac=function(ve){return new(ve||$e)},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),ot=(()=>{class $e extends Ze{constructor(ve){super(),this._doc=ve,this._hostNodes=new Map,this._hostNodes.set(ve.head,[])}_addStylesToHost(ve,nt,Ht){ve.forEach(Xt=>{const Mn=this._doc.createElement("style");Mn.textContent=Xt,Ht.push(nt.appendChild(Mn))})}addHost(ve){const nt=[];this._addStylesToHost(this._stylesSet,ve,nt),this._hostNodes.set(ve,nt)}removeHost(ve){const nt=this._hostNodes.get(ve);nt&&nt.forEach(it),this._hostNodes.delete(ve)}onStylesAdded(ve){this._hostNodes.forEach((nt,Ht)=>{this._addStylesToHost(ve,Ht,nt)})}ngOnDestroy(){this._hostNodes.forEach(ve=>ve.forEach(it))}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function it($e){(0,w.q)().remove($e)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ct=/%COMP%/g;function Qt($e,Fe){return Fe.flat(100).map(ve=>ve.replace(ct,$e))}function jt($e){return Fe=>{if("__ngUnwrap__"===Fe)return $e;!1===$e(Fe)&&(Fe.preventDefault(),Fe.returnValue=!1)}}let Jn=(()=>{class $e{constructor(ve,nt,Ht){this.eventManager=ve,this.sharedStylesHost=nt,this.appId=Ht,this.rendererByCompId=new Map,this.defaultRenderer=new vn(ve)}createRenderer(ve,nt){if(!ve||!nt)return this.defaultRenderer;switch(nt.encapsulation){case M.ifc.Emulated:{let Ht=this.rendererByCompId.get(nt.id);return Ht||(Ht=new Lt(this.eventManager,this.sharedStylesHost,nt,this.appId),this.rendererByCompId.set(nt.id,Ht)),Ht.applyToHost(ve),Ht}case M.ifc.ShadowDom:return new Wt(this.eventManager,this.sharedStylesHost,ve,nt);default:if(!this.rendererByCompId.has(nt.id)){const Ht=Qt(nt.id,nt.styles);this.sharedStylesHost.addStyles(Ht),this.rendererByCompId.set(nt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(yt),M.LFG(ot),M.LFG(M.AFp))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class vn{constructor(Fe){this.eventManager=Fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Fe,ve){return ve?document.createElementNS(wt[ve]||ve,Fe):document.createElement(Fe)}createComment(Fe){return document.createComment(Fe)}createText(Fe){return document.createTextNode(Fe)}appendChild(Fe,ve){(Dt(Fe)?Fe.content:Fe).appendChild(ve)}insertBefore(Fe,ve,nt){Fe&&(Dt(Fe)?Fe.content:Fe).insertBefore(ve,nt)}removeChild(Fe,ve){Fe&&Fe.removeChild(ve)}selectRootElement(Fe,ve){let nt="string"==typeof Fe?document.querySelector(Fe):Fe;if(!nt)throw new Error(`The selector "${Fe}" did not match any elements`);return ve||(nt.textContent=""),nt}parentNode(Fe){return Fe.parentNode}nextSibling(Fe){return Fe.nextSibling}setAttribute(Fe,ve,nt,Ht){if(Ht){ve=Ht+":"+ve;const Xt=wt[Ht];Xt?Fe.setAttributeNS(Xt,ve,nt):Fe.setAttribute(ve,nt)}else Fe.setAttribute(ve,nt)}removeAttribute(Fe,ve,nt){if(nt){const Ht=wt[nt];Ht?Fe.removeAttributeNS(Ht,ve):Fe.removeAttribute(`${nt}:${ve}`)}else Fe.removeAttribute(ve)}addClass(Fe,ve){Fe.classList.add(ve)}removeClass(Fe,ve){Fe.classList.remove(ve)}setStyle(Fe,ve,nt,Ht){Ht&(M.JOm.DashCase|M.JOm.Important)?Fe.style.setProperty(ve,nt,Ht&M.JOm.Important?"important":""):Fe.style[ve]=nt}removeStyle(Fe,ve,nt){nt&M.JOm.DashCase?Fe.style.removeProperty(ve):Fe.style[ve]=""}setProperty(Fe,ve,nt){Fe[ve]=nt}setValue(Fe,ve){Fe.nodeValue=ve}listen(Fe,ve,nt){return"string"==typeof Fe?this.eventManager.addGlobalEventListener(Fe,ve,jt(nt)):this.eventManager.addEventListener(Fe,ve,jt(nt))}}function Dt($e){return"TEMPLATE"===$e.tagName&&void 0!==$e.content}class Lt extends vn{constructor(Fe,ve,nt,Ht){super(Fe),this.component=nt;const Xt=Qt(Ht+"-"+nt.id,nt.styles);ve.addStyles(Xt),this.contentAttr=function ht($e){return"_ngcontent-%COMP%".replace(ct,$e)}(Ht+"-"+nt.id),this.hostAttr=function Ft($e){return"_nghost-%COMP%".replace(ct,$e)}(Ht+"-"+nt.id)}applyToHost(Fe){super.setAttribute(Fe,this.hostAttr,"")}createElement(Fe,ve){const nt=super.createElement(Fe,ve);return super.setAttribute(nt,this.contentAttr,""),nt}}class Wt extends vn{constructor(Fe,ve,nt,Ht){super(Fe),this.sharedStylesHost=ve,this.hostEl=nt,this.shadowRoot=nt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xt=Qt(Ht.id,Ht.styles);for(let Mn=0;Mn<Xt.length;Mn++){const ii=document.createElement("style");ii.textContent=Xt[Mn],this.shadowRoot.appendChild(ii)}}nodeOrShadowRoot(Fe){return Fe===this.hostEl?this.shadowRoot:Fe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Fe,ve){return super.appendChild(this.nodeOrShadowRoot(Fe),ve)}insertBefore(Fe,ve,nt){return super.insertBefore(this.nodeOrShadowRoot(Fe),ve,nt)}removeChild(Fe,ve){return super.removeChild(this.nodeOrShadowRoot(Fe),ve)}parentNode(Fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Fe)))}}let qt=(()=>{class $e extends lt{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,nt,Ht){return ve.addEventListener(nt,Ht,!1),()=>this.removeEventListener(ve,nt,Ht)}removeEventListener(ve,nt,Ht){return ve.removeEventListener(nt,Ht)}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const En=["alt","control","meta","shift"],dn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},An={alt:$e=>$e.altKey,control:$e=>$e.ctrlKey,meta:$e=>$e.metaKey,shift:$e=>$e.shiftKey};let mn=(()=>{class $e extends lt{constructor(ve){super(ve)}supports(ve){return null!=$e.parseEventName(ve)}addEventListener(ve,nt,Ht){const Xt=$e.parseEventName(nt),Mn=$e.eventCallback(Xt.fullKey,Ht,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(ve,Xt.domEventName,Mn))}static parseEventName(ve){const nt=ve.toLowerCase().split("."),Ht=nt.shift();if(0===nt.length||"keydown"!==Ht&&"keyup"!==Ht)return null;const Xt=$e._normalizeKey(nt.pop());let Mn="",ii=nt.indexOf("code");if(ii>-1&&(nt.splice(ii,1),Mn="code."),En.forEach(fs=>{const Ur=nt.indexOf(fs);Ur>-1&&(nt.splice(Ur,1),Mn+=fs+".")}),Mn+=Xt,0!=nt.length||0===Xt.length)return null;const si={};return si.domEventName=Ht,si.fullKey=Mn,si}static matchEventFullKeyCode(ve,nt){let Ht=dn[ve.key]||ve.key,Xt="";return nt.indexOf("code.")>-1&&(Ht=ve.code,Xt="code."),!(null==Ht||!Ht)&&(Ht=Ht.toLowerCase()," "===Ht?Ht="space":"."===Ht&&(Ht="dot"),En.forEach(Mn=>{Mn!==Ht&&(0,An[Mn])(ve)&&(Xt+=Mn+".")}),Xt+=Ht,Xt===nt)}static eventCallback(ve,nt,Ht){return Xt=>{$e.matchEventFullKeyCode(Xt,ve)&&Ht.runGuarded(()=>nt(Xt))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function wn($e,Fe){return(0,M.iPO)({rootComponent:$e,...Br(Fe)})}function Br($e){return{appProviders:[...Xn,...$e?.providers??[]],platformProviders:Wr}}const Wr=[{provide:M.Lbi,useValue:w.bD},{provide:M.g9A,useValue:function dr(){pe.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function Zr(){return(0,M.RDi)(document),document},deps:[]}],Xn=[{provide:M.zSh,useValue:"root"},{provide:M.qLn,useFactory:function Qn(){return new M.qLn},deps:[]},{provide:Ye,useClass:qt,multi:!0,deps:[w.K0,M.R0b,M.Lbi]},{provide:Ye,useClass:mn,multi:!0,deps:[w.K0]},{provide:Jn,useClass:Jn,deps:[yt,ot,M.AFp]},{provide:M.FYo,useExisting:Jn},{provide:Ze,useExisting:ot},{provide:ot,useClass:ot,deps:[w.K0]},{provide:yt,useClass:yt,deps:[Ye,M.R0b]},{provide:w.JF,useClass:at,deps:[]},[]];let ti=(()=>{class $e{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:function(ve){let nt=null;return nt=ve?new ve:function Ii(){return new ti((0,M.LFG)(w.K0))}(),nt},providedIn:"root"}),$e})();typeof window<"u"&&window},6159:(He,be,L)=>{"use strict";L.d(be,{F0:()=>Ms,rH:()=>La,Bz:()=>Wl,lC:()=>ru});var w=L(4650),M=L(8996),l=L(9646),pe=L(1135),me=L(6805),Me=L(9841),Ie=L(7272),_e=L(9770),Ee=L(9635),ge=L(2843),we=L(9751),Ne=L(515),at=L(4033),Ye=L(7579),yt=L(6895),lt=L(4004),Ze=L(3900),ot=L(5698),it=L(8675),wt=L(9300),ct=L(5577),At=L(590),bt=L(4351),Bt=L(8505),ze=L(262),ht=L(5026),Ft=L(4482),Qt=L(5403);function jt(x){return x<=0?()=>Ne.E:(0,Ft.e)((R,S)=>{let V=[];R.subscribe((0,Qt.x)(S,J=>{V.push(J),x<V.length&&V.shift()},()=>{for(const J of V)S.next(J);S.complete()},void 0,()=>{V=null}))})}var Jn=L(8068),vn=L(6590),mt=L(4671);function st(x,R){const S=arguments.length>=2;return V=>V.pipe(x?(0,wt.h)((J,ie)=>x(J,ie,V)):mt.y,jt(1),S?(0,vn.d)(R):(0,Jn.T)(()=>new me.K))}var Lt=L(9718),Wt=L(8746),qt=L(8343),En=L(8189),dn=L(1481);const An="primary",mn=Symbol("RouteTitle");class Un{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S[0]:S}return null}getAll(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function wn(x){return new Un(x)}function Pr(x,R,S){const V=S.path.split("/");if(V.length>x.length||"full"===S.pathMatch&&(R.hasChildren()||V.length<x.length))return null;const J={};for(let ie=0;ie<V.length;ie++){const de=V[ie],Qe=x[ie];if(de.startsWith(":"))J[de.substring(1)]=Qe;else if(de!==Qe.path)return null}return{consumed:x.slice(0,V.length),posParams:J}}function yr(x,R){const S=x?Object.keys(x):void 0,V=R?Object.keys(R):void 0;if(!S||!V||S.length!=V.length)return!1;let J;for(let ie=0;ie<S.length;ie++)if(J=S[ie],!dr(x[J],R[J]))return!1;return!0}function dr(x,R){if(Array.isArray(x)&&Array.isArray(R)){if(x.length!==R.length)return!1;const S=[...x].sort(),V=[...R].sort();return S.every((J,ie)=>V[ie]===J)}return x===R}function Qn(x){return Array.prototype.concat.apply([],x)}function Zr(x){return x.length>0?x[x.length-1]:null}function br(x,R){for(const S in x)x.hasOwnProperty(S)&&R(x[S],S)}function pi(x){return(0,w.CqO)(x)?x:(0,w.QGY)(x)?(0,M.D)(Promise.resolve(x)):(0,l.of)(x)}const rr=!1,Xn={exact:function Fi(x,R,S){if(!zr(x.segments,R.segments)||!St(x.segments,R.segments,S)||x.numberOfChildren!==R.numberOfChildren)return!1;for(const V in R.children)if(!x.children[V]||!Fi(x.children[V],R.children[V],S))return!1;return!0},subset:ti},Yr={exact:function Sr(x,R){return yr(x,R)},subset:function Ii(x,R){return Object.keys(R).length<=Object.keys(x).length&&Object.keys(R).every(S=>dr(x[S],R[S]))},ignored:()=>!0};function yn(x,R,S){return Xn[S.paths](x.root,R.root,S.matrixParams)&&Yr[S.queryParams](x.queryParams,R.queryParams)&&!("exact"===S.fragment&&x.fragment!==R.fragment)}function ti(x,R,S){return qr(x,R,R.segments,S)}function qr(x,R,S,V){if(x.segments.length>S.length){const J=x.segments.slice(0,S.length);return!(!zr(J,S)||R.hasChildren()||!St(J,S,V))}if(x.segments.length===S.length){if(!zr(x.segments,S)||!St(x.segments,S,V))return!1;for(const J in R.children)if(!x.children[J]||!ti(x.children[J],R.children[J],V))return!1;return!0}{const J=S.slice(0,x.segments.length),ie=S.slice(x.segments.length);return!!(zr(x.segments,J)&&St(x.segments,J,V)&&x.children[An])&&qr(x.children[An],R,ie,V)}}function St(x,R,S){return R.every((V,J)=>Yr[S](x[J].parameters,V.parameters))}class kn{constructor(R=new pn([],{}),S={},V=null){this.root=R,this.queryParams=S,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return mr.serialize(this)}}class pn{constructor(R,S){this.segments=R,this.children=S,this.parent=null,br(S,(V,J)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hs(this)}}class Fn{constructor(R,S){this.path=R,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=wn(this.parameters)),this._parameterMap}toString(){return Zt(this)}}function zr(x,R){return x.length===R.length&&x.every((S,V)=>S.path===R[V].path)}let In=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return new ss},providedIn:"root"}),x})();class ss{parse(R){const S=new Kt(R);return new kn(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(R){const S=`/${lr(R.root,!0)}`,V=function Ue(x){const R=Object.keys(x).map(S=>{const V=x[S];return Array.isArray(V)?V.map(J=>`${gi(S)}=${gi(J)}`).join("&"):`${gi(S)}=${gi(V)}`}).filter(S=>!!S);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${S}${V}${"string"==typeof R.fragment?`#${function on(x){return encodeURI(x)}(R.fragment)}`:""}`}}const mr=new ss;function hs(x){return x.segments.map(R=>Zt(R)).join("/")}function lr(x,R){if(!x.hasChildren())return hs(x);if(R){const S=x.children[An]?lr(x.children[An],!1):"",V=[];return br(x.children,(J,ie)=>{ie!==An&&V.push(`${ie}:${lr(J,!1)}`)}),V.length>0?`${S}(${V.join("//")})`:S}{const S=function Ji(x,R){let S=[];return br(x.children,(V,J)=>{J===An&&(S=S.concat(R(V,J)))}),br(x.children,(V,J)=>{J!==An&&(S=S.concat(R(V,J)))}),S}(x,(V,J)=>J===An?[lr(x.children[An],!1)]:[`${J}:${lr(V,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[An]?`${hs(x)}/${S[0]}`:`${hs(x)}/(${S.join("//")})`}}function os(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gi(x){return os(x).replace(/%3B/gi,";")}function $t(x){return os(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tn(x){return decodeURIComponent(x)}function Wn(x){return Tn(x.replace(/\+/g,"%20"))}function Zt(x){return`${$t(x.path)}${function Ar(x){return Object.keys(x).map(R=>`;${$t(R)}=${$t(x[R])}`).join("")}(x.parameters)}`}const Se=/^[^\/()?;=#]+/;function je(x){const R=x.match(Se);return R?R[0]:""}const Ce=/^[^=?&#]+/,Ae=/^[^&#]+/;class Kt{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(R.length>0||Object.keys(S).length>0)&&(V[An]=new pn(R,S)),V}parseSegment(){const R=je(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new w.vHH(4009,rr);return this.capture(R),new Fn(Tn(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const S=je(this.remaining);if(!S)return;this.capture(S);let V="";if(this.consumeOptional("=")){const J=je(this.remaining);J&&(V=J,this.capture(V))}R[Tn(S)]=Tn(V)}parseQueryParam(R){const S=function ue(x){const R=x.match(Ce);return R?R[0]:""}(this.remaining);if(!S)return;this.capture(S);let V="";if(this.consumeOptional("=")){const de=function vt(x){const R=x.match(Ae);return R?R[0]:""}(this.remaining);de&&(V=de,this.capture(V))}const J=Wn(S),ie=Wn(V);if(R.hasOwnProperty(J)){let de=R[J];Array.isArray(de)||(de=[de],R[J]=de),de.push(ie)}else R[J]=ie}parseParens(R){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=je(this.remaining),J=this.remaining[V.length];if("/"!==J&&")"!==J&&";"!==J)throw new w.vHH(4010,rr);let ie;V.indexOf(":")>-1?(ie=V.slice(0,V.indexOf(":")),this.capture(ie),this.capture(":")):R&&(ie=An);const de=this.parseChildren();S[ie]=1===Object.keys(de).length?de[An]:new pn([],de),this.consumeOptional("//")}return S}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new w.vHH(4011,rr)}}function Dn(x){return x.segments.length>0?new pn([],{[An]:x}):x}function $e(x){const R={};for(const V of Object.keys(x.children)){const ie=$e(x.children[V]);(ie.segments.length>0||ie.hasChildren())&&(R[V]=ie)}return function Fe(x){if(1===x.numberOfChildren&&x.children[An]){const R=x.children[An];return new pn(x.segments.concat(R.segments),R.children)}return x}(new pn(x.segments,R))}function ve(x){return x instanceof kn}function ii(x,R,S,V,J){if(0===S.length)return Ur(R.root,R.root,R.root,V,J);const ie=function oo(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new Os(!0,0,x);let R=0,S=!1;const V=x.reduce((J,ie,de)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const Qe={};return br(ie.outlets,(en,Kn)=>{Qe[Kn]="string"==typeof en?en.split("/"):en}),[...J,{outlets:Qe}]}if(ie.segmentPath)return[...J,ie.segmentPath]}return"string"!=typeof ie?[...J,ie]:0===de?(ie.split("/").forEach((Qe,en)=>{0==en&&"."===Qe||(0==en&&""===Qe?S=!0:".."===Qe?R++:""!=Qe&&J.push(Qe))}),J):[...J,ie]},[]);return new Os(S,R,V)}(S);return ie.toRoot()?Ur(R.root,R.root,new pn([],{}),V,J):function de(en){const Kn=function qs(x,R,S,V){if(x.isAbsolute)return new bs(R.root,!0,0);if(-1===V)return new bs(S,S===R.root,0);return function Jr(x,R,S){let V=x,J=R,ie=S;for(;ie>J;){if(ie-=J,V=V.parent,!V)throw new w.vHH(4005,!1);J=V.segments.length}return new bs(V,!1,J-ie)}(S,V+(si(x.commands[0])?0:1),x.numberOfDoubleDots)}(ie,R,x.snapshot?._urlSegment,en),xn=Kn.processChildren?wi(Kn.segmentGroup,Kn.index,ie.commands):Ai(Kn.segmentGroup,Kn.index,ie.commands);return Ur(R.root,Kn.segmentGroup,xn,V,J)}(x.snapshot?._lastPathIndex)}function si(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function fs(x){return"object"==typeof x&&null!=x&&x.outlets}function Ur(x,R,S,V,J){let de,ie={};V&&br(V,(en,Kn)=>{ie[Kn]=Array.isArray(en)?en.map(xn=>`${xn}`):`${en}`}),de=x===R?S:Hi(x,R,S);const Qe=Dn($e(de));return new kn(Qe,ie,J)}function Hi(x,R,S){const V={};return br(x.children,(J,ie)=>{V[ie]=J===R?S:Hi(J,R,S)}),new pn(x.segments,V)}class Os{constructor(R,S,V){if(this.isAbsolute=R,this.numberOfDoubleDots=S,this.commands=V,R&&V.length>0&&si(V[0]))throw new w.vHH(4003,!1);const J=V.find(fs);if(J&&J!==Zr(V))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bs{constructor(R,S,V){this.segmentGroup=R,this.processChildren=S,this.index=V}}function Ai(x,R,S){if(x||(x=new pn([],{})),0===x.segments.length&&x.hasChildren())return wi(x,R,S);const V=function xi(x,R,S){let V=0,J=R;const ie={match:!1,pathIndex:0,commandIndex:0};for(;J<x.segments.length;){if(V>=S.length)return ie;const de=x.segments[J],Qe=S[V];if(fs(Qe))break;const en=`${Qe}`,Kn=V<S.length-1?S[V+1]:null;if(J>0&&void 0===en)break;if(en&&Kn&&"object"==typeof Kn&&void 0===Kn.outlets){if(!Gi(en,Kn,de))return ie;V+=2}else{if(!Gi(en,{},de))return ie;V++}J++}return{match:!0,pathIndex:J,commandIndex:V}}(x,R,S),J=S.slice(V.commandIndex);if(V.match&&V.pathIndex<x.segments.length){const ie=new pn(x.segments.slice(0,V.pathIndex),{});return ie.children[An]=new pn(x.segments.slice(V.pathIndex),x.children),wi(ie,0,J)}return V.match&&0===J.length?new pn(x.segments,{}):V.match&&!x.hasChildren()?ni(x,R,S):V.match?wi(x,0,J):ni(x,R,S)}function wi(x,R,S){if(0===S.length)return new pn(x.segments,{});{const V=function mi(x){return fs(x[0])?x[0].outlets:{[An]:x}}(S),J={};return br(V,(ie,de)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(J[de]=Ai(x.children[de],R,ie))}),br(x.children,(ie,de)=>{void 0===V[de]&&(J[de]=ie)}),new pn(x.segments,J)}}function ni(x,R,S){const V=x.segments.slice(0,R);let J=0;for(;J<S.length;){const ie=S[J];if(fs(ie)){const en=Pn(ie.outlets);return new pn(V,en)}if(0===J&&si(S[0])){V.push(new Fn(x.segments[R].path,hr(S[0]))),J++;continue}const de=fs(ie)?ie.outlets[An]:`${ie}`,Qe=J<S.length-1?S[J+1]:null;de&&Qe&&si(Qe)?(V.push(new Fn(de,hr(Qe))),J+=2):(V.push(new Fn(de,{})),J++)}return new pn(V,{})}function Pn(x){const R={};return br(x,(S,V)=>{"string"==typeof S&&(S=[S]),null!==S&&(R[V]=ni(new pn([],{}),0,S))}),R}function hr(x){const R={};return br(x,(S,V)=>R[V]=`${S}`),R}function Gi(x,R,S){return x==S.path&&yr(R,S.parameters)}const ls="imperative";class er{constructor(R,S){this.id=R,this.url=S}}class hn extends er{constructor(R,S,V="imperative",J=null){super(R,S),this.type=0,this.navigationTrigger=V,this.restoredState=J}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rs extends er{constructor(R,S,V){super(R,S),this.urlAfterRedirects=V,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Er extends er{constructor(R,S,V,J){super(R,S),this.reason=V,this.code=J,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ya extends er{constructor(R,S,V,J){super(R,S),this.reason=V,this.code=J,this.type=16}}class fr extends er{constructor(R,S,V,J){super(R,S),this.error=V,this.target=J,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tr extends er{constructor(R,S,V,J){super(R,S),this.urlAfterRedirects=V,this.state=J,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xo extends er{constructor(R,S,V,J){super(R,S),this.urlAfterRedirects=V,this.state=J,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ta extends er{constructor(R,S,V,J,ie){super(R,S),this.urlAfterRedirects=V,this.state=J,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class as extends er{constructor(R,S,V,J){super(R,S),this.urlAfterRedirects=V,this.state=J,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ao extends er{constructor(R,S,V,J){super(R,S),this.urlAfterRedirects=V,this.state=J,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Li{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Et{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ke{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _t{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pt{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(R,S,V){this.routerEvent=R,this.position=S,this.anchor=V,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Nt=(()=>{class x{createUrlTree(S,V,J,ie,de,Qe){return ii(S||V.root,J,ie,de,Qe)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),x})(),On=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(R){return Nt.\u0275fac(R)},providedIn:"root"}),x})();class Nn{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const S=this.pathFromRoot(R);return S.length>1?S[S.length-2]:null}children(R){const S=Cr(R,this._root);return S?S.children.map(V=>V.value):[]}firstChild(R){const S=Cr(R,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(R){const S=xr(R,this._root);return S.length<2?[]:S[S.length-2].children.map(J=>J.value).filter(J=>J!==R)}pathFromRoot(R){return xr(R,this._root).map(S=>S.value)}}function Cr(x,R){if(x===R.value)return R;for(const S of R.children){const V=Cr(x,S);if(V)return V}return null}function xr(x,R){if(x===R.value)return[R];for(const S of R.children){const V=xr(x,S);if(V.length)return V.unshift(R),V}return[]}class Bi{constructor(R,S){this.value=R,this.children=S}toString(){return`TreeNode(${this.value})`}}function us(x){const R={};return x&&x.children.forEach(S=>R[S.value.outlet]=S),R}class Je extends Nn{constructor(R,S){super(R),this.snapshot=S,Vo(this,R)}toString(){return this.snapshot.toString()}}function Pe(x,R){const S=function Bl(x,R){const de=new Xs([],{},{},"",{},An,R,null,x.root,-1,{});return new ja("",new Bi(de,[]))}(x,R),V=new pe.X([new Fn("",{})]),J=new pe.X({}),ie=new pe.X({}),de=new pe.X({}),Qe=new pe.X(""),en=new ji(V,J,de,Qe,ie,An,R,S.root);return en.snapshot=S.root,new Je(new Bi(en,[]),S)}class ji{constructor(R,S,V,J,ie,de,Qe,en){this.url=R,this.params=S,this.queryParams=V,this.fragment=J,this.data=ie,this.outlet=de,this.component=Qe,this.title=this.data?.pipe((0,lt.U)(Kn=>Kn[mn]))??(0,l.of)(void 0),this._futureSnapshot=en}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(R=>wn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(R=>wn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function na(x,R="emptyOnly"){const S=x.pathFromRoot;let V=0;if("always"!==R)for(V=S.length-1;V>=1;){const J=S[V],ie=S[V-1];if(J.routeConfig&&""===J.routeConfig.path)V--;else{if(ie.component)break;V--}}return function Ga(x){return x.reduce((R,S)=>({params:{...R.params,...S.params},data:{...R.data,...S.data},resolve:{...S.data,...R.resolve,...S.routeConfig?.data,...S._resolvedData}}),{params:{},data:{},resolve:{}})}(S.slice(V))}class Xs{get title(){return this.data?.[mn]}constructor(R,S,V,J,ie,de,Qe,en,Kn,xn,Hr){this.url=R,this.params=S,this.queryParams=V,this.fragment=J,this.data=ie,this.outlet=de,this.component=Qe,this.routeConfig=en,this._urlSegment=Kn,this._lastPathIndex=xn,this._resolve=Hr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ja extends Nn{constructor(R,S){super(S),this.url=R,Vo(this,S)}toString(){return _c(this._root)}}function Vo(x,R){R.value._routerState=x,R.children.forEach(S=>Vo(x,S))}function _c(x){const R=x.children.length>0?` { ${x.children.map(_c).join(", ")} } `:"";return`${x.value}${R}`}function _i(x){if(x.snapshot){const R=x.snapshot,S=x._futureSnapshot;x.snapshot=S,yr(R.queryParams,S.queryParams)||x.queryParams.next(S.queryParams),R.fragment!==S.fragment&&x.fragment.next(S.fragment),yr(R.params,S.params)||x.params.next(S.params),function Br(x,R){if(x.length!==R.length)return!1;for(let S=0;S<x.length;++S)if(!yr(x[S],R[S]))return!1;return!0}(R.url,S.url)||x.url.next(S.url),yr(R.data,S.data)||x.data.next(S.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function Ui(x,R){const S=yr(x.params,R.params)&&function jn(x,R){return zr(x,R)&&x.every((S,V)=>yr(S.parameters,R[V].parameters))}(x.url,R.url);return S&&!(!x.parent!=!R.parent)&&(!x.parent||Ui(x.parent,R.parent))}function Ks(x,R,S){if(S&&x.shouldReuseRoute(R.value,S.value.snapshot)){const V=S.value;V._futureSnapshot=R.value;const J=function Ul(x,R,S){return R.children.map(V=>{for(const J of S.children)if(x.shouldReuseRoute(V.value,J.value.snapshot))return Ks(x,V,J);return Ks(x,V)})}(x,R,S);return new Bi(V,J)}{if(x.shouldAttach(R.value)){const ie=x.retrieve(R.value);if(null!==ie){const de=ie.route;return de.value._futureSnapshot=R.value,de.children=R.children.map(Qe=>Ks(x,Qe)),de}}const V=function ra(x){return new ji(new pe.X(x.url),new pe.X(x.params),new pe.X(x.queryParams),new pe.X(x.fragment),new pe.X(x.data),x.outlet,x.component,x)}(R.value),J=R.children.map(ie=>Ks(x,ie));return new Bi(V,J)}}const yo="ngNavigationCancelingError";function Vl(x,R){const{redirectTo:S,navigationBehaviorOptions:V}=ve(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,J=gu(!1,0,R);return J.url=S,J.navigationBehaviorOptions=V,J}function gu(x,R,S){const V=new Error("NavigationCancelingError: "+(x||""));return V[yo]=!0,V.cancellationCode=R,S&&(V.url=S),V}function Mo(x){return ps(x)&&ve(x.url)}function ps(x){return x&&x[yo]}class Ou{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new uo,this.attachRef=null}}let uo=(()=>{class x{constructor(){this.contexts=new Map}onChildOutletCreated(S,V){const J=this.getOrCreateContext(S);J.outlet=V,this.contexts.set(S,J)}onChildOutletDestroyed(S){const V=this.getContext(S);V&&(V.outlet=null,V.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let V=this.getContext(S);return V||(V=new Ou,this.contexts.set(S,V)),V}getContext(S){return this.contexts.get(S)||null}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Wa=!1;let ru=(()=>{class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=An,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(uo),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb)}ngOnChanges(S){if(S.name){const{firstChange:V,previousValue:J}=S.name;if(V)return;this.isTrackedInParentContexts(J)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(J)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,Wa);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,Wa);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,Wa);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,V){this.activated=S,this._activatedRoute=V,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,V){if(this.isActivated)throw new w.vHH(4013,Wa);this._activatedRoute=S;const J=this.location,de=S.snapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,en=new Ti(S,Qe,J.injector);if(V&&function ia(x){return!!x.resolveComponentFactory}(V)){const Kn=V.resolveComponentFactory(de);this.activated=J.createComponent(Kn,J.length,en)}else this.activated=J.createComponent(de,{index:J.length,injector:en,environmentInjector:V??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275dir=w.lG2({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),x})();class Ti{constructor(R,S,V){this.route=R,this.childContexts=S,this.parent=V}get(R,S){return R===ji?this.route:R===uo?this.childContexts:this.parent.get(R,S)}}let Eo=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275cmp=w.Xpm({type:x,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(S,V){1&S&&w._UZ(0,"router-outlet")},dependencies:[ru],encapsulation:2}),x})();function Ea(x,R){return x.providers&&!x._injector&&(x._injector=(0,w.MMx)(x.providers,R,`Route: ${x.path}`)),x._injector??R}function cr(x){const R=x.children&&x.children.map(cr),S=R?{...x,children:R}:{...x};return!S.component&&!S.loadComponent&&(R||S.loadChildren)&&S.outlet&&S.outlet!==An&&(S.component=Eo),S}function Hs(x){return x.outlet||An}function ci(x,R){const S=x.filter(V=>Hs(V)===R);return S.push(...x.filter(V=>Hs(V)!==R)),S}function an(x){if(!x)return null;if(x.routeConfig?._injector)return x.routeConfig._injector;for(let R=x.parent;R;R=R.parent){const S=R.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}class qn{constructor(R,S,V,J){this.routeReuseStrategy=R,this.futureState=S,this.currState=V,this.forwardEvent=J}activate(R){const S=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,V,R),_i(this.futureState.root),this.activateChildRoutes(S,V,R)}deactivateChildRoutes(R,S,V){const J=us(S);R.children.forEach(ie=>{const de=ie.value.outlet;this.deactivateRoutes(ie,J[de],V),delete J[de]}),br(J,(ie,de)=>{this.deactivateRouteAndItsChildren(ie,V)})}deactivateRoutes(R,S,V){const J=R.value,ie=S?S.value:null;if(J===ie)if(J.component){const de=V.getContext(J.outlet);de&&this.deactivateChildRoutes(R,S,de.children)}else this.deactivateChildRoutes(R,S,V);else ie&&this.deactivateRouteAndItsChildren(S,V)}deactivateRouteAndItsChildren(R,S){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,S):this.deactivateRouteAndOutlet(R,S)}detachAndStoreRouteSubtree(R,S){const V=S.getContext(R.value.outlet),J=V&&R.value.component?V.children:S,ie=us(R);for(const de of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[de],J);if(V&&V.outlet){const de=V.outlet.detach(),Qe=V.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:de,route:R,contexts:Qe})}}deactivateRouteAndOutlet(R,S){const V=S.getContext(R.value.outlet),J=V&&R.value.component?V.children:S,ie=us(R);for(const de of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[de],J);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(R,S,V){const J=us(S);R.children.forEach(ie=>{this.activateRoutes(ie,J[ie.value.outlet],V),this.forwardEvent(new Pt(ie.value.snapshot))}),R.children.length&&this.forwardEvent(new _t(R.value.snapshot))}activateRoutes(R,S,V){const J=R.value,ie=S?S.value:null;if(_i(J),J===ie)if(J.component){const de=V.getOrCreateContext(J.outlet);this.activateChildRoutes(R,S,de.children)}else this.activateChildRoutes(R,S,V);else if(J.component){const de=V.getOrCreateContext(J.outlet);if(this.routeReuseStrategy.shouldAttach(J.snapshot)){const Qe=this.routeReuseStrategy.retrieve(J.snapshot);this.routeReuseStrategy.store(J.snapshot,null),de.children.onOutletReAttached(Qe.contexts),de.attachRef=Qe.componentRef,de.route=Qe.route.value,de.outlet&&de.outlet.attach(Qe.componentRef,Qe.route.value),_i(Qe.route.value),this.activateChildRoutes(R,null,de.children)}else{const Qe=an(J.snapshot),en=Qe?.get(w._Vd)??null;de.attachRef=null,de.route=J,de.resolver=en,de.injector=Qe,de.outlet&&de.outlet.activateWith(J,de.injector),this.activateChildRoutes(R,null,de.children)}}else this.activateChildRoutes(R,null,V)}}class wo{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Oo{constructor(R,S){this.component=R,this.route=S}}function gs(x,R,S){const V=x._root;return sa(V,R?R._root:null,S,[V.value])}function Zs(x,R){const S=Symbol(),V=R.get(x,S);return V===S?"function"!=typeof x||(0,w.Z0I)(x)?R.get(x):x:V}function sa(x,R,S,V,J={canDeactivateChecks:[],canActivateChecks:[]}){const ie=us(R);return x.children.forEach(de=>{(function _l(x,R,S,V,J={canDeactivateChecks:[],canActivateChecks:[]}){const ie=x.value,de=R?R.value:null,Qe=S?S.getContext(x.value.outlet):null;if(de&&ie.routeConfig===de.routeConfig){const en=function To(x,R,S){if("function"==typeof S)return S(x,R);switch(S){case"pathParamsChange":return!zr(x.url,R.url);case"pathParamsOrQueryParamsChange":return!zr(x.url,R.url)||!yr(x.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ui(x,R)||!yr(x.queryParams,R.queryParams);default:return!Ui(x,R)}}(de,ie,ie.routeConfig.runGuardsAndResolvers);en?J.canActivateChecks.push(new wo(V)):(ie.data=de.data,ie._resolvedData=de._resolvedData),sa(x,R,ie.component?Qe?Qe.children:null:S,V,J),en&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&J.canDeactivateChecks.push(new Oo(Qe.outlet.component,de))}else de&&ms(R,Qe,J),J.canActivateChecks.push(new wo(V)),sa(x,null,ie.component?Qe?Qe.children:null:S,V,J)})(de,ie[de.value.outlet],S,V.concat([de.value]),J),delete ie[de.value.outlet]}),br(ie,(de,Qe)=>ms(de,S.getContext(Qe),J)),J}function ms(x,R,S){const V=us(x),J=x.value;br(V,(ie,de)=>{ms(ie,J.component?R?R.children.getContext(de):null:R,S)}),S.canDeactivateChecks.push(new Oo(J.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,J))}function co(x){return"function"==typeof x}function Ra(x){return x instanceof me.K||"EmptyError"===x?.name}const B=Symbol("INITIAL_VALUE");function W(){return(0,Ze.w)(x=>(0,Me.a)(x.map(R=>R.pipe((0,ot.q)(1),(0,it.O)(B)))).pipe((0,lt.U)(R=>{for(const S of R)if(!0!==S){if(S===B)return B;if(!1===S||S instanceof kn)return S}return!0}),(0,wt.h)(R=>R!==B),(0,ot.q)(1)))}function aa(x){return(0,Ee.z)((0,Bt.b)(R=>{if(ve(R))throw Vl(0,R)}),(0,lt.U)(R=>!0===R))}const qi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ts(x,R,S,V,J){const ie=eo(x,R,S);return ie.matched?function Co(x,R,S,V){const J=R.canMatch;if(!J||0===J.length)return(0,l.of)(!0);const ie=J.map(de=>{const Qe=Zs(de,x);return pi(function qa(x){return x&&co(x.canMatch)}(Qe)?Qe.canMatch(R,S):x.runInContext(()=>Qe(R,S)))});return(0,l.of)(ie).pipe(W(),aa())}(V=Ea(R,V),R,S).pipe((0,lt.U)(de=>!0===de?ie:{...qi})):(0,l.of)(ie)}function eo(x,R,S){if(""===R.path)return"full"===R.pathMatch&&(x.hasChildren()||S.length>0)?{...qi}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const J=(R.matcher||Pr)(S,x,R);if(!J)return{...qi};const ie={};br(J.posParams,(Qe,en)=>{ie[en]=Qe.path});const de=J.consumed.length>0?{...ie,...J.consumed[J.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:J.consumed,remainingSegments:S.slice(J.consumed.length),parameters:de,positionalParamSegments:J.posParams??{}}}function _s(x,R,S,V){if(S.length>0&&function nl(x,R,S){return S.some(V=>ua(x,R,V)&&Hs(V)!==An)}(x,S,V)){const ie=new pn(R,function ld(x,R,S,V){const J={};J[An]=V,V._sourceSegment=x,V._segmentIndexShift=R.length;for(const ie of S)if(""===ie.path&&Hs(ie)!==An){const de=new pn([],{});de._sourceSegment=x,de._segmentIndexShift=R.length,J[Hs(ie)]=de}return J}(x,R,V,new pn(S,x.children)));return ie._sourceSegment=x,ie._segmentIndexShift=R.length,{segmentGroup:ie,slicedSegments:[]}}if(0===S.length&&function _u(x,R,S){return S.some(V=>ua(x,R,V))}(x,S,V)){const ie=new pn(x.segments,function ba(x,R,S,V,J){const ie={};for(const de of V)if(ua(x,S,de)&&!J[Hs(de)]){const Qe=new pn([],{});Qe._sourceSegment=x,Qe._segmentIndexShift=R.length,ie[Hs(de)]=Qe}return{...J,...ie}}(x,R,S,V,x.children));return ie._sourceSegment=x,ie._segmentIndexShift=R.length,{segmentGroup:ie,slicedSegments:S}}const J=new pn(x.segments,x.children);return J._sourceSegment=x,J._segmentIndexShift=R.length,{segmentGroup:J,slicedSegments:S}}function ua(x,R,S){return(!(x.hasChildren()||R.length>0)||"full"!==S.pathMatch)&&""===S.path}function wa(x,R,S,V){return!!(Hs(x)===V||V!==An&&ua(R,S,x))&&("**"===x.path||eo(R,x,S).matched)}function rl(x,R,S){return 0===R.length&&!x.children[S]}const Pu=!1;class yl{constructor(R){this.segmentGroup=R||null}}class $l{constructor(R){this.urlTree=R}}function iu(x){return(0,ge._)(new yl(x))}function su(x){return(0,ge._)(new $l(x))}class Hn{constructor(R,S,V,J,ie){this.injector=R,this.configLoader=S,this.urlSerializer=V,this.urlTree=J,this.config=ie,this.allowRedirects=!0}apply(){const R=_s(this.urlTree.root,[],[],this.config).segmentGroup,S=new pn(R.segments,R.children);return this.expandSegmentGroup(this.injector,this.config,S,An).pipe((0,lt.U)(ie=>this.createUrlTree($e(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ze.K)(ie=>{if(ie instanceof $l)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof yl?this.noMatchError(ie):ie}))}match(R){return this.expandSegmentGroup(this.injector,this.config,R.root,An).pipe((0,lt.U)(J=>this.createUrlTree($e(J),R.queryParams,R.fragment))).pipe((0,ze.K)(J=>{throw J instanceof yl?this.noMatchError(J):J}))}noMatchError(R){return new w.vHH(4002,Pu)}createUrlTree(R,S,V){const J=Dn(R);return new kn(J,S,V)}expandSegmentGroup(R,S,V,J){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(R,S,V).pipe((0,lt.U)(ie=>new pn([],ie))):this.expandSegment(R,V,S,V.segments,J,!0)}expandChildren(R,S,V){const J=[];for(const ie of Object.keys(V.children))"primary"===ie?J.unshift(ie):J.push(ie);return(0,M.D)(J).pipe((0,bt.b)(ie=>{const de=V.children[ie],Qe=ci(S,ie);return this.expandSegmentGroup(R,Qe,de,ie).pipe((0,lt.U)(en=>({segment:en,outlet:ie})))}),(0,ht.R)((ie,de)=>(ie[de.outlet]=de.segment,ie),{}),st())}expandSegment(R,S,V,J,ie,de){return(0,M.D)(V).pipe((0,bt.b)(Qe=>this.expandSegmentAgainstRoute(R,S,V,Qe,J,ie,de).pipe((0,ze.K)(Kn=>{if(Kn instanceof yl)return(0,l.of)(null);throw Kn}))),(0,At.P)(Qe=>!!Qe),(0,ze.K)((Qe,en)=>{if(Ra(Qe))return rl(S,J,ie)?(0,l.of)(new pn([],{})):iu(S);throw Qe}))}expandSegmentAgainstRoute(R,S,V,J,ie,de,Qe){return wa(J,S,ie,de)?void 0===J.redirectTo?this.matchSegmentAgainstRoute(R,S,J,ie,de):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,S,V,J,ie,de):iu(S):iu(S)}expandSegmentAgainstRouteUsingRedirect(R,S,V,J,ie,de){return"**"===J.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,V,J,de):this.expandRegularSegmentAgainstRouteUsingRedirect(R,S,V,J,ie,de)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,S,V,J){const ie=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?su(ie):this.lineralizeSegments(V,ie).pipe((0,ct.z)(de=>{const Qe=new pn(de,{});return this.expandSegment(R,Qe,S,de,J,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,S,V,J,ie,de){const{matched:Qe,consumedSegments:en,remainingSegments:Kn,positionalParamSegments:xn}=eo(S,J,ie);if(!Qe)return iu(S);const Hr=this.applyRedirectCommands(en,J.redirectTo,xn);return J.redirectTo.startsWith("/")?su(Hr):this.lineralizeSegments(J,Hr).pipe((0,ct.z)(Vi=>this.expandSegment(R,S,V,Vi.concat(Kn),de,!1)))}matchSegmentAgainstRoute(R,S,V,J,ie){return"**"===V.path?(R=Ea(V,R),V.loadChildren?(V._loadedRoutes?(0,l.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):this.configLoader.loadChildren(R,V)).pipe((0,lt.U)(Qe=>(V._loadedRoutes=Qe.routes,V._loadedInjector=Qe.injector,new pn(J,{})))):(0,l.of)(new pn(J,{}))):Ts(S,V,J,R).pipe((0,Ze.w)(({matched:de,consumedSegments:Qe,remainingSegments:en})=>de?this.getChildConfig(R=V._injector??R,V,J).pipe((0,ct.z)(xn=>{const Hr=xn.injector??R,Vi=xn.routes,{segmentGroup:go,slicedSegments:jo}=_s(S,Qe,en,Vi),Za=new pn(go.segments,go.children);if(0===jo.length&&Za.hasChildren())return this.expandChildren(Hr,Vi,Za).pipe((0,lt.U)(dd=>new pn(Qe,dd)));if(0===Vi.length&&0===jo.length)return(0,l.of)(new pn(Qe,{}));const Wo=Hs(V)===ie;return this.expandSegment(Hr,Za,Vi,jo,Wo?An:ie,!0).pipe((0,lt.U)(cu=>new pn(Qe.concat(cu.segments),cu.children)))})):iu(S)))}getChildConfig(R,S,V){return S.children?(0,l.of)({routes:S.children,injector:R}):S.loadChildren?void 0!==S._loadedRoutes?(0,l.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function cs(x,R,S,V){const J=R.canLoad;if(void 0===J||0===J.length)return(0,l.of)(!0);const ie=J.map(de=>{const Qe=Zs(de,x);return pi(function Ro(x){return x&&co(x.canLoad)}(Qe)?Qe.canLoad(R,S):x.runInContext(()=>Qe(R,S)))});return(0,l.of)(ie).pipe(W(),aa())}(R,S,V).pipe((0,ct.z)(J=>J?this.configLoader.loadChildren(R,S).pipe((0,Bt.b)(ie=>{S._loadedRoutes=ie.routes,S._loadedInjector=ie.injector})):function It(x){return(0,ge._)(gu(Pu,3))}())):(0,l.of)({routes:[],injector:R})}lineralizeSegments(R,S){let V=[],J=S.root;for(;;){if(V=V.concat(J.segments),0===J.numberOfChildren)return(0,l.of)(V);if(J.numberOfChildren>1||!J.children[An])return(0,ge._)(new w.vHH(4e3,Pu));J=J.children[An]}}applyRedirectCommands(R,S,V){return this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),R,V)}applyRedirectCreateUrlTree(R,S,V,J){const ie=this.createSegmentGroup(R,S.root,V,J);return new kn(ie,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(R,S){const V={};return br(R,(J,ie)=>{if("string"==typeof J&&J.startsWith(":")){const Qe=J.substring(1);V[ie]=S[Qe]}else V[ie]=J}),V}createSegmentGroup(R,S,V,J){const ie=this.createSegments(R,S.segments,V,J);let de={};return br(S.children,(Qe,en)=>{de[en]=this.createSegmentGroup(R,Qe,V,J)}),new pn(ie,de)}createSegments(R,S,V,J){return S.map(ie=>ie.path.startsWith(":")?this.findPosParam(R,ie,J):this.findOrReturn(ie,V))}findPosParam(R,S,V){const J=V[S.path.substring(1)];if(!J)throw new w.vHH(4001,Pu);return J}findOrReturn(R,S){let V=0;for(const J of S){if(J.path===R.path)return S.splice(V),J;V++}return R}}class Ps{}class Xi{constructor(R,S,V,J,ie,de,Qe){this.injector=R,this.rootComponentType=S,this.config=V,this.urlTree=J,this.url=ie,this.paramsInheritanceStrategy=de,this.urlSerializer=Qe}recognize(){const R=_s(this.urlTree.root,[],[],this.config.filter(S=>void 0===S.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,An).pipe((0,lt.U)(S=>{if(null===S)return null;const V=new Xs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},An,this.rootComponentType,null,this.urlTree.root,-1,{}),J=new Bi(V,S),ie=new ja(this.url,J);return this.inheritParamsAndData(ie._root),ie}))}inheritParamsAndData(R){const S=R.value,V=na(S,this.paramsInheritanceStrategy);S.params=Object.freeze(V.params),S.data=Object.freeze(V.data),R.children.forEach(J=>this.inheritParamsAndData(J))}processSegmentGroup(R,S,V,J){return 0===V.segments.length&&V.hasChildren()?this.processChildren(R,S,V):this.processSegment(R,S,V,V.segments,J)}processChildren(R,S,V){return(0,M.D)(Object.keys(V.children)).pipe((0,bt.b)(J=>{const ie=V.children[J],de=ci(S,J);return this.processSegmentGroup(R,de,ie,J)}),(0,ht.R)((J,ie)=>J&&ie?(J.push(...ie),J):null),function Dt(x,R=!1){return(0,Ft.e)((S,V)=>{let J=0;S.subscribe((0,Qt.x)(V,ie=>{const de=x(ie,J++);(de||R)&&V.next(ie),!de&&V.complete()}))})}(J=>null!==J),(0,vn.d)(null),st(),(0,lt.U)(J=>{if(null===J)return null;const ie=ou(J);return function Ta(x){x.sort((R,S)=>R.value.outlet===An?-1:S.value.outlet===An?1:R.value.outlet.localeCompare(S.value.outlet))}(ie),ie}))}processSegment(R,S,V,J,ie){return(0,M.D)(S).pipe((0,bt.b)(de=>this.processSegmentAgainstRoute(de._injector??R,de,V,J,ie)),(0,At.P)(de=>!!de),(0,ze.K)(de=>{if(Ra(de))return rl(V,J,ie)?(0,l.of)([]):(0,l.of)(null);throw de}))}processSegmentAgainstRoute(R,S,V,J,ie){if(S.redirectTo||!wa(S,V,J,ie))return(0,l.of)(null);let de;if("**"===S.path){const Qe=J.length>0?Zr(J).parameters:{},en=di(V)+J.length,Kn=new Xs(J,Qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ee(S),Hs(S),S.component??S._loadedComponent??null,S,ku(V),en,H(S));de=(0,l.of)({snapshot:Kn,consumedSegments:[],remainingSegments:[]})}else de=Ts(V,S,J,R).pipe((0,lt.U)(({matched:Qe,consumedSegments:en,remainingSegments:Kn,parameters:xn})=>{if(!Qe)return null;const Hr=di(V)+en.length;return{snapshot:new Xs(en,xn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ee(S),Hs(S),S.component??S._loadedComponent??null,S,ku(V),Hr,H(S)),consumedSegments:en,remainingSegments:Kn}}));return de.pipe((0,Ze.w)(Qe=>{if(null===Qe)return(0,l.of)(null);const{snapshot:en,consumedSegments:Kn,remainingSegments:xn}=Qe;R=S._injector??R;const Hr=S._loadedInjector??R,Vi=function Hl(x){return x.children?x.children:x.loadChildren?x._loadedRoutes:[]}(S),{segmentGroup:go,slicedSegments:jo}=_s(V,Kn,xn,Vi.filter(Wo=>void 0===Wo.redirectTo));if(0===jo.length&&go.hasChildren())return this.processChildren(Hr,Vi,go).pipe((0,lt.U)(Wo=>null===Wo?null:[new Bi(en,Wo)]));if(0===Vi.length&&0===jo.length)return(0,l.of)([new Bi(en,[])]);const Za=Hs(S)===ie;return this.processSegment(Hr,Vi,go,jo,Za?An:ie).pipe((0,lt.U)(Wo=>null===Wo?null:[new Bi(en,Wo)]))}))}}function Do(x){const R=x.value.routeConfig;return R&&""===R.path&&void 0===R.redirectTo}function ou(x){const R=[],S=new Set;for(const V of x){if(!Do(V)){R.push(V);continue}const J=R.find(ie=>V.value.routeConfig===ie.value.routeConfig);void 0!==J?(J.children.push(...V.children),S.add(J)):R.push(V)}for(const V of S){const J=ou(V.children);R.push(new Bi(V.value,J))}return R.filter(V=>!S.has(V))}function ku(x){let R=x;for(;R._sourceSegment;)R=R._sourceSegment;return R}function di(x){let R=x,S=R._segmentIndexShift??0;for(;R._sourceSegment;)R=R._sourceSegment,S+=R._segmentIndexShift??0;return S-1}function ee(x){return x.data||{}}function H(x){return x.resolve||{}}function hi(x){return"string"==typeof x.title||null===x.title}function Ni(x){return(0,Ze.w)(R=>{const S=x(R);return S?(0,M.D)(S).pipe((0,lt.U)(()=>R)):(0,l.of)(R)})}const Oi=new w.OlP("ROUTES");let Qr=(()=>{class x{constructor(S,V){this.injector=S,this.compiler=V,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,l.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const V=pi(S.loadComponent()).pipe((0,lt.U)(vs),(0,Bt.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=ie}),(0,Wt.x)(()=>{this.componentLoaders.delete(S)})),J=new at.c(V,()=>new Ye.x).pipe((0,qt.x)());return this.componentLoaders.set(S,J),J}loadChildren(S,V){if(this.childrenLoaders.get(V))return this.childrenLoaders.get(V);if(V._loadedRoutes)return(0,l.of)({routes:V._loadedRoutes,injector:V._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(V);const ie=this.loadModuleFactoryOrRoutes(V.loadChildren).pipe((0,lt.U)(Qe=>{this.onLoadEndListener&&this.onLoadEndListener(V);let en,Kn,xn=!1;Array.isArray(Qe)?Kn=Qe:(en=Qe.create(S).injector,Kn=Qn(en.get(Oi,[],w.XFs.Self|w.XFs.Optional)));return{routes:Kn.map(cr),injector:en}}),(0,Wt.x)(()=>{this.childrenLoaders.delete(V)})),de=new at.c(ie,()=>new Ye.x).pipe((0,qt.x)());return this.childrenLoaders.set(V,de),de}loadModuleFactoryOrRoutes(S){return pi(S()).pipe((0,lt.U)(vs),(0,ct.z)(J=>J instanceof w.YKP||Array.isArray(J)?(0,l.of)(J):(0,M.D)(this.compiler.compileModuleAsync(J))))}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(w.zs3),w.LFG(w.Sil))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function vs(x){return function Ho(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let xs=(()=>{class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ye.x,this.configLoader=(0,w.f3M)(Qr),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(In),this.rootContexts=(0,w.f3M)(uo),this.navigationId=0,this.afterPreactivation=()=>(0,l.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=J=>this.events.next(new Et(J)),this.configLoader.onLoadStartListener=J=>this.events.next(new Li(J))}complete(){this.transitions?.complete()}handleNavigationRequest(S){const V=++this.navigationId;this.transitions?.next({...this.transitions.value,...S,id:V})}setupNavigations(S){return this.transitions=new pe.X({id:0,targetPageId:0,currentUrlTree:S.currentUrlTree,currentRawUrl:S.currentUrlTree,extractedUrl:S.urlHandlingStrategy.extract(S.currentUrlTree),urlAfterRedirects:S.urlHandlingStrategy.extract(S.currentUrlTree),rawUrl:S.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ls,restoredState:null,currentSnapshot:S.routerState.snapshot,targetSnapshot:null,currentRouterState:S.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,wt.h)(V=>0!==V.id),(0,lt.U)(V=>({...V,extractedUrl:S.urlHandlingStrategy.extract(V.rawUrl)})),(0,Ze.w)(V=>{let J=!1,ie=!1;return(0,l.of)(V).pipe((0,Bt.b)(de=>{this.currentNavigation={id:de.id,initialUrl:de.rawUrl,extractedUrl:de.extractedUrl,trigger:de.source,extras:de.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ze.w)(de=>{const Qe=S.browserUrlTree.toString(),en=!S.navigated||de.extractedUrl.toString()!==Qe||Qe!==S.currentUrlTree.toString();if(!en&&"reload"!==(de.extras.onSameUrlNavigation??S.onSameUrlNavigation)){const xn="";return this.events.next(new ya(de.id,S.serializeUrl(V.rawUrl),xn,0)),S.rawUrlTree=de.rawUrl,de.resolve(null),Ne.E}if(S.urlHandlingStrategy.shouldProcessUrl(de.rawUrl))return Pa(de.source)&&(S.browserUrlTree=de.extractedUrl),(0,l.of)(de).pipe((0,Ze.w)(xn=>{const Hr=this.transitions?.getValue();return this.events.next(new hn(xn.id,this.urlSerializer.serialize(xn.extractedUrl),xn.source,xn.restoredState)),Hr!==this.transitions?.getValue()?Ne.E:Promise.resolve(xn)}),function kr(x,R,S,V){return(0,Ze.w)(J=>function ut(x,R,S,V,J){return new Hn(x,R,S,V,J).apply()}(x,R,S,J.extractedUrl,V).pipe((0,lt.U)(ie=>({...J,urlAfterRedirects:ie}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,S.config),(0,Bt.b)(xn=>{this.currentNavigation={...this.currentNavigation,finalUrl:xn.urlAfterRedirects},V.urlAfterRedirects=xn.urlAfterRedirects}),function re(x,R,S,V,J){return(0,ct.z)(ie=>function Po(x,R,S,V,J,ie,de="emptyOnly"){return new Xi(x,R,S,V,J,de,ie).recognize().pipe((0,Ze.w)(Qe=>null===Qe?function Vr(x){return new we.y(R=>R.error(x))}(new Ps):(0,l.of)(Qe)))}(x,R,S,ie.urlAfterRedirects,V.serialize(ie.urlAfterRedirects),V,J).pipe((0,lt.U)(de=>({...ie,targetSnapshot:de}))))}(this.environmentInjector,this.rootComponentType,S.config,this.urlSerializer,S.paramsInheritanceStrategy),(0,Bt.b)(xn=>{if(V.targetSnapshot=xn.targetSnapshot,"eager"===S.urlUpdateStrategy){if(!xn.extras.skipLocationChange){const Vi=S.urlHandlingStrategy.merge(xn.urlAfterRedirects,xn.rawUrl);S.setBrowserUrl(Vi,xn)}S.browserUrlTree=xn.urlAfterRedirects}const Hr=new tr(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(Hr)}));if(en&&S.urlHandlingStrategy.shouldProcessUrl(S.rawUrlTree)){const{id:xn,extractedUrl:Hr,source:Vi,restoredState:go,extras:jo}=de,Za=new hn(xn,this.urlSerializer.serialize(Hr),Vi,go);this.events.next(Za);const Wo=Pe(Hr,this.rootComponentType).snapshot;return V={...de,targetSnapshot:Wo,urlAfterRedirects:Hr,extras:{...jo,skipLocationChange:!1,replaceUrl:!1}},(0,l.of)(V)}{const xn="";return this.events.next(new ya(de.id,S.serializeUrl(V.extractedUrl),xn,1)),S.rawUrlTree=de.rawUrl,de.resolve(null),Ne.E}}),(0,Bt.b)(de=>{const Qe=new xo(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(Qe)}),(0,lt.U)(de=>V={...de,guards:gs(de.targetSnapshot,de.currentSnapshot,this.rootContexts)}),function G(x,R){return(0,ct.z)(S=>{const{targetSnapshot:V,currentSnapshot:J,guards:{canActivateChecks:ie,canDeactivateChecks:de}}=S;return 0===de.length&&0===ie.length?(0,l.of)({...S,guardsResult:!0}):function se(x,R,S,V){return(0,M.D)(x).pipe((0,ct.z)(J=>function As(x,R,S,V,J){const ie=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,l.of)(!0);const de=ie.map(Qe=>{const en=an(R)??J,Kn=Zs(Qe,en);return pi(function tl(x){return x&&co(x.canDeactivate)}(Kn)?Kn.canDeactivate(x,R,S,V):en.runInContext(()=>Kn(x,R,S,V))).pipe((0,At.P)())});return(0,l.of)(de).pipe(W())}(J.component,J.route,S,R,V)),(0,At.P)(J=>!0!==J,!0))}(de,V,J,x).pipe((0,ct.z)(Qe=>Qe&&function nr(x){return"boolean"==typeof x}(Qe)?function gt(x,R,S,V){return(0,M.D)(R).pipe((0,bt.b)(J=>(0,Ie.z)(function zi(x,R){return null!==x&&R&&R(new ke(x)),(0,l.of)(!0)}(J.route.parent,V),function $n(x,R){return null!==x&&R&&R(new rt(x)),(0,l.of)(!0)}(J.route,V),function oa(x,R,S){const V=R[R.length-1],ie=R.slice(0,R.length-1).reverse().map(de=>function Wi(x){const R=x.routeConfig?x.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:x,guards:R}:null}(de)).filter(de=>null!==de).map(de=>(0,_e.P)(()=>{const Qe=de.guards.map(en=>{const Kn=an(de.node)??S,xn=Zs(en,Kn);return pi(function mu(x){return x&&co(x.canActivateChild)}(xn)?xn.canActivateChild(V,x):Kn.runInContext(()=>xn(V,x))).pipe((0,At.P)())});return(0,l.of)(Qe).pipe(W())}));return(0,l.of)(ie).pipe(W())}(x,J.path,S),function Qi(x,R,S){const V=R.routeConfig?R.routeConfig.canActivate:null;if(!V||0===V.length)return(0,l.of)(!0);const J=V.map(ie=>(0,_e.P)(()=>{const de=an(R)??S,Qe=Zs(ie,de);return pi(function vl(x){return x&&co(x.canActivate)}(Qe)?Qe.canActivate(R,x):de.runInContext(()=>Qe(R,x))).pipe((0,At.P)())}));return(0,l.of)(J).pipe(W())}(x,J.route,S))),(0,At.P)(J=>!0!==J,!0))}(V,ie,x,R):(0,l.of)(Qe)),(0,lt.U)(Qe=>({...S,guardsResult:Qe})))})}(this.environmentInjector,de=>this.events.next(de)),(0,Bt.b)(de=>{if(V.guardsResult=de.guardsResult,ve(de.guardsResult))throw Vl(0,de.guardsResult);const Qe=new ta(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot,!!de.guardsResult);this.events.next(Qe)}),(0,wt.h)(de=>!!de.guardsResult||(S.restoreHistory(de),this.cancelNavigationTransition(de,"",3),!1)),Ni(de=>{if(de.guards.canActivateChecks.length)return(0,l.of)(de).pipe((0,Bt.b)(Qe=>{const en=new as(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(en)}),(0,Ze.w)(Qe=>{let en=!1;return(0,l.of)(Qe).pipe(function Be(x,R){return(0,ct.z)(S=>{const{targetSnapshot:V,guards:{canActivateChecks:J}}=S;if(!J.length)return(0,l.of)(S);let ie=0;return(0,M.D)(J).pipe((0,bt.b)(de=>function xt(x,R,S,V){const J=x.routeConfig,ie=x._resolve;return void 0!==J?.title&&!hi(J)&&(ie[mn]=J.title),function zt(x,R,S,V){const J=function Cn(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===J.length)return(0,l.of)({});const ie={};return(0,M.D)(J).pipe((0,ct.z)(de=>function vi(x,R,S,V){const J=an(R)??V,ie=Zs(x,J);return pi(ie.resolve?ie.resolve(R,S):J.runInContext(()=>ie(R,S)))}(x[de],R,S,V).pipe((0,At.P)(),(0,Bt.b)(Qe=>{ie[de]=Qe}))),jt(1),(0,Lt.h)(ie),(0,ze.K)(de=>Ra(de)?Ne.E:(0,ge._)(de)))}(ie,x,R,V).pipe((0,lt.U)(de=>(x._resolvedData=de,x.data=na(x,S).resolve,J&&hi(J)&&(x.data[mn]=J.title),null)))}(de.route,V,x,R)),(0,Bt.b)(()=>ie++),jt(1),(0,ct.z)(de=>ie===J.length?(0,l.of)(S):Ne.E))})}(S.paramsInheritanceStrategy,this.environmentInjector),(0,Bt.b)({next:()=>en=!0,complete:()=>{en||(S.restoreHistory(Qe),this.cancelNavigationTransition(Qe,"",2))}}))}),(0,Bt.b)(Qe=>{const en=new ao(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(en)}))}),Ni(de=>{const Qe=en=>{const Kn=[];en.routeConfig?.loadComponent&&!en.routeConfig._loadedComponent&&Kn.push(this.configLoader.loadComponent(en.routeConfig).pipe((0,Bt.b)(xn=>{en.component=xn}),(0,lt.U)(()=>{})));for(const xn of en.children)Kn.push(...Qe(xn));return Kn};return(0,Me.a)(Qe(de.targetSnapshot.root)).pipe((0,vn.d)(),(0,ot.q)(1))}),Ni(()=>this.afterPreactivation()),(0,lt.U)(de=>{const Qe=function el(x,R,S){const V=Ks(x,R._root,S?S._root:void 0);return new Je(V,R)}(S.routeReuseStrategy,de.targetSnapshot,de.currentRouterState);return V={...de,targetRouterState:Qe}}),(0,Bt.b)(de=>{S.currentUrlTree=de.urlAfterRedirects,S.rawUrlTree=S.urlHandlingStrategy.merge(de.urlAfterRedirects,de.rawUrl),S.routerState=de.targetRouterState,"deferred"===S.urlUpdateStrategy&&(de.extras.skipLocationChange||S.setBrowserUrl(S.rawUrlTree,de),S.browserUrlTree=de.urlAfterRedirects)}),((x,R,S)=>(0,lt.U)(V=>(new qn(R,V.targetRouterState,V.currentRouterState,S).activate(x),V)))(this.rootContexts,S.routeReuseStrategy,de=>this.events.next(de)),(0,Bt.b)({next:de=>{J=!0,this.lastSuccessfulNavigation=this.currentNavigation,S.navigated=!0,this.events.next(new Rs(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(S.currentUrlTree))),S.titleStrategy?.updateTitle(de.targetRouterState.snapshot),de.resolve(!0)},complete:()=>{J=!0}}),(0,Wt.x)(()=>{J||ie||this.cancelNavigationTransition(V,"",1),this.currentNavigation?.id===V.id&&(this.currentNavigation=null)}),(0,ze.K)(de=>{if(ie=!0,ps(de)){Mo(de)||(S.navigated=!0,S.restoreHistory(V,!0));const Qe=new Er(V.id,this.urlSerializer.serialize(V.extractedUrl),de.message,de.cancellationCode);if(this.events.next(Qe),Mo(de)){const en=S.urlHandlingStrategy.merge(de.url,S.rawUrlTree),Kn={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===S.urlUpdateStrategy||Pa(V.source)};S.scheduleNavigation(en,ls,null,Kn,{resolve:V.resolve,reject:V.reject,promise:V.promise})}else V.resolve(!1)}else{S.restoreHistory(V,!0);const Qe=new fr(V.id,this.urlSerializer.serialize(V.extractedUrl),de,V.targetSnapshot??void 0);this.events.next(Qe);try{V.resolve(S.errorHandler(de))}catch(en){V.reject(en)}}return Ne.E}))}))}cancelNavigationTransition(S,V,J){const ie=new Er(S.id,this.urlSerializer.serialize(S.extractedUrl),V,J);this.events.next(ie),S.resolve(!1)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Pa(x){return x!==ls}let il=(()=>{class x{buildTitle(S){let V,J=S.root;for(;void 0!==J;)V=this.getResolvedTitleForRoute(J)??V,J=J.children.find(ie=>ie.outlet===An);return V}getResolvedTitleForRoute(S){return S.data[mn]}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(vu)},providedIn:"root"}),x})(),vu=(()=>{class x extends il{constructor(S){super(),this.title=S}updateTitle(S){const V=this.buildTitle(S);void 0!==V&&this.title.setTitle(V)}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(dn.Dx))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Fu=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(Go)},providedIn:"root"}),x})();class au{shouldDetach(R){return!1}store(R,S){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,S){return R.routeConfig===S.routeConfig}}let Go=(()=>{class x extends au{}return x.\u0275fac=function(){let R;return function(V){return(R||(R=w.n5z(x)))(V||x)}}(),x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const yu=new w.OlP("",{providedIn:"root",factory:()=>({})});let Vd=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(ks)},providedIn:"root"}),x})(),ks=(()=>{class x{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,V){return S}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Fa(x){throw x}function Sh(x,R,S){return R.parse("/")}const no={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},El={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ms=(()=>{class x{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this.options=(0,w.f3M)(yu,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Fa,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Sh,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(Vd),this.routeReuseStrategy=(0,w.f3M)(Fu),this.urlCreationStrategy=(0,w.f3M)(On),this.titleStrategy=(0,w.f3M)(il),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Qn((0,w.f3M)(Oi,{optional:!0})??[]),this.navigationTransitions=(0,w.f3M)(xs),this.urlSerializer=(0,w.f3M)(In),this.location=(0,w.f3M)(yt.Ye),this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pe(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(S=>{this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const S=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ls,S)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const V="popstate"===S.type?"popstate":"hashchange";"popstate"===V&&setTimeout(()=>{this.navigateToSyncWithBrowser(S.url,V,S.state)},0)}))}navigateToSyncWithBrowser(S,V,J){const ie={replaceUrl:!0},de=J?.navigationId?J:null;if(J){const en={...J};delete en.navigationId,delete en.\u0275routerPageId,0!==Object.keys(en).length&&(ie.state=en)}const Qe=this.parseUrl(S);this.scheduleNavigation(Qe,V,de,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(S){this.config=S.map(cr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,V={}){const{relativeTo:J,queryParams:ie,fragment:de,queryParamsHandling:Qe,preserveFragment:en}=V,Kn=en?this.currentUrlTree.fragment:de;let xn=null;switch(Qe){case"merge":xn={...this.currentUrlTree.queryParams,...ie};break;case"preserve":xn=this.currentUrlTree.queryParams;break;default:xn=ie||null}return null!==xn&&(xn=this.removeEmptyProps(xn)),this.urlCreationStrategy.createUrlTree(J,this.routerState,this.currentUrlTree,S,xn,Kn??null)}navigateByUrl(S,V={skipLocationChange:!1}){const J=ve(S)?S:this.parseUrl(S),ie=this.urlHandlingStrategy.merge(J,this.rawUrlTree);return this.scheduleNavigation(ie,ls,null,V)}navigate(S,V={skipLocationChange:!1}){return function ho(x){for(let R=0;R<x.length;R++){if(null==x[R])throw new w.vHH(4008,!1)}}(S),this.navigateByUrl(this.createUrlTree(S,V),V)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let V;try{V=this.urlSerializer.parse(S)}catch(J){V=this.malformedUriErrorHandler(J,this.urlSerializer,S)}return V}isActive(S,V){let J;if(J=!0===V?{...no}:!1===V?{...El}:V,ve(S))return yn(this.currentUrlTree,S,J);const ie=this.parseUrl(S);return yn(this.currentUrlTree,ie,J)}removeEmptyProps(S){return Object.keys(S).reduce((V,J)=>{const ie=S[J];return null!=ie&&(V[J]=ie),V},{})}scheduleNavigation(S,V,J,ie,de){if(this.disposed)return Promise.resolve(!1);let Qe,en,Kn,xn;return de?(Qe=de.resolve,en=de.reject,Kn=de.promise):Kn=new Promise((Hr,Vi)=>{Qe=Hr,en=Vi}),xn="computed"===this.canceledNavigationResolution?J&&J.\u0275routerPageId?J.\u0275routerPageId:ie.replaceUrl||ie.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:xn,source:V,restoredState:J,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:ie,resolve:Qe,reject:en,promise:Kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kn.catch(Hr=>Promise.reject(Hr))}setBrowserUrl(S,V){const J=this.urlSerializer.serialize(S),ie={...V.extras.state,...this.generateNgRouterState(V.id,V.targetPageId)};this.location.isCurrentPathEqualTo(J)||V.extras.replaceUrl?this.location.replaceState(J,"",ie):this.location.go(J,"",ie)}restoreHistory(S,V=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===J?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(J)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,V){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:V}:{navigationId:S}}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),La=(()=>{class x{constructor(S,V,J,ie,de,Qe){this.router=S,this.route=V,this.tabIndexAttribute=J,this.renderer=ie,this.el=de,this.locationStrategy=Qe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ye.x;const en=de.nativeElement.tagName;this.isAnchorElement="A"===en||"AREA"===en,this.isAnchorElement?this.subscription=S.events.subscribe(Kn=>{Kn instanceof Rs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(S){this._preserveFragment=(0,w.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,w.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,w.D6c)(S)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(S,V,J,ie,de){return!!(null===this.urlTree||this.isAnchorElement&&(0!==S||V||J||ie||de||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const S=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",S)}applyAttributeValue(S,V){const J=this.renderer,ie=this.el.nativeElement;null!==V?J.setAttribute(ie,S,V):J.removeAttribute(ie,S)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return x.\u0275fac=function(S){return new(S||x)(w.Y36(Ms),w.Y36(ji),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(yt.S$))},x.\u0275dir=w.lG2({type:x,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,V){1&S&&w.NdJ("click",function(ie){return V.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&S&&w.uIk("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),x})();class Bu{}let sl=(()=>{class x{constructor(S,V,J,ie,de){this.router=S,this.injector=J,this.preloadingStrategy=ie,this.loader=de}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.h)(S=>S instanceof Rs),(0,bt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,V){const J=[];for(const ie of V){ie.providers&&!ie._injector&&(ie._injector=(0,w.MMx)(ie.providers,S,`Route: ${ie.path}`));const de=ie._injector??S,Qe=ie._loadedInjector??de;ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent?J.push(this.preloadConfig(de,ie)):(ie.children||ie._loadedRoutes)&&J.push(this.processRoutes(Qe,ie.children??ie._loadedRoutes))}return(0,M.D)(J).pipe((0,En.J)())}preloadConfig(S,V){return this.preloadingStrategy.preload(V,()=>{let J;J=V.loadChildren&&void 0===V.canLoad?this.loader.loadChildren(S,V):(0,l.of)(null);const ie=J.pipe((0,ct.z)(de=>null===de?(0,l.of)(void 0):(V._loadedRoutes=de.routes,V._loadedInjector=de.injector,this.processRoutes(de.injector??S,de.routes))));if(V.loadComponent&&!V._loadedComponent){const de=this.loader.loadComponent(V);return(0,M.D)([ie,de]).pipe((0,En.J)())}return ie})}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(Ms),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Bu),w.LFG(Qr))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Ka=new w.OlP("");let Ba=(()=>{class x{constructor(S,V,J,ie,de={}){this.urlSerializer=S,this.transitions=V,this.viewportScroller=J,this.zone=ie,this.options=de,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},de.scrollPositionRestoration=de.scrollPositionRestoration||"disabled",de.anchorScrolling=de.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof hn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Rs&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof De&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,V){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new De(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return x.\u0275fac=function(S){w.$Z()},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),x})();function po(x,R){return{\u0275kind:x,\u0275providers:R}}function Ua(){const x=(0,w.f3M)(w.zs3);return R=>{const S=x.get(w.z2F);if(R!==S.components[0])return;const V=x.get(Ms),J=x.get(Xr);1===x.get(Io)&&V.initialNavigation(),x.get(yc,null,w.XFs.Optional)?.setUpPreloading(),x.get(Ka,null,w.XFs.Optional)?.init(),V.resetRootComponentType(S.componentTypes[0]),J.closed||(J.next(),J.unsubscribe())}}const Xr=new w.OlP("",{factory:()=>new Ye.x}),Io=new w.OlP("",{providedIn:"root",factory:()=>1});const yc=new w.OlP("");function jl(x){return po(0,[{provide:yc,useExisting:sl},{provide:Bu,useExisting:x}])}const lu=new w.OlP("ROUTER_FORROOT_GUARD"),tc=[yt.Ye,{provide:In,useClass:ss},Ms,uo,{provide:ji,useFactory:function fo(x){return x.routerState.root},deps:[Ms]},Qr,[]];function Ec(){return new w.PXZ("Router",Ms)}let Wl=(()=>{class x{constructor(S){}static forRoot(S,V){return{ngModule:x,providers:[tc,[],{provide:Oi,multi:!0,useValue:S},{provide:lu,useFactory:Eu,deps:[[Ms,new w.FiY,new w.tp0]]},{provide:yu,useValue:V||{}},V?.useHash?{provide:yt.S$,useClass:yt.Do}:{provide:yt.S$,useClass:yt.b0},{provide:Ka,useFactory:()=>{const x=(0,w.f3M)(yt.EM),R=(0,w.f3M)(w.R0b),S=(0,w.f3M)(yu),V=(0,w.f3M)(xs),J=(0,w.f3M)(In);return S.scrollOffset&&x.setOffset(S.scrollOffset),new Ba(J,V,x,R,S)}},V?.preloadingStrategy?jl(V.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:Ec},V?.initialNavigation?ro(V):[],[{provide:Ri,useFactory:Ua},{provide:w.tb,multi:!0,useExisting:Ri}]]}}static forChild(S){return{ngModule:x,providers:[{provide:Oi,multi:!0,useValue:S}]}}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(lu,8))},x.\u0275mod=w.oAB({type:x}),x.\u0275inj=w.cJS({imports:[Eo]}),x})();function Eu(x){return"guarded"}function ro(x){return["disabled"===x.initialNavigation?po(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const R=(0,w.f3M)(Ms);return()=>{R.setUpLocationChangeListener()}}},{provide:Io,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?po(2,[{provide:Io,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:R=>{const S=R.get(yt.V_,Promise.resolve());return()=>S.then(()=>new Promise(J=>{const ie=R.get(Ms),de=R.get(Xr);(function V(J){R.get(Ms).events.pipe((0,wt.h)(de=>de instanceof Rs||de instanceof Er||de instanceof fr),(0,lt.U)(de=>de instanceof Rs||de instanceof Er&&(0===de.code||1===de.code)&&null),(0,wt.h)(de=>null!==de),(0,ot.q)(1)).subscribe(()=>{J()})})(()=>{J(!0)}),R.get(xs).afterPreactivation=()=>(J(!0),de.closed?(0,l.of)(void 0):de),ie.initialNavigation()}))}}]).\u0275providers:[]]}const Ri=new w.OlP("")},3942:(He,be,L)=>{"use strict";L.d(be,{Z:()=>yt});var w=L(2090),M=L(4859),l=L(9681),pe=L(1877);class me{constructor(Ze,ot){this._delegate=Ze,this.firebase=ot,(0,l._addComponent)(Ze,new M.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,l.deleteApp)(this._delegate)))}_getService(Ze,ot=l._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(Ze);return!wt.isInitialized()&&"EXPLICIT"===(null===(it=wt.getComponent())||void 0===it?void 0:it.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:ot})}_removeServiceInstance(Ze,ot=l._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(ot)}_addComponent(Ze){(0,l._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,l._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ge=function Ee(){const lt=function _e(lt){const Ze={},ot={__esModule:!0,initializeApp:function ct(ze,ht={}){const Ft=l.initializeApp(ze,ht);if((0,w.r3)(Ze,Ft.name))return Ze[Ft.name];const Qt=new lt(Ft,ot);return Ze[Ft.name]=Qt,Qt},app:wt,registerVersion:l.registerVersion,setLogLevel:l.setLogLevel,onLog:l.onLog,apps:null,SDK_VERSION:l.SDK_VERSION,INTERNAL:{registerComponent:function bt(ze){const ht=ze.name,Ft=ht.replace("-compat","");if(l._registerComponent(ze)&&"PUBLIC"===ze.type){const Qt=(jt=wt())=>{if("function"!=typeof jt[Ft])throw Ie.create("invalid-app-argument",{appName:ht});return jt[Ft]()};void 0!==ze.serviceProps&&(0,w.ZB)(Qt,ze.serviceProps),ot[Ft]=Qt,lt.prototype[Ft]=function(...jt){return this._getService.bind(this,ht).apply(this,ze.multipleInstances?jt:[])}}return"PUBLIC"===ze.type?ot[Ft]:null},removeApp:function it(ze){delete Ze[ze]},useAsService:function Bt(ze,ht){return"serverAuth"===ht?null:ht},modularAPIs:l}};function wt(ze){if(!(0,w.r3)(Ze,ze=ze||l._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:ze});return Ze[ze]}return ot.default=ot,Object.defineProperty(ot,"apps",{get:function At(){return Object.keys(Ze).map(ze=>Ze[ze])}}),wt.App=lt,ot}(me);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Ze(ot){(0,w.ZB)(lt,ot)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),lt}(),we=new pe.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){we.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&we.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yt=ge;!function Ye(lt){(0,l.registerVersion)("@firebase/app-compat","0.2.1",lt)}()},9681:(He,be,L)=>{"use strict";L.r(be),L.d(be,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Zr,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>An,_addOrOverwriteComponent:()=>mn,_apps:()=>En,_clearComponents:()=>Br,_components:()=>dn,_getProvider:()=>wn,_registerComponent:()=>Un,_removeServiceInstance:()=>Pr,deleteApp:()=>rr,getApp:()=>br,getApps:()=>pi,initializeApp:()=>Wr,onLog:()=>yn,registerVersion:()=>Yr,setLogLevel:()=>Sr});var w=L(5861),M=L(4859),l=L(1877),pe=L(2090),me=L(8766);class Me{constructor($t){this.container=$t}getPlatformInfoString(){return this.container.getProviders().map(Tn=>{if(function Ie(on){return"VERSION"===on.getComponent()?.type}(Tn)){const Wn=Tn.getImmediate();return`${Wn.library}/${Wn.version}`}return null}).filter(Tn=>Tn).join(" ")}}const _e="@firebase/app",ge=new l.Yd("@firebase/app"),Wt="[DEFAULT]",qt={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,dn=new Map;function An(on,$t){try{on.container.addComponent($t)}catch(Tn){ge.debug(`Component ${$t.name} failed to register with FirebaseApp ${on.name}`,Tn)}}function mn(on,$t){on.container.addOrOverwriteComponent($t)}function Un(on){const $t=on.name;if(dn.has($t))return ge.debug(`There were multiple attempts to register component ${$t}.`),!1;dn.set($t,on);for(const Tn of En.values())An(Tn,on);return!0}function wn(on,$t){const Tn=on.container.getProvider("heartbeat").getImmediate({optional:!0});return Tn&&Tn.triggerHeartbeat(),on.container.getProvider($t)}function Pr(on,$t,Tn=Wt){wn(on,$t).clearInstance(Tn)}function Br(){dn.clear()}const dr=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qn{constructor($t,Tn,Wn){this._isDeleted=!1,this._options=Object.assign({},$t),this._config=Object.assign({},Tn),this._name=Tn.name,this._automaticDataCollectionEnabled=Tn.automaticDataCollectionEnabled,this._container=Wn,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($t){this.checkDestroyed(),this._automaticDataCollectionEnabled=$t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($t){this._isDeleted=$t}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const Zr="9.16.0";function Wr(on,$t={}){let Tn=on;"object"!=typeof $t&&($t={name:$t});const Wn=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},$t),Zt=Wn.name;if("string"!=typeof Zt||!Zt)throw dr.create("bad-app-name",{appName:String(Zt)});if(Tn||(Tn=(0,pe.aH)()),!Tn)throw dr.create("no-options");const Ar=En.get(Zt);if(Ar){if((0,pe.vZ)(Tn,Ar.options)&&(0,pe.vZ)(Wn,Ar.config))return Ar;throw dr.create("duplicate-app",{appName:Zt})}const Ue=new M.H0(Zt);for(const je of dn.values())Ue.addComponent(je);const Se=new Qn(Tn,Wn,Ue);return En.set(Zt,Se),Se}function br(on=Wt){const $t=En.get(on);if(!$t&&on===Wt)return Wr();if(!$t)throw dr.create("no-app",{appName:on});return $t}function pi(){return Array.from(En.values())}function rr(on){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,w.Z)(function*(on){const $t=on.name;En.has($t)&&(En.delete($t),yield Promise.all(on.container.getProviders().map(Tn=>Tn.delete())),on.isDeleted=!0)})).apply(this,arguments)}function Yr(on,$t,Tn){var Wn;let Zt=null!==(Wn=qt[on])&&void 0!==Wn?Wn:on;Tn&&(Zt+=`-${Tn}`);const Ar=Zt.match(/\s|\//),Ue=$t.match(/\s|\//);if(Ar||Ue){const Se=[`Unable to register library "${Zt}" with version "${$t}":`];return Ar&&Se.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),Ar&&Ue&&Se.push("and"),Ue&&Se.push(`version name "${$t}" contains illegal characters (whitespace or "/")`),void ge.warn(Se.join(" "))}Un(new M.wA(`${Zt}-version`,()=>({library:Zt,version:$t}),"VERSION"))}function yn(on,$t){if(null!==on&&"function"!=typeof on)throw dr.create("invalid-log-argument");(0,l.Am)(on,$t)}function Sr(on){(0,l.Ub)(on)}const ti="firebase-heartbeat-store";let qr=null;function St(){return qr||(qr=(0,me.X3)("firebase-heartbeat-database",1,{upgrade:(on,$t)=>{0===$t&&on.createObjectStore(ti)}}).catch(on=>{throw dr.create("idb-open",{originalErrorMessage:on.message})})),qr}function pn(){return(pn=(0,w.Z)(function*(on){try{return(yield St()).transaction(ti).objectStore(ti).get(zr(on))}catch($t){if($t instanceof pe.ZR)ge.warn($t.message);else{const Tn=dr.create("idb-get",{originalErrorMessage:$t?.message});ge.warn(Tn.message)}}})).apply(this,arguments)}function Fn(on,$t){return jn.apply(this,arguments)}function jn(){return(jn=(0,w.Z)(function*(on,$t){try{const Wn=(yield St()).transaction(ti,"readwrite");return yield Wn.objectStore(ti).put($t,zr(on)),Wn.done}catch(Tn){if(Tn instanceof pe.ZR)ge.warn(Tn.message);else{const Wn=dr.create("idb-set",{originalErrorMessage:Tn?.message});ge.warn(Wn.message)}}})).apply(this,arguments)}function zr(on){return`${on.name}!${on.options.appId}`}class ss{constructor($t){this.container=$t,this._heartbeatsCache=null;const Tn=this.container.getProvider("app").getImmediate();this._storage=new lr(Tn),this._heartbeatsCachePromise=this._storage.read().then(Wn=>(this._heartbeatsCache=Wn,Wn))}triggerHeartbeat(){var $t=this;return(0,w.Z)(function*(){const Wn=$t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=mr();if(null===$t._heartbeatsCache&&($t._heartbeatsCache=yield $t._heartbeatsCachePromise),$t._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!$t._heartbeatsCache.heartbeats.some(Ar=>Ar.date===Zt))return $t._heartbeatsCache.heartbeats.push({date:Zt,agent:Wn}),$t._heartbeatsCache.heartbeats=$t._heartbeatsCache.heartbeats.filter(Ar=>{const Ue=new Date(Ar.date).valueOf();return Date.now()-Ue<=2592e6}),$t._storage.overwrite($t._heartbeatsCache)})()}getHeartbeatsHeader(){var $t=this;return(0,w.Z)(function*(){if(null===$t._heartbeatsCache&&(yield $t._heartbeatsCachePromise),null===$t._heartbeatsCache||0===$t._heartbeatsCache.heartbeats.length)return"";const Tn=mr(),{heartbeatsToSend:Wn,unsentEntries:Zt}=function hs(on,$t=1024){const Tn=[];let Wn=on.slice();for(const Zt of on){const Ar=Tn.find(Ue=>Ue.agent===Zt.agent);if(Ar){if(Ar.dates.push(Zt.date),os(Tn)>$t){Ar.dates.pop();break}}else if(Tn.push({agent:Zt.agent,dates:[Zt.date]}),os(Tn)>$t){Tn.pop();break}Wn=Wn.slice(1)}return{heartbeatsToSend:Tn,unsentEntries:Wn}}($t._heartbeatsCache.heartbeats),Ar=(0,pe.L)(JSON.stringify({version:2,heartbeats:Wn}));return $t._heartbeatsCache.lastSentHeartbeatDate=Tn,Zt.length>0?($t._heartbeatsCache.heartbeats=Zt,yield $t._storage.overwrite($t._heartbeatsCache)):($t._heartbeatsCache.heartbeats=[],$t._storage.overwrite($t._heartbeatsCache)),Ar})()}}function mr(){return(new Date).toISOString().substring(0,10)}class lr{constructor($t){this.app=$t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $t=this;return(0,w.Z)(function*(){return(yield $t._canUseIndexedDBPromise)&&(yield function kn(on){return pn.apply(this,arguments)}($t.app))||{heartbeats:[]}})()}overwrite($t){var Tn=this;return(0,w.Z)(function*(){var Wn;if(yield Tn._canUseIndexedDBPromise){const Ar=yield Tn.read();return Fn(Tn.app,{lastSentHeartbeatDate:null!==(Wn=$t.lastSentHeartbeatDate)&&void 0!==Wn?Wn:Ar.lastSentHeartbeatDate,heartbeats:$t.heartbeats})}})()}add($t){var Tn=this;return(0,w.Z)(function*(){var Wn;if(yield Tn._canUseIndexedDBPromise){const Ar=yield Tn.read();return Fn(Tn.app,{lastSentHeartbeatDate:null!==(Wn=$t.lastSentHeartbeatDate)&&void 0!==Wn?Wn:Ar.lastSentHeartbeatDate,heartbeats:[...Ar.heartbeats,...$t.heartbeats]})}})()}}function os(on){return(0,pe.L)(JSON.stringify({version:2,heartbeats:on})).length}!function gi(on){Un(new M.wA("platform-logger",$t=>new Me($t),"PRIVATE")),Un(new M.wA("heartbeat",$t=>new ss($t),"PRIVATE")),Yr(_e,"0.9.1",on),Yr(_e,"0.9.1","esm2017"),Yr("fire-js","")}("")},4859:(He,be,L)=>{"use strict";L.d(be,{H0:()=>_e,wA:()=>l});var w=L(5861),M=L(2090);class l{constructor(ge,we,Ne){this.name=ge,this.instanceFactory=we,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const pe="[DEFAULT]";class me{constructor(ge,we){this.name=ge,this.container=we,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const we=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(we)){const Ne=new M.BH;if(this.instancesDeferred.set(we,Ne),this.isInitialized(we)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:we});at&&Ne.resolve(at)}catch{}}return this.instancesDeferred.get(we).promise}getImmediate(ge){var we;const Ne=this.normalizeInstanceIdentifier(ge?.identifier),at=null!==(we=ge?.optional)&&void 0!==we&&we;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(Ye){if(at)return null;throw Ye}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function Ie(Ee){return"EAGER"===Ee.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[we,Ne]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(we);try{const Ye=this.getOrInitializeService({instanceIdentifier:at});Ne.resolve(Ye)}catch{}}}}clearInstance(ge=pe){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,w.Z)(function*(){const we=Array.from(ge.instances.values());yield Promise.all([...we.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...we.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=pe){return this.instances.has(ge)}getOptions(ge=pe){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:we={}}=ge,Ne=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:Ne,options:we});for(const[Ye,yt]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(Ye)&&yt.resolve(at);return at}onInit(ge,we){var Ne;const at=this.normalizeInstanceIdentifier(we),Ye=null!==(Ne=this.onInitCallbacks.get(at))&&void 0!==Ne?Ne:new Set;Ye.add(ge),this.onInitCallbacks.set(at,Ye);const yt=this.instances.get(at);return yt&&ge(yt,at),()=>{Ye.delete(ge)}}invokeOnInitCallbacks(ge,we){const Ne=this.onInitCallbacks.get(we);if(Ne)for(const at of Ne)try{at(ge,we)}catch{}}getOrInitializeService({instanceIdentifier:ge,options:we={}}){let Ne=this.instances.get(ge);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=ge,Ee===pe?void 0:Ee),options:we}),this.instances.set(ge,Ne),this.instancesOptions.set(ge,we),this.invokeOnInitCallbacks(Ne,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,Ne)}catch{}var Ee;return Ne||null}normalizeInstanceIdentifier(ge=pe){return this.component?this.component.multipleInstances?ge:pe:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const we=this.getProvider(ge.name);if(we.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);we.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const we=new me(ge,this);return this.providers.set(ge,we),we}getProviders(){return Array.from(this.providers.values())}}},1877:(He,be,L)=>{"use strict";L.d(be,{Am:()=>Ee,Ub:()=>_e,Yd:()=>Ie,in:()=>M});const w=[];var M=(()=>{return(ge=M||(M={}))[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",M;var ge})();const l={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},pe=M.INFO,me={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},Me=(ge,we,...Ne)=>{if(we<ge.logLevel)return;const at=(new Date).toISOString(),Ye=me[we];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${we})`);console[Ye](`[${at}]  ${ge.name}:`,...Ne)};class Ie{constructor(we){this.name=we,this._logLevel=pe,this._logHandler=Me,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(we){if(!(we in M))throw new TypeError(`Invalid value "${we}" assigned to \`logLevel\``);this._logLevel=we}setLogLevel(we){this._logLevel="string"==typeof we?l[we]:we}get logHandler(){return this._logHandler}set logHandler(we){if("function"!=typeof we)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=we}get userLogHandler(){return this._userLogHandler}set userLogHandler(we){this._userLogHandler=we}debug(...we){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...we),this._logHandler(this,M.DEBUG,...we)}log(...we){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...we),this._logHandler(this,M.VERBOSE,...we)}info(...we){this._userLogHandler&&this._userLogHandler(this,M.INFO,...we),this._logHandler(this,M.INFO,...we)}warn(...we){this._userLogHandler&&this._userLogHandler(this,M.WARN,...we),this._logHandler(this,M.WARN,...we)}error(...we){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...we),this._logHandler(this,M.ERROR,...we)}}function _e(ge){w.forEach(we=>{we.setLogLevel(ge)})}function Ee(ge,we){for(const Ne of w){let at=null;we&&we.level&&(at=l[we.level]),Ne.userLogHandler=null===ge?null:(Ye,yt,...lt)=>{const Ze=lt.map(ot=>{if(null==ot)return null;if("string"==typeof ot)return ot;if("number"==typeof ot||"boolean"==typeof ot)return ot.toString();if(ot instanceof Error)return ot.message;try{return JSON.stringify(ot)}catch{return null}}).filter(ot=>ot).join(" ");yt>=(at??Ye.logLevel)&&ge({level:M[yt].toLowerCase(),message:Ze,args:lt,type:Ye.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{rM:()=>provideStoreDevtools});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(be,L){if(this.action=be,this.timestamp=L,this.type=PERFORM_ACTION,typeof be.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(be){this.timestamp=be,this.type=RESET}}class Rollback{constructor(be){this.timestamp=be,this.type=ROLLBACK}}class Commit{constructor(be){this.timestamp=be,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(be){this.id=be,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(be,L,w=!0){this.start=be,this.end=L,this.active=w,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(be){this.index=be,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(be){this.actionId=be,this.type=JUMP_TO_ACTION}}class ImportState{constructor(be){this.nextLiftedState=be,this.type=IMPORT_STATE}}class LockChanges{constructor(be){this.status=be,this.type=LOCK_CHANGES}}class PauseRecording{constructor(be){this.status=be,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(He){const be={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},L="function"==typeof He?He():He,l=Object.assign({},be,{features:L.features||!!L.logOnly&&{pause:!0,export:!0,test:!0}||be.features},L);if(l.maxAge&&l.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${l.maxAge}`);return l}function difference(He,be){return He.filter(L=>be.indexOf(L)<0)}function unliftState(He){const{computedStates:be,currentStateIndex:L}=He;if(L>=be.length){const{state:M}=be[be.length-1];return M}const{state:w}=be[L];return w}function unliftAction(He){return He.actionsById[He.nextActionId-1]}function liftAction(He){return new PerformAction(He,+Date.now())}function sanitizeActions(He,be){return Object.keys(be).reduce((L,w)=>{const M=Number(w);return L[M]=sanitizeAction(He,be[M],M),L},{})}function sanitizeAction(He,be,L){return{...be,action:He(be.action,L)}}function sanitizeStates(He,be){return be.map((L,w)=>({state:sanitizeState(He,L.state,w),error:L.error}))}function sanitizeState(He,be,L){return He(be,L)}function shouldFilterActions(He){return He.predicate||He.actionsSafelist||He.actionsBlocklist}function filterLiftedState(He,be,L,w){const M=[],l={},pe=[];return He.stagedActionIds.forEach((me,Me)=>{const Ie=He.actionsById[me];Ie&&(Me&&isActionFiltered(He.computedStates[Me],Ie,be,L,w)||(l[me]=Ie,M.push(me),pe.push(He.computedStates[Me])))}),{...He,stagedActionIds:M,actionsById:l,computedStates:pe}}function isActionFiltered(He,be,L,w,M){const l=L&&!L(He,be.action),pe=w&&!be.action.type.match(w.map(Me=>escapeRegExp(Me)).join("|")),me=M&&be.action.type.match(M.map(Me=>escapeRegExp(Me)).join("|"));return l||pe||me}function escapeRegExp(He){return He.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class He extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return He.\u0275fac=function(){let be;return function(w){return(be||(be=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(He)))(w||He)}}(),He.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:He,factory:He.\u0275fac}),He})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(He,be,L){this.config=be,this.dispatcher=L,this.devtoolsExtension=He,this.createActionStreams()}notify(He,be){if(this.devtoolsExtension)if(He.type===PERFORM_ACTION){if(be.isLocked||be.isPaused)return;const L=unliftState(be);if(shouldFilterActions(this.config)&&isActionFiltered(L,He,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const w=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,L,be.currentStateIndex):L,M=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,He,be.nextActionId):He;this.sendToReduxDevtools(()=>this.extensionConnection.send(M,w))}else{const L={...be,stagedActionIds:be.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,be.actionsById):be.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,be.computedStates):be.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,L,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(He=>{const be=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=be,be.init(),be.subscribe(L=>He.next(L)),be.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const He=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),be=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(me=>me.type===ExtensionActionTypes.START)),L=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(me=>me.type===ExtensionActionTypes.STOP)),w=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(me=>me.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(me=>this.unwrapAction(me.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(me=>me.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Me=>Me.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>me),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(me)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(me))),l=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(me=>me.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(me=>this.unwrapAction(me.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(L)),pe=w.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(L));this.start$=be.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(L)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>l)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>pe))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(He){const be={name:He.name,features:He.features,serialize:He.serialize,autoPause:He.autoPause??!1,trace:He.trace??!1,traceLimit:He.traceLimit??75};return!1!==He.maxAge&&(be.maxAge=He.maxAge),be}sendToReduxDevtools(He){try{He()}catch(be){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",be)}}}return DevtoolsExtension.\u0275fac=function He(be){return new(be||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(He,be,L,w,M){if(w)return{state:L,error:"Interrupted by an error up the chain"};let pe,l=L;try{l=He(L,be)}catch(me){pe=me.toString(),M.handleError(me)}return{state:l,error:pe}}function recomputeStates(He,be,L,w,M,l,pe,me,Me){if(be>=He.length&&He.length===l.length)return He;const Ie=He.slice(0,be),_e=l.length-(Me?1:0);for(let Ee=be;Ee<_e;Ee++){const ge=l[Ee],we=M[ge].action,Ne=Ie[Ee-1],at=Ne?Ne.state:w,Ye=Ne?Ne.error:void 0,lt=pe.indexOf(ge)>-1?Ne:computeNextEntry(L,we,at,Ye,me);Ie.push(lt)}return Me&&Ie.push(He[He.length-1]),Ie}function liftInitialState(He,be){return{monitorState:be(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:He,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(He,be,L,w,M={}){return l=>(pe,me)=>{let{monitorState:Me,actionsById:Ie,nextActionId:_e,stagedActionIds:Ee,skippedActionIds:ge,committedState:we,currentStateIndex:Ne,computedStates:at,isLocked:Ye,isPaused:yt}=pe||be;function lt(it){let wt=it,ct=Ee.slice(1,wt+1);for(let At=0;At<ct.length;At++){if(at[At+1].error){wt=At,ct=Ee.slice(1,wt+1);break}delete Ie[ct[At]]}ge=ge.filter(At=>-1===ct.indexOf(At)),Ee=[0,...Ee.slice(wt+1)],we=at[wt].state,at=at.slice(wt),Ne=Ne>wt?Ne-wt:0}function Ze(){Ie={0:liftAction(INIT_ACTION)},_e=1,Ee=[0],ge=[],we=at[Ne].state,Ne=0,at=[]}pe||(Ie=Object.create(Ie));let ot=0;switch(me.type){case LOCK_CHANGES:Ye=me.status,ot=1/0;break;case PAUSE_RECORDING:yt=me.status,yt?(Ee=[...Ee,_e],Ie[_e]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),_e++,ot=Ee.length-1,at=at.concat(at[at.length-1]),Ne===Ee.length-2&&Ne++,ot=1/0):Ze();break;case RESET:Ie={0:liftAction(INIT_ACTION)},_e=1,Ee=[0],ge=[],we=He,Ne=0,at=[];break;case COMMIT:Ze();break;case ROLLBACK:Ie={0:liftAction(INIT_ACTION)},_e=1,Ee=[0],ge=[],Ne=0,at=[];break;case TOGGLE_ACTION:{const{id:it}=me;ge=-1===ge.indexOf(it)?[it,...ge]:ge.filter(ct=>ct!==it),ot=Ee.indexOf(it);break}case SET_ACTIONS_ACTIVE:{const{start:it,end:wt,active:ct}=me,At=[];for(let bt=it;bt<wt;bt++)At.push(bt);ge=ct?difference(ge,At):[...ge,...At],ot=Ee.indexOf(it);break}case JUMP_TO_STATE:Ne=me.index,ot=1/0;break;case JUMP_TO_ACTION:{const it=Ee.indexOf(me.actionId);-1!==it&&(Ne=it),ot=1/0;break}case SWEEP:Ee=difference(Ee,ge),ge=[],Ne=Math.min(Ne,Ee.length-1);break;case PERFORM_ACTION:{if(Ye)return pe||be;if(yt||pe&&isActionFiltered(pe.computedStates[Ne],me,M.predicate,M.actionsSafelist,M.actionsBlocklist)){const wt=at[at.length-1];at=[...at.slice(0,-1),computeNextEntry(l,me.action,wt.state,wt.error,L)],ot=1/0;break}M.maxAge&&Ee.length===M.maxAge&&lt(1),Ne===Ee.length-1&&Ne++;const it=_e++;Ie[it]=me,Ee=[...Ee,it],ot=Ee.length-1;break}case IMPORT_STATE:({monitorState:Me,actionsById:Ie,nextActionId:_e,stagedActionIds:Ee,skippedActionIds:ge,committedState:we,currentStateIndex:Ne,computedStates:at,isLocked:Ye,isPaused:yt}=me.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:ot=0,M.maxAge&&Ee.length>M.maxAge&&(at=recomputeStates(at,ot,l,we,Ie,Ee,ge,L,yt),lt(Ee.length-M.maxAge),ot=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(at.filter(wt=>wt.error).length>0)ot=0,M.maxAge&&Ee.length>M.maxAge&&(at=recomputeStates(at,ot,l,we,Ie,Ee,ge,L,yt),lt(Ee.length-M.maxAge),ot=1/0);else{if(!yt&&!Ye){Ne===Ee.length-1&&Ne++;const wt=_e++;Ie[wt]=new PerformAction(me,+Date.now()),Ee=[...Ee,wt],ot=Ee.length-1,at=recomputeStates(at,ot,l,we,Ie,Ee,ge,L,yt)}at=at.map(wt=>({...wt,state:l(wt.state,RECOMPUTE_ACTION)})),Ne=Ee.length-1,M.maxAge&&Ee.length>M.maxAge&&lt(Ee.length-M.maxAge),ot=1/0}break;default:ot=1/0}return at=recomputeStates(at,ot,l,we,Ie,Ee,ge,L,yt),Me=w(Me,me),{monitorState:Me,actionsById:Ie,nextActionId:_e,stagedActionIds:Ee,skippedActionIds:ge,committedState:we,currentStateIndex:Ne,computedStates:at,isLocked:Ye,isPaused:yt}}}let StoreDevtools=(()=>{class He{constructor(L,w,M,l,pe,me,Me,Ie){const _e=liftInitialState(Me,Ie.monitor),Ee=liftReducerWith(Me,_e,me,Ie.monitor,Ie),ge=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(w.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),l.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),L,l.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),we=M.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Ee)),Ne=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),at=ge.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(we),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ze},[ot,it])=>{let wt=it(Ze,ot);return ot.type!==PERFORM_ACTION&&shouldFilterActions(Ie)&&(wt=filterLiftedState(wt,Ie.predicate,Ie.actionsSafelist,Ie.actionsBlocklist)),l.notify(ot,wt),{state:wt,action:ot}},{state:_e,action:null})).subscribe(({state:Ze,action:ot})=>{Ne.next(Ze),ot.type===PERFORM_ACTION&&pe.next(ot.action)}),Ye=l.start$.subscribe(()=>{this.refresh()}),yt=Ne.asObservable(),lt=yt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ye,this.stateSubscription=at,this.dispatcher=L,this.liftedState=yt,this.state=lt}dispatch(L){this.dispatcher.next(L)}next(L){this.dispatcher.next(L)}error(L){}complete(){}performAction(L){this.dispatch(new PerformAction(L,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(L){this.dispatch(new ToggleAction(L))}jumpToAction(L){this.dispatch(new JumpToAction(L))}jumpToState(L){this.dispatch(new JumpToState(L))}importState(L){this.dispatch(new ImportState(L))}lockChanges(L){this.dispatch(new LockChanges(L))}pauseRecording(L){this.dispatch(new PauseRecording(L))}}return He.\u0275fac=function(L){return new(L||He)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},He.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:He,factory:He.\u0275fac}),He})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(He,be){return Boolean(He)||be.monitor!==noMonitor}function createReduxDevtoolsExtension(){const He="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[He]<"u"?window[He]:null}function provideStoreDevtools(He={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:He},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(He){return He.state}let StoreDevtoolsModule=(()=>{class He{static instrument(L={}){return{ngModule:He,providers:[provideStoreDevtools(L)]}}}return He.\u0275fac=function(L){return new(L||He)},He.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:He}),He.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),He})()},9653:(He,be,L)=>{"use strict";L.d(be,{UO:()=>Bt,Py:()=>Qn,qg:()=>bt,Y6:()=>Qt,qY:()=>dr,mK:()=>Yr,n$:()=>Xn,Y$:()=>Ii,FR:()=>qr,yh:()=>Fn,wb:()=>yn,PH:()=>Ye,ZF:()=>$e,Lq:()=>Et,P1:()=>vt,on:()=>Li,Ky:()=>yt,mW:()=>ya,Ys:()=>zr});var w=L(4650),M=L(1135),l=L(9751),pe=L(7579),me=L(233),Me=L(5363),Ie=L(1365),_e=L(5026),Ee=L(4004),we=L(1884);const Ne={};function Ye(ke,_t){if(Ne[ke]=(Ne[ke]||0)+1,"function"==typeof _t)return Ze(ke,(...Pt)=>({..._t(...Pt),type:ke}));switch(_t?_t._as:"empty"){case"empty":return Ze(ke,()=>({type:ke}));case"props":return Ze(ke,Pt=>({...Pt,type:ke}));default:throw new Error("Unexpected config.")}}function yt(){return{_as:"props",_p:void 0}}function Ze(ke,_t){return Object.defineProperty(_t,"type",{value:ke,writable:!1})}const bt="@ngrx/store/init";let Bt=(()=>{class ke extends M.X{constructor(){super({type:bt})}next(rt){if("function"==typeof rt)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof rt>"u")throw new TypeError("Actions must be objects");if(typeof rt.type>"u")throw new TypeError("Actions must have a type property");super.next(rt)}complete(){}ngOnDestroy(){super.complete()}}return ke.\u0275fac=function(rt){return new(rt||ke)},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const ze=[Bt],ht=new w.OlP("@ngrx/store Internal Root Guard"),Ft=new w.OlP("@ngrx/store Internal Initial State"),Qt=new w.OlP("@ngrx/store Initial State"),jt=new w.OlP("@ngrx/store Reducer Factory"),Jn=new w.OlP("@ngrx/store Internal Reducer Factory Provider"),vn=new w.OlP("@ngrx/store Initial Reducers"),mt=new w.OlP("@ngrx/store Internal Initial Reducers"),Dt=(new w.OlP("@ngrx/store Store Features"),new w.OlP("@ngrx/store Internal Store Reducers")),An=(new w.OlP("@ngrx/store Internal Feature Reducers"),new w.OlP("@ngrx/store Internal Feature Configs"),new w.OlP("@ngrx/store Internal Store Features"),new w.OlP("@ngrx/store Internal Feature Reducers Token"),new w.OlP("@ngrx/store Feature Reducers"),new w.OlP("@ngrx/store User Provided Meta Reducers")),mn=new w.OlP("@ngrx/store Meta Reducers"),Un=new w.OlP("@ngrx/store Internal Resolved Meta Reducers"),wn=new w.OlP("@ngrx/store User Runtime Checks Config"),Pr=new w.OlP("@ngrx/store Internal User Runtime Checks Config"),Br=new w.OlP("@ngrx/store Internal Runtime Checks"),yr=new w.OlP("@ngrx/store Check if Action types are unique"),dr=new w.OlP("@ngrx/store Root Store Provider"),Qn=new w.OlP("@ngrx/store Feature State Provider");function Zr(ke,_t={}){const rt=Object.keys(ke),Pt={};for(let Te=0;Te<rt.length;Te++){const Ke=rt[Te];"function"==typeof ke[Ke]&&(Pt[Ke]=ke[Ke])}const De=Object.keys(Pt);return function(Ke,Nt){Ke=void 0===Ke?_t:Ke;let rn=!1;const On={};for(let Nn=0;Nn<De.length;Nn++){const Cr=De[Nn],Bi=Ke[Cr],us=(0,Pt[Cr])(Bi,Nt);On[Cr]=us,rn=rn||us!==Bi}return rn?On:Ke}}function br(...ke){return function(_t){if(0===ke.length)return _t;const rt=ke[ke.length-1];return ke.slice(0,-1).reduceRight((De,Te)=>Te(De),rt(_t))}}function pi(ke,_t){return Array.isArray(_t)&&_t.length>0&&(ke=br.apply(null,[..._t,ke])),(rt,Pt)=>{const De=ke(rt);return(Te,Ke)=>De(Te=void 0===Te?Pt:Te,Ke)}}class Xn extends l.y{}class Yr extends Bt{}const yn="@ngrx/store/update-reducers";let Sr=(()=>{class ke extends M.X{constructor(rt,Pt,De,Te){super(Te(De,Pt)),this.dispatcher=rt,this.initialState=Pt,this.reducers=De,this.reducerFactory=Te}get currentReducers(){return this.reducers}addFeature(rt){this.addFeatures([rt])}addFeatures(rt){const Pt=rt.reduce((De,{reducers:Te,reducerFactory:Ke,metaReducers:Nt,initialState:rn,key:On})=>{const Nn="function"==typeof Te?function rr(ke){const _t=Array.isArray(ke)&&ke.length>0?br(...ke):rt=>rt;return(rt,Pt)=>(rt=_t(rt),(De,Te)=>rt(De=void 0===De?Pt:De,Te))}(Nt)(Te,rn):pi(Ke,Nt)(Te,rn);return De[On]=Nn,De},{});this.addReducers(Pt)}removeFeature(rt){this.removeFeatures([rt])}removeFeatures(rt){this.removeReducers(rt.map(Pt=>Pt.key))}addReducer(rt,Pt){this.addReducers({[rt]:Pt})}addReducers(rt){this.reducers={...this.reducers,...rt},this.updateReducers(Object.keys(rt))}removeReducer(rt){this.removeReducers([rt])}removeReducers(rt){rt.forEach(Pt=>{this.reducers=function Wr(ke,_t){return Object.keys(ke).filter(rt=>rt!==_t).reduce((rt,Pt)=>Object.assign(rt,{[Pt]:ke[Pt]}),{})}(this.reducers,Pt)}),this.updateReducers(rt)}updateReducers(rt){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:yn,features:rt})}ngOnDestroy(){this.complete()}}return ke.\u0275fac=function(rt){return new(rt||ke)(w.LFG(Yr),w.LFG(Qt),w.LFG(vn),w.LFG(jt))},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const Fi=[Sr,{provide:Xn,useExisting:Sr},{provide:Yr,useExisting:Bt}];let Ii=(()=>{class ke extends pe.x{ngOnDestroy(){this.complete()}}return ke.\u0275fac=function(){let _t;return function(Pt){return(_t||(_t=w.n5z(ke)))(Pt||ke)}}(),ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const ti=[Ii];class qr extends l.y{}let St=(()=>{class ke extends M.X{constructor(rt,Pt,De,Te){super(Te);const On=rt.pipe((0,Me.Q)(me.N)).pipe((0,Ie.M)(Pt)).pipe((0,_e.R)(kn,{state:Te}));this.stateSubscription=On.subscribe(({state:Nn,action:Cr})=>{this.next(Nn),De.next(Cr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return ke.INIT=bt,ke.\u0275fac=function(rt){return new(rt||ke)(w.LFG(Bt),w.LFG(Xn),w.LFG(Ii),w.LFG(Qt))},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();function kn(ke={state:void 0},[_t,rt]){const{state:Pt}=ke;return{state:rt(Pt,_t),action:_t}}const pn=[St,{provide:qr,useExisting:St}];let Fn=(()=>{class ke extends l.y{constructor(rt,Pt,De){super(),this.actionsObserver=Pt,this.reducerManager=De,this.source=rt}select(rt,...Pt){return zr.call(null,rt,...Pt)(this)}lift(rt){const Pt=new ke(this,this.actionsObserver,this.reducerManager);return Pt.operator=rt,Pt}dispatch(rt){this.actionsObserver.next(rt)}next(rt){this.actionsObserver.next(rt)}error(rt){this.actionsObserver.error(rt)}complete(){this.actionsObserver.complete()}addReducer(rt,Pt){this.reducerManager.addReducer(rt,Pt)}removeReducer(rt){this.reducerManager.removeReducer(rt)}}return ke.\u0275fac=function(rt){return new(rt||ke)(w.LFG(qr),w.LFG(Bt),w.LFG(Sr))},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const jn=[Fn];function zr(ke,_t,...rt){return function(De){let Te;if("string"==typeof ke){const Ke=[_t,...rt].filter(Boolean);Te=De.pipe(function ge(...ke){const _t=ke.length;if(0===_t)throw new Error("list of properties cannot be empty.");return(0,Ee.U)(rt=>{let Pt=rt;for(let De=0;De<_t;De++){const Te=Pt?.[ke[De]];if(!(typeof Te<"u"))return;Pt=Te}return Pt})}(ke,...Ke))}else{if("function"!=typeof ke)throw new TypeError(`Unexpected type '${typeof ke}' in select operator, expected 'string' or 'function'`);Te=De.pipe((0,Ee.U)(Ke=>ke(Ke,_t)))}return Te.pipe((0,we.x)())}}const Ji="https://ngrx.io/guide/store/configuration/runtime-checks";function In(ke){return void 0===ke}function ss(ke){return null===ke}function mr(ke){return Array.isArray(ke)}function gi(ke){return"object"==typeof ke&&null!==ke}function Tn(ke){return"function"==typeof ke}function je(ke,_t){return ke===_t}function Ce(ke,_t,rt){for(let Pt=0;Pt<ke.length;Pt++)if(!rt(ke[Pt],_t[Pt]))return!0;return!1}function Ae(ke,_t=je,rt=je){let Te,Pt=null,De=null;return{memoized:function On(){if(void 0!==Te)return Te.result;if(!Pt)return De=ke.apply(null,arguments),Pt=arguments,De;if(!Ce(arguments,Pt,_t))return De;const Nn=ke.apply(null,arguments);return Pt=arguments,rt(De,Nn)?De:(De=Nn,Nn)},reset:function Ke(){Pt=null,De=null},setResult:function Nt(Nn){Te={result:Nn}},clearResult:function rn(){Te=void 0}}}function vt(...ke){return function Dn(ke,_t={stateFn:Kt}){return function(...rt){let Pt=rt;if(Array.isArray(Pt[0])){const[Nn,...Cr]=Pt;Pt=[...Nn,...Cr]}else 1===Pt.length&&function Fe(ke){return!!ke&&"object"==typeof ke&&Object.values(ke).every(_t=>"function"==typeof _t)}(Pt[0])&&(Pt=function ve(ke){const _t=Object.values(ke),rt=Object.keys(ke);return[..._t,(...De)=>rt.reduce((Te,Ke,Nt)=>({...Te,[Ke]:De[Nt]}),{})]}(Pt[0]));const De=Pt.slice(0,Pt.length-1),Te=Pt[Pt.length-1],Ke=De.filter(Nn=>Nn.release&&"function"==typeof Nn.release),Nt=ke(function(...Nn){return Te.apply(null,Nn)}),rn=Ae(function(Nn,Cr){return _t.stateFn.apply(null,[Nn,De,Cr,Nt])});return Object.assign(rn.memoized,{release:function On(){rn.reset(),Nt.reset(),Ke.forEach(Nn=>Nn.release())},projector:Nt.memoized,setResult:rn.setResult,clearResult:rn.clearResult})}}(Ae)(...ke)}function Kt(ke,_t,rt,Pt){if(void 0===rt){const Te=_t.map(Ke=>Ke(ke));return Pt.memoized.apply(null,Te)}const De=_t.map(Te=>Te(ke,rt));return Pt.memoized.apply(null,[...De,rt])}function $e(ke){return vt(_t=>{const rt=_t[ke];return(0,w.X6Q)()&&!(ke in _t)&&console.warn(`@ngrx/store: The feature name "${ke}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${ke}', ...) or StoreModule.forFeature('${ke}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),rt},_t=>_t)}function Mn(ke){return ke instanceof w.OlP?(0,w.f3M)(ke):ke}function fs(ke){return"function"==typeof ke?ke():ke}function Ur(ke,_t){return ke.concat(_t)}function Hi(){if((0,w.f3M)(Fn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function oo(ke){Object.freeze(ke);const _t=Tn(ke);return Object.getOwnPropertyNames(ke).forEach(rt=>{if(!rt.startsWith("\u0275")&&function Zt(ke,_t){return Object.prototype.hasOwnProperty.call(ke,_t)}(ke,rt)&&(!_t||"caller"!==rt&&"callee"!==rt&&"arguments"!==rt)){const Pt=ke[rt];(gi(Pt)||Tn(Pt))&&!Object.isFrozen(Pt)&&oo(Pt)}}),ke}function oi(ke,_t=[]){return(In(ke)||ss(ke))&&0===_t.length?{path:["root"],value:ke}:Object.keys(ke).reduce((Pt,De)=>{if(Pt)return Pt;const Te=ke[De];return function Wn(ke){return Tn(ke)&&ke.hasOwnProperty("\u0275cmp")}(Te)?Pt:!(In(Te)||ss(Te)||function os(ke){return"number"==typeof ke}(Te)||function lr(ke){return"boolean"==typeof ke}(Te)||function hs(ke){return"string"==typeof ke}(Te)||mr(Te))&&(function $t(ke){if(!function on(ke){return gi(ke)&&!mr(ke)}(ke))return!1;const _t=Object.getPrototypeOf(ke);return _t===Object.prototype||null===_t}(Te)?oi(Te,[..._t,De]):{path:[..._t,De],value:Te})},!1)}function qs(ke,_t){if(!1===ke)return;const rt=ke.path.join("."),Pt=new Error(`Detected unserializable ${_t} at "${rt}". ${Ji}#strict${_t}serializability`);throw Pt.value=ke.value,Pt.unserializablePath=rt,Pt}function mi(ke){return(0,w.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ke}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ai({strictActionSerializability:ke,strictStateSerializability:_t}){return rt=>ke||_t?function bs(ke,_t){return function(rt,Pt){_t.action(Pt)&&qs(oi(Pt),"action");const De=ke(rt,Pt);return _t.state()&&qs(oi(De),"state"),De}}(rt,{action:Pt=>ke&&!xi(Pt),state:()=>_t}):rt}function wi({strictActionImmutability:ke,strictStateImmutability:_t}){return rt=>ke||_t?function Os(ke,_t){return function(rt,Pt){const De=_t.action(Pt)?oo(Pt):Pt,Te=ke(rt,De);return _t.state()?oo(Te):Te}}(rt,{action:Pt=>ke&&!xi(Pt),state:()=>_t}):rt}function xi(ke){return ke.type.startsWith("@ngrx")}function ni({strictActionWithinNgZone:ke}){return _t=>ke?function Jr(ke,_t){return function(rt,Pt){if(_t.action(Pt)&&!w.R0b.isInAngularZone())throw new Error(`Action '${Pt.type}' running outside NgZone. ${Ji}#strictactionwithinngzone`);return ke(rt,Pt)}}(_t,{action:rt=>ke&&!xi(rt)}):_t}function Pn(ke){return[{provide:Pr,useValue:ke},{provide:wn,useFactory:Gi,deps:[Pr]},{provide:Br,deps:[wn],useFactory:mi},{provide:mn,multi:!0,deps:[Br],useFactory:wi},{provide:mn,multi:!0,deps:[Br],useFactory:Ai},{provide:mn,multi:!0,deps:[Br],useFactory:ni}]}function Gi(ke){return ke}function ls(ke){if(!ke.strictActionTypeUniqueness)return;const _t=Object.entries(Ne).filter(([,rt])=>rt>1).map(([rt])=>rt);if(_t.length)throw new Error(`Action types are registered more than once, ${_t.map(rt=>`"${rt}"`).join(", ")}. ${Ji}#strictactiontypeuniqueness`)}function hn(ke={},_t={}){return[{provide:ht,useFactory:Hi},{provide:Ft,useValue:_t.initialState},{provide:Qt,useFactory:fs,deps:[Ft]},{provide:mt,useValue:ke},{provide:Dt,useExisting:ke instanceof w.OlP?ke:mt},{provide:vn,deps:[mt,[new w.tBr(Dt)]],useFactory:Mn},{provide:An,useValue:_t.metaReducers?_t.metaReducers:[]},{provide:Un,deps:[mn,An],useFactory:Ur},{provide:Jn,useValue:_t.reducerFactory?_t.reducerFactory:Zr},{provide:jt,deps:[Jn,Un],useFactory:pi},ze,Fi,ti,pn,jn,Pn(_t.runtimeChecks),[{provide:yr,multi:!0,deps:[Br],useFactory:ls}]]}const Er=[{provide:dr,useFactory:function Rs(){(0,w.f3M)(Bt),(0,w.f3M)(Xn),(0,w.f3M)(Ii),(0,w.f3M)(Fn),(0,w.f3M)(ht,{optional:!0}),(0,w.f3M)(yr,{optional:!0})}},{provide:w.Xts,multi:!0,useFactory:()=>()=>(0,w.f3M)(dr)}];function ya(ke,_t){return(0,w.MR2)([...hn(ke,_t),Er])}function Li(...ke){return{reducer:ke.pop(),types:ke.map(Pt=>Pt.type)}}function Et(ke,..._t){const rt=new Map;for(const Pt of _t)for(const De of Pt.types){const Te=rt.get(De);rt.set(De,Te?(Nt,rn)=>Pt.reducer(Te(Nt,rn),rn):Pt.reducer)}return function(Pt=ke,De){const Te=rt.get(De.type);return Te?Te(Pt,De):Pt}}},259:(He,be,L)=>{"use strict";L.d(be,{C6:()=>w.getApps,Mq:()=>w.getApp});var w=L(9681);(0,w.registerVersion)("firebase","9.16.0","app")},9260:(He,be,L)=>{"use strict";L.d(be,{Z:()=>w.Z});var w=L(3942);w.Z.registerVersion("firebase","9.16.0","app-compat")},9568:(He,be,L)=>{"use strict";L.r(be);var w=L(5861),M=L(3942),l=L(1808),pe=L(2090),Ie=(L(9681),L(1877),L(4859));function _e(){return window}function we(){return(we=(0,w.Z)(function*(Ce,ue,Ae){var vt;const{BuildInfo:Kt}=_e();(0,l.ap)(ue.sessionId,"AuthEvent did not contain a session ID");const Dn=yield ot(ue.sessionId),$e={};return(0,l.aq)()?$e.ibi=Kt.packageName:(0,l.ar)()?$e.apn=Kt.packageName:(0,l.as)(Ce,"operation-not-supported-in-this-environment"),Kt.displayName&&($e.appDisplayName=Kt.displayName),$e.sessionId=Dn,(0,l.at)(Ce,Ae,ue.type,void 0,null!==(vt=ue.eventId)&&void 0!==vt?vt:void 0,$e)})).apply(this,arguments)}function at(){return(at=(0,w.Z)(function*(Ce){const{BuildInfo:ue}=_e(),Ae={};(0,l.aq)()?Ae.iosBundleId=ue.packageName:(0,l.ar)()?Ae.androidPackageName=ue.packageName:(0,l.as)(Ce,"operation-not-supported-in-this-environment"),yield(0,l.au)(Ce,Ae)})).apply(this,arguments)}function lt(){return(lt=(0,w.Z)(function*(Ce,ue,Ae){const{cordova:vt}=_e();let Kt=()=>{};try{yield new Promise((Dn,$e)=>{let Fe=null;function ve(){var Xt;Dn();const Mn=null===(Xt=vt.plugins.browsertab)||void 0===Xt?void 0:Xt.close;"function"==typeof Mn&&Mn(),"function"==typeof Ae?.close&&Ae.close()}function nt(){Fe||(Fe=window.setTimeout(()=>{$e((0,l.aw)(Ce,"redirect-cancelled-by-user"))},2e3))}function Ht(){"visible"===document?.visibilityState&&nt()}ue.addPassiveListener(ve),document.addEventListener("resume",nt,!1),(0,l.ar)()&&document.addEventListener("visibilitychange",Ht,!1),Kt=()=>{ue.removePassiveListener(ve),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",Ht,!1),Fe&&window.clearTimeout(Fe)}})}finally{Kt()}})).apply(this,arguments)}function ot(Ce){return it.apply(this,arguments)}function it(){return(it=(0,w.Z)(function*(Ce){const ue=wt(Ce),Ae=yield crypto.subtle.digest("SHA-256",ue);return Array.from(new Uint8Array(Ae)).map(Kt=>Kt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wt(Ce){if((0,l.ap)(/[0-9a-zA-Z]+/.test(Ce),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Ce);const ue=new ArrayBuffer(Ce.length),Ae=new Uint8Array(ue);for(let vt=0;vt<Ce.length;vt++)Ae[vt]=Ce.charCodeAt(vt);return Ae}class At extends l.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ue=>{this.resolveInialized=ue})}addPassiveListener(ue){this.passiveListeners.add(ue)}removePassiveListener(ue){this.passiveListeners.delete(ue)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ue){return this.resolveInialized(),this.passiveListeners.forEach(Ae=>Ae(ue)),super.onEvent(ue)}initialized(){var ue=this;return(0,w.Z)(function*(){yield ue.initPromise})()}}function ze(Ce){return ht.apply(this,arguments)}function ht(){return(ht=(0,w.Z)(function*(Ce){const ue=yield jt()._get(Jn(Ce));return ue&&(yield jt()._remove(Jn(Ce))),ue})).apply(this,arguments)}function Qt(){const Ce=[],ue="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ae=0;Ae<20;Ae++){const vt=Math.floor(Math.random()*ue.length);Ce.push(ue.charAt(vt))}return Ce.join("")}function jt(){return(0,l.az)(l.b)}function Jn(Ce){return(0,l.aA)("authEvent",Ce.config.apiKey,Ce.name)}function st(Ce){if(!Ce?.includes("?"))return{};const[ue,...Ae]=Ce.split("?");return(0,pe.zd)(Ae.join("?"))}const Wt=class Lt{constructor(){this._redirectPersistence=l.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=l.aB,this._overrideRedirectResult=l.aC}_initialize(ue){var Ae=this;return(0,w.Z)(function*(){const vt=ue._key();let Kt=Ae.eventManagers.get(vt);return Kt||(Kt=new At(ue),Ae.eventManagers.set(vt,Kt),Ae.attachCallbackListeners(ue,Kt)),Kt})()}_openPopup(ue){(0,l.as)(ue,"operation-not-supported-in-this-environment")}_openRedirect(ue,Ae,vt,Kt){var Dn=this;return(0,w.Z)(function*(){!function Ze(Ce){var ue,Ae,vt,Kt,Dn,$e,Fe,ve,nt,Ht;const Xt=_e();(0,l.ax)("function"==typeof(null===(ue=Xt?.universalLinks)||void 0===ue?void 0:ue.subscribe),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,l.ax)(typeof(null===(Ae=Xt?.BuildInfo)||void 0===Ae?void 0:Ae.packageName)<"u",Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,l.ax)("function"==typeof(null===(Dn=null===(Kt=null===(vt=Xt?.cordova)||void 0===vt?void 0:vt.plugins)||void 0===Kt?void 0:Kt.browsertab)||void 0===Dn?void 0:Dn.openUrl),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,l.ax)("function"==typeof(null===(ve=null===(Fe=null===($e=Xt?.cordova)||void 0===$e?void 0:$e.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===ve?void 0:ve.isAvailable),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,l.ax)("function"==typeof(null===(Ht=null===(nt=Xt?.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===Ht?void 0:Ht.open),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ue);const $e=yield Dn._initialize(ue);yield $e.initialized(),$e.resetRedirect(),(0,l.aD)(),yield Dn._originValidation(ue);const Fe=function bt(Ce,ue,Ae=null){return{type:ue,eventId:Ae,urlResponse:null,sessionId:Qt(),postBody:null,tenantId:Ce.tenantId,error:(0,l.aw)(Ce,"no-auth-event")}}(ue,vt,Kt);yield function Bt(Ce,ue){return jt()._set(Jn(Ce),ue)}(ue,Fe);const ve=yield function ge(Ce,ue,Ae){return we.apply(this,arguments)}(ue,Fe,Ae),nt=yield function Ye(Ce){const{cordova:ue}=_e();return new Promise(Ae=>{ue.plugins.browsertab.isAvailable(vt=>{let Kt=null;vt?ue.plugins.browsertab.openUrl(Ce):Kt=ue.InAppBrowser.open(Ce,(0,l.av)()?"_blank":"_system","location=yes"),Ae(Kt)})})}(ve);return function yt(Ce,ue,Ae){return lt.apply(this,arguments)}(ue,$e,nt)})()}_isIframeWebStorageSupported(ue,Ae){throw new Error("Method not implemented.")}_originValidation(ue){const Ae=ue._key();return this.originValidationPromises[Ae]||(this.originValidationPromises[Ae]=function Ne(Ce){return at.apply(this,arguments)}(ue)),this.originValidationPromises[Ae]}attachCallbackListeners(ue,Ae){const{universalLinks:vt,handleOpenURL:Kt,BuildInfo:Dn}=_e(),$e=setTimeout((0,w.Z)(function*(){yield ze(ue),Ae.onEvent(qt())}),500),Fe=function(){var Ht=(0,w.Z)(function*(Xt){clearTimeout($e);const Mn=yield ze(ue);let ii=null;Mn&&Xt?.url&&(ii=function Ft(Ce,ue){var Ae,vt;const Kt=function mt(Ce){const ue=st(Ce),Ae=ue.link?decodeURIComponent(ue.link):void 0,vt=st(Ae).link,Kt=ue.deep_link_id?decodeURIComponent(ue.deep_link_id):void 0;return st(Kt).link||Kt||vt||Ae||Ce}(ue);if(Kt.includes("/__/auth/callback")){const Dn=st(Kt),$e=Dn.firebaseError?function vn(Ce){try{return JSON.parse(Ce)}catch{return null}}(decodeURIComponent(Dn.firebaseError)):null,Fe=null===(vt=null===(Ae=$e?.code)||void 0===Ae?void 0:Ae.split("auth/"))||void 0===vt?void 0:vt[1],ve=Fe?(0,l.aw)(Fe):null;return ve?{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,error:ve,urlResponse:null,sessionId:null,postBody:null}:{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,sessionId:Ce.sessionId,urlResponse:Kt,postBody:null}}return null}(Mn,Xt.url)),Ae.onEvent(ii||qt())});return function(Mn){return Ht.apply(this,arguments)}}();typeof vt<"u"&&"function"==typeof vt.subscribe&&vt.subscribe(null,Fe);const ve=Kt,nt=`${Dn.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var Ht=(0,w.Z)(function*(Xt){if(Xt.toLowerCase().startsWith(nt)&&Fe({url:Xt}),"function"==typeof ve)try{ve(Xt)}catch(Mn){console.error(Mn)}});return function(Xt){return Ht.apply(this,arguments)}}()}};function qt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,l.aw)("no-auth-event")}}function Un(){var Ce;return(null===(Ce=self?.location)||void 0===Ce?void 0:Ce.protocol)||null}function Pr(Ce=(0,pe.z$)()){return!("file:"!==Un()&&"ionic:"!==Un()&&"capacitor:"!==Un()||!Ce.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zr(){try{const Ce=self.localStorage,ue=l.aI();if(Ce)return Ce.setItem(ue,"1"),Ce.removeItem(ue),!function Qn(Ce=(0,pe.z$)()){return function yr(){return(0,pe.w1)()&&11===document?.documentMode}()||function dr(Ce=(0,pe.z$)()){return/Edge\/\d+/.test(Ce)}(Ce)}()||(0,pe.hl)()}catch{return Wr()&&(0,pe.hl)()}return!1}function Wr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function br(){return(function wn(){return"http:"===Un()||"https:"===Un()}()||(0,pe.ru)()||Pr())&&!function Br(){return(0,pe.b$)()||(0,pe.UG)()}()&&Zr()&&!Wr()}function pi(){return Pr()&&typeof document<"u"}function Xn(){return(Xn=(0,w.Z)(function*(){return!!pi()&&new Promise(Ce=>{const ue=setTimeout(()=>{Ce(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ue),Ce(!0)})})})).apply(this,arguments)}const yn={LOCAL:"local",NONE:"none",SESSION:"session"},Sr=l.ax,Fi="persistence";function ti(Ce){return qr.apply(this,arguments)}function qr(){return(qr=(0,w.Z)(function*(Ce){yield Ce._initializationPromise;const ue=kn(),Ae=l.aA(Fi,Ce.config.apiKey,Ce.name);ue&&ue.setItem(Ae,Ce._getPersistence())})).apply(this,arguments)}function kn(){var Ce;try{return(null===(Ce=function Yr(){return typeof window<"u"?window:null}())||void 0===Ce?void 0:Ce.sessionStorage)||null}catch{return null}}const pn=l.ax;class Fn{constructor(){this.browserResolver=l.az(l.k),this.cordovaResolver=l.az(Wt),this.underlyingResolver=null,this._redirectPersistence=l.a,this._completeRedirectFn=l.aB,this._overrideRedirectResult=l.aC}_initialize(ue){var Ae=this;return(0,w.Z)(function*(){return yield Ae.selectUnderlyingResolver(),Ae.assertedUnderlyingResolver._initialize(ue)})()}_openPopup(ue,Ae,vt,Kt){var Dn=this;return(0,w.Z)(function*(){return yield Dn.selectUnderlyingResolver(),Dn.assertedUnderlyingResolver._openPopup(ue,Ae,vt,Kt)})()}_openRedirect(ue,Ae,vt,Kt){var Dn=this;return(0,w.Z)(function*(){return yield Dn.selectUnderlyingResolver(),Dn.assertedUnderlyingResolver._openRedirect(ue,Ae,vt,Kt)})()}_isIframeWebStorageSupported(ue,Ae){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ue,Ae)}_originValidation(ue){return this.assertedUnderlyingResolver._originValidation(ue)}get _shouldInitProactively(){return pi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ue=this;return(0,w.Z)(function*(){if(ue.underlyingResolver)return;const Ae=yield function rr(){return Xn.apply(this,arguments)}();ue.underlyingResolver=Ae?ue.cordovaResolver:ue.browserResolver})()}}function jn(Ce){return Ce.unwrap()}function Ji(Ce){return ss(Ce)}function ss(Ce){const{_tokenResponse:ue}=Ce instanceof pe.ZR?Ce.customData:Ce;if(!ue)return null;if(!(Ce instanceof pe.ZR)&&"temporaryProof"in ue&&"phoneNumber"in ue)return l.P.credentialFromResult(Ce);const Ae=ue.providerId;if(!Ae||Ae===l.o.PASSWORD)return null;let vt;switch(Ae){case l.o.GOOGLE:vt=l.Q;break;case l.o.FACEBOOK:vt=l.N;break;case l.o.GITHUB:vt=l.T;break;case l.o.TWITTER:vt=l.W;break;default:const{oauthIdToken:Kt,oauthAccessToken:Dn,oauthTokenSecret:$e,pendingToken:Fe,nonce:ve}=ue;return Dn||$e||Kt||Fe?Fe?Ae.startsWith("saml.")?l.aL._create(Ae,Fe):l.J._fromParams({providerId:Ae,signInMethod:Ae,pendingToken:Fe,idToken:Kt,accessToken:Dn}):new l.U(Ae).credential({idToken:Kt,accessToken:Dn,rawNonce:ve}):null}return Ce instanceof pe.ZR?vt.credentialFromError(Ce):vt.credentialFromResult(Ce)}function mr(Ce,ue){return ue.catch(Ae=>{throw Ae instanceof pe.ZR&&function In(Ce,ue){var Ae;const vt=null===(Ae=ue.customData)||void 0===Ae?void 0:Ae._tokenResponse;if("auth/multi-factor-auth-required"===ue?.code)ue.resolver=new os(Ce,l.an(Ce,ue));else if(vt){const Kt=ss(ue),Dn=ue;Kt&&(Dn.credential=Kt,Dn.tenantId=vt.tenantId||void 0,Dn.email=vt.email||void 0,Dn.phoneNumber=vt.phoneNumber||void 0)}}(Ce,Ae),Ae}).then(Ae=>{const Kt=Ae.user;return{operationType:Ae.operationType,credential:Ji(Ae),additionalUserInfo:l.al(Ae),user:gi.getOrCreate(Kt)}})}function hs(Ce,ue){return lr.apply(this,arguments)}function lr(){return(lr=(0,w.Z)(function*(Ce,ue){const Ae=yield ue;return{verificationId:Ae.verificationId,confirm:vt=>mr(Ce,Ae.confirm(vt))}})).apply(this,arguments)}class os{constructor(ue,Ae){this.resolver=Ae,this.auth=function zr(Ce){return Ce.wrapped()}(ue)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ue){return mr(jn(this.auth),this.resolver.resolveSignIn(ue))}}class gi{constructor(ue){this._delegate=ue,this.multiFactor=l.ao(ue)}static getOrCreate(ue){return gi.USER_MAP.has(ue)||gi.USER_MAP.set(ue,new gi(ue)),gi.USER_MAP.get(ue)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ue){return this._delegate.getIdTokenResult(ue)}getIdToken(ue){return this._delegate.getIdToken(ue)}linkAndRetrieveDataWithCredential(ue){return this.linkWithCredential(ue)}linkWithCredential(ue){var Ae=this;return(0,w.Z)(function*(){return mr(Ae.auth,l.Z(Ae._delegate,ue))})()}linkWithPhoneNumber(ue,Ae){var vt=this;return(0,w.Z)(function*(){return hs(vt.auth,l.l(vt._delegate,ue,Ae))})()}linkWithPopup(ue){var Ae=this;return(0,w.Z)(function*(){return mr(Ae.auth,l.d(Ae._delegate,ue,Fn))})()}linkWithRedirect(ue){var Ae=this;return(0,w.Z)(function*(){return yield ti(l.aE(Ae.auth)),l.g(Ae._delegate,ue,Fn)})()}reauthenticateAndRetrieveDataWithCredential(ue){return this.reauthenticateWithCredential(ue)}reauthenticateWithCredential(ue){var Ae=this;return(0,w.Z)(function*(){return mr(Ae.auth,l._(Ae._delegate,ue))})()}reauthenticateWithPhoneNumber(ue,Ae){return hs(this.auth,l.r(this._delegate,ue,Ae))}reauthenticateWithPopup(ue){return mr(this.auth,l.e(this._delegate,ue,Fn))}reauthenticateWithRedirect(ue){var Ae=this;return(0,w.Z)(function*(){return yield ti(l.aE(Ae.auth)),l.h(Ae._delegate,ue,Fn)})()}sendEmailVerification(ue){return l.ab(this._delegate,ue)}unlink(ue){var Ae=this;return(0,w.Z)(function*(){return yield l.ak(Ae._delegate,ue),Ae})()}updateEmail(ue){return l.ag(this._delegate,ue)}updatePassword(ue){return l.ah(this._delegate,ue)}updatePhoneNumber(ue){return l.u(this._delegate,ue)}updateProfile(ue){return l.af(this._delegate,ue)}verifyBeforeUpdateEmail(ue,Ae){return l.ac(this._delegate,ue,Ae)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gi.USER_MAP=new WeakMap;const on=l.ax;let $t=(()=>{class Ce{constructor(Ae,vt){if(this.app=Ae,vt.isInitialized())return this._delegate=vt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Kt}=Ae.options;on(Kt,"invalid-api-key",{appName:Ae.name}),on(Kt,"invalid-api-key",{appName:Ae.name});const Dn=typeof window<"u"?Fn:void 0;this._delegate=vt.initialize({options:{persistence:Wn(Kt,Ae.name),popupRedirectResolver:Dn}}),this._delegate._updateErrorMap(l.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Ae){this._delegate.languageCode=Ae}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Ae){this._delegate.tenantId=Ae}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Ae,vt){l.G(this._delegate,Ae,vt)}applyActionCode(Ae){return l.a2(this._delegate,Ae)}checkActionCode(Ae){return l.a3(this._delegate,Ae)}confirmPasswordReset(Ae,vt){return l.a1(this._delegate,Ae,vt)}createUserWithEmailAndPassword(Ae,vt){var Kt=this;return(0,w.Z)(function*(){return mr(Kt._delegate,l.a5(Kt._delegate,Ae,vt))})()}fetchProvidersForEmail(Ae){return this.fetchSignInMethodsForEmail(Ae)}fetchSignInMethodsForEmail(Ae){return l.aa(this._delegate,Ae)}isSignInWithEmailLink(Ae){return l.a8(this._delegate,Ae)}getRedirectResult(){var Ae=this;return(0,w.Z)(function*(){on(br(),Ae._delegate,"operation-not-supported-in-this-environment");const vt=yield l.j(Ae._delegate,Fn);return vt?mr(Ae._delegate,Promise.resolve(vt)):{credential:null,user:null}})()}addFrameworkForLogging(Ae){!function En(Ce,ue){(0,l.aE)(Ce)._logFramework(ue)}(this._delegate,Ae)}onAuthStateChanged(Ae,vt,Kt){const{next:Dn,error:$e,complete:Fe}=Tn(Ae,vt,Kt);return this._delegate.onAuthStateChanged(Dn,$e,Fe)}onIdTokenChanged(Ae,vt,Kt){const{next:Dn,error:$e,complete:Fe}=Tn(Ae,vt,Kt);return this._delegate.onIdTokenChanged(Dn,$e,Fe)}sendSignInLinkToEmail(Ae,vt){return l.a7(this._delegate,Ae,vt)}sendPasswordResetEmail(Ae,vt){return l.a0(this._delegate,Ae,vt||void 0)}setPersistence(Ae){var vt=this;return(0,w.Z)(function*(){let Kt;switch(function Ii(Ce,ue){Sr(Object.values(yn).includes(ue),Ce,"invalid-persistence-type"),(0,pe.b$)()?Sr(ue!==yn.SESSION,Ce,"unsupported-persistence-type"):(0,pe.UG)()?Sr(ue===yn.NONE,Ce,"unsupported-persistence-type"):Wr()?Sr(ue===yn.NONE||ue===yn.LOCAL&&(0,pe.hl)(),Ce,"unsupported-persistence-type"):Sr(ue===yn.NONE||Zr(),Ce,"unsupported-persistence-type")}(vt._delegate,Ae),Ae){case yn.SESSION:Kt=l.a;break;case yn.LOCAL:Kt=(yield l.az(l.i)._isAvailable())?l.i:l.b;break;case yn.NONE:Kt=l.L;break;default:return l.as("argument-error",{appName:vt._delegate.name})}return vt._delegate.setPersistence(Kt)})()}signInAndRetrieveDataWithCredential(Ae){return this.signInWithCredential(Ae)}signInAnonymously(){return mr(this._delegate,l.X(this._delegate))}signInWithCredential(Ae){return mr(this._delegate,l.Y(this._delegate,Ae))}signInWithCustomToken(Ae){return mr(this._delegate,l.$(this._delegate,Ae))}signInWithEmailAndPassword(Ae,vt){return mr(this._delegate,l.a6(this._delegate,Ae,vt))}signInWithEmailLink(Ae,vt){return mr(this._delegate,l.a9(this._delegate,Ae,vt))}signInWithPhoneNumber(Ae,vt){return hs(this._delegate,l.s(this._delegate,Ae,vt))}signInWithPopup(Ae){var vt=this;return(0,w.Z)(function*(){return on(br(),vt._delegate,"operation-not-supported-in-this-environment"),mr(vt._delegate,l.c(vt._delegate,Ae,Fn))})()}signInWithRedirect(Ae){var vt=this;return(0,w.Z)(function*(){return on(br(),vt._delegate,"operation-not-supported-in-this-environment"),yield ti(vt._delegate),l.f(vt._delegate,Ae,Fn)})()}updateCurrentUser(Ae){return this._delegate.updateCurrentUser(Ae)}verifyPasswordResetCode(Ae){return l.a4(this._delegate,Ae)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ce.Persistence=yn,Ce})();function Tn(Ce,ue,Ae){let vt=Ce;"function"!=typeof Ce&&({next:vt,error:ue,complete:Ae}=Ce);const Kt=vt;return{next:$e=>Kt($e&&gi.getOrCreate($e)),error:ue,complete:Ae}}function Wn(Ce,ue){const Ae=function St(Ce,ue){const Ae=kn();if(!Ae)return[];const vt=l.aA(Fi,Ce,ue);switch(Ae.getItem(vt)){case yn.NONE:return[l.L];case yn.LOCAL:return[l.i,l.a];case yn.SESSION:return[l.a];default:return[]}}(Ce,ue);if(typeof self<"u"&&!Ae.includes(l.i)&&Ae.push(l.i),typeof window<"u")for(const vt of[l.b,l.a])Ae.includes(vt)||Ae.push(vt);return Ae.includes(l.L)||Ae.push(l.L),Ae}class Zt{constructor(){this.providerId="phone",this._delegate=new l.P(jn(M.Z.auth()))}static credential(ue,Ae){return l.P.credential(ue,Ae)}verifyPhoneNumber(ue,Ae){return this._delegate.verifyPhoneNumber(ue,Ae)}unwrap(){return this._delegate}}Zt.PHONE_SIGN_IN_METHOD=l.P.PHONE_SIGN_IN_METHOD,Zt.PROVIDER_ID=l.P.PROVIDER_ID;const Ar=l.ax;class Ue{constructor(ue,Ae,vt=M.Z.app()){var Kt;Ar(null===(Kt=vt.options)||void 0===Kt?void 0:Kt.apiKey,"invalid-api-key",{appName:vt.name}),this._delegate=new l.R(ue,Ae,vt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function je(Ce){Ce.INTERNAL.registerComponent(new Ie.wA("auth-compat",ue=>{const Ae=ue.getProvider("app-compat").getImmediate(),vt=ue.getProvider("auth");return new $t(Ae,vt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:l.A.EMAIL_SIGNIN,PASSWORD_RESET:l.A.PASSWORD_RESET,RECOVER_EMAIL:l.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:l.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:l.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:l.A.VERIFY_EMAIL}},EmailAuthProvider:l.M,FacebookAuthProvider:l.N,GithubAuthProvider:l.T,GoogleAuthProvider:l.Q,OAuthProvider:l.U,SAMLAuthProvider:l.V,PhoneAuthProvider:Zt,PhoneMultiFactorGenerator:l.m,RecaptchaVerifier:Ue,TwitterAuthProvider:l.W,Auth:$t,AuthCredential:l.H,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ce.registerVersion("@firebase/auth-compat","0.3.1")}(M.Z)},8766:(He,be,L)=>{"use strict";L.d(be,{Lj:()=>ct,X3:()=>wt});var w=L(5861);let l,pe;const Ie=new WeakMap,_e=new WeakMap,Ee=new WeakMap,ge=new WeakMap,we=new WeakMap;let Ye={get(ht,Ft,Qt){if(ht instanceof IDBTransaction){if("done"===Ft)return _e.get(ht);if("objectStoreNames"===Ft)return ht.objectStoreNames||Ee.get(ht);if("store"===Ft)return Qt.objectStoreNames[1]?void 0:Qt.objectStore(Qt.objectStoreNames[0])}return ot(ht[Ft])},set:(ht,Ft,Qt)=>(ht[Ft]=Qt,!0),has:(ht,Ft)=>ht instanceof IDBTransaction&&("done"===Ft||"store"===Ft)||Ft in ht};function Ze(ht){return"function"==typeof ht?function lt(ht){return ht!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ht)?function(...Ft){return ht.apply(it(this),Ft),ot(Ie.get(this))}:function(...Ft){return ot(ht.apply(it(this),Ft))}:function(Ft,...Qt){const jt=ht.call(it(this),Ft,...Qt);return Ee.set(jt,Ft.sort?Ft.sort():[Ft]),ot(jt)}}(ht):(ht instanceof IDBTransaction&&function at(ht){if(_e.has(ht))return;const Ft=new Promise((Qt,jt)=>{const Jn=()=>{ht.removeEventListener("complete",vn),ht.removeEventListener("error",mt),ht.removeEventListener("abort",mt)},vn=()=>{Qt(),Jn()},mt=()=>{jt(ht.error||new DOMException("AbortError","AbortError")),Jn()};ht.addEventListener("complete",vn),ht.addEventListener("error",mt),ht.addEventListener("abort",mt)});_e.set(ht,Ft)}(ht),((ht,Ft)=>Ft.some(Qt=>ht instanceof Qt))(ht,function me(){return l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ht,Ye):ht)}function ot(ht){if(ht instanceof IDBRequest)return function Ne(ht){const Ft=new Promise((Qt,jt)=>{const Jn=()=>{ht.removeEventListener("success",vn),ht.removeEventListener("error",mt)},vn=()=>{Qt(ot(ht.result)),Jn()},mt=()=>{jt(ht.error),Jn()};ht.addEventListener("success",vn),ht.addEventListener("error",mt)});return Ft.then(Qt=>{Qt instanceof IDBCursor&&Ie.set(Qt,ht)}).catch(()=>{}),we.set(Ft,ht),Ft}(ht);if(ge.has(ht))return ge.get(ht);const Ft=Ze(ht);return Ft!==ht&&(ge.set(ht,Ft),we.set(Ft,ht)),Ft}const it=ht=>we.get(ht);function wt(ht,Ft,{blocked:Qt,upgrade:jt,blocking:Jn,terminated:vn}={}){const mt=indexedDB.open(ht,Ft),st=ot(mt);return jt&&mt.addEventListener("upgradeneeded",Dt=>{jt(ot(mt.result),Dt.oldVersion,Dt.newVersion,ot(mt.transaction))}),Qt&&mt.addEventListener("blocked",()=>Qt()),st.then(Dt=>{vn&&Dt.addEventListener("close",()=>vn()),Jn&&Dt.addEventListener("versionchange",()=>Jn())}).catch(()=>{}),st}function ct(ht,{blocked:Ft}={}){const Qt=indexedDB.deleteDatabase(ht);return Ft&&Qt.addEventListener("blocked",()=>Ft()),ot(Qt).then(()=>{})}const At=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],Bt=new Map;function ze(ht,Ft){if(!(ht instanceof IDBDatabase)||Ft in ht||"string"!=typeof Ft)return;if(Bt.get(Ft))return Bt.get(Ft);const Qt=Ft.replace(/FromIndex$/,""),jt=Ft!==Qt,Jn=bt.includes(Qt);if(!(Qt in(jt?IDBIndex:IDBObjectStore).prototype)||!Jn&&!At.includes(Qt))return;const vn=function(){var mt=(0,w.Z)(function*(st,...Dt){const Lt=this.transaction(st,Jn?"readwrite":"readonly");let Wt=Lt.store;return jt&&(Wt=Wt.index(Dt.shift())),(yield Promise.all([Wt[Qt](...Dt),Jn&&Lt.done]))[0]});return function(Dt){return mt.apply(this,arguments)}}();return Bt.set(Ft,vn),vn}!function yt(ht){Ye=ht(Ye)}(ht=>({...ht,get:(Ft,Qt,jt)=>ze(Ft,Qt)||ht.get(Ft,Qt,jt),has:(Ft,Qt)=>!!ze(Ft,Qt)||ht.has(Ft,Qt)}))},5861:(He,be,L)=>{"use strict";function w(l,pe,me,Me,Ie,_e,Ee){try{var ge=l[_e](Ee),we=ge.value}catch(Ne){return void me(Ne)}ge.done?pe(we):Promise.resolve(we).then(Me,Ie)}function M(l){return function(){var pe=this,me=arguments;return new Promise(function(Me,Ie){var _e=l.apply(pe,me);function Ee(we){w(_e,Me,Ie,Ee,ge,"next",we)}function ge(we){w(_e,Me,Ie,Ee,ge,"throw",we)}Ee(void 0)})}}L.d(be,{Z:()=>M})}},He=>{var be=w=>He(He.s=w);be(310),be(5806)}]);